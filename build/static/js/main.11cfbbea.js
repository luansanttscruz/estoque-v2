/*! For license information please see main.11cfbbea.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},52:(e,t,n)=>{n.d(t,{KO:()=>J,MF:()=>X,Sx:()=>Q,Wp:()=>Y,j6:()=>H,om:()=>$,xZ:()=>W});var r=n(812),a=n(443),s=n(529),i=n(799);class o{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const l="@firebase/app",c="0.11.4",u=new a.Vy("@firebase/app"),h="@firebase/app-compat",d="@firebase/analytics-compat",f="@firebase/analytics",p="@firebase/app-check-compat",m="@firebase/app-check",g="@firebase/auth",v="@firebase/auth-compat",y="@firebase/database",b="@firebase/data-connect",x="@firebase/database-compat",w="@firebase/functions",E="@firebase/functions-compat",T="@firebase/installations",k="@firebase/installations-compat",S="@firebase/messaging",_="@firebase/messaging-compat",C="@firebase/performance",N="@firebase/performance-compat",A="@firebase/remote-config",I="@firebase/remote-config-compat",R="@firebase/storage",P="@firebase/storage-compat",O="@firebase/firestore",D="@firebase/vertexai",M="@firebase/firestore-compat",j="firebase",L="[DEFAULT]",F={[l]:"fire-core",[h]:"fire-core-compat",[f]:"fire-analytics",[d]:"fire-analytics-compat",[m]:"fire-app-check",[p]:"fire-app-check-compat",[g]:"fire-auth",[v]:"fire-auth-compat",[y]:"fire-rtdb",[b]:"fire-data-connect",[x]:"fire-rtdb-compat",[w]:"fire-fn",[E]:"fire-fn-compat",[T]:"fire-iid",[k]:"fire-iid-compat",[S]:"fire-fcm",[_]:"fire-fcm-compat",[C]:"fire-perf",[N]:"fire-perf-compat",[A]:"fire-rc",[I]:"fire-rc-compat",[R]:"fire-gcs",[P]:"fire-gcs-compat",[O]:"fire-fst",[M]:"fire-fst-compat",[D]:"fire-vertex","fire-js":"fire-js",[j]:"fire-js-all"},U=new Map,V=new Map,B=new Map;function z(e,t){try{e.container.addComponent(t)}catch(Pm){u.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,Pm)}}function $(e){const t=e.name;if(B.has(t))return u.debug(`There were multiple attempts to register component ${t}.`),!1;B.set(t,e);for(const n of U.values())z(n,e);for(const n of V.values())z(n,e);return!0}function H(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function W(e){return null!==e&&void 0!==e&&void 0!==e.settings}const q={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},G=new s.FA("app","Firebase",q);class K{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.uA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw G.create("app-deleted",{appName:this._name})}}const X="11.6.0";function Y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const a=Object.assign({name:L,automaticDataCollectionEnabled:!1},t),i=a.name;if("string"!==typeof i||!i)throw G.create("bad-app-name",{appName:String(i)});if(n||(n=(0,s.T9)()),!n)throw G.create("no-options");const o=U.get(i);if(o){if((0,s.bD)(n,o.options)&&(0,s.bD)(a,o.config))return o;throw G.create("duplicate-app",{appName:i})}const l=new r.h1(i);for(const r of B.values())l.addComponent(r);const c=new K(n,a,l);return U.set(i,c),c}function Q(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L;const t=U.get(e);if(!t&&e===L&&(0,s.T9)())return Y();if(!t)throw G.create("no-app",{appName:e});return t}function J(e,t,n){var a;let s=null!==(a=F[e])&&void 0!==a?a:e;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const e=[`Unable to register library "${s}" with version "${t}":`];return i&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void u.warn(e.join(" "))}$(new r.uA(`${s}-version`,(()=>({library:s,version:t})),"VERSION"))}const Z="firebase-heartbeat-store";let ee=null;function te(){return ee||(ee=(0,i.P2)("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Z)}catch(Pm){console.warn(Pm)}}}).catch((e=>{throw G.create("idb-open",{originalErrorMessage:e.message})}))),ee}async function ne(e,t){try{const n=(await te()).transaction(Z,"readwrite"),r=n.objectStore(Z);await r.put(t,re(e)),await n.done}catch(Pm){if(Pm instanceof s.g)u.warn(Pm.message);else{const t=G.create("idb-set",{originalErrorMessage:null===Pm||void 0===Pm?void 0:Pm.message});u.warn(t.message)}}}function re(e){return`${e.name}!${e.options.appId}`}class ae{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ie(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=se();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(Pm){u.warn(Pm)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=se(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const a of e){const e=n.find((e=>e.agent===a.agent));if(e){if(e.dates.push(a.date),oe(n)>t){e.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),oe(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),a=(0,s.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(Pm){return u.warn(Pm),""}}}function se(){return(new Date).toISOString().substring(0,10)}class ie{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,s.zW)()&&(0,s.eX)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await te()).transaction(Z),n=await t.objectStore(Z).get(re(e));return await t.done,n}catch(Pm){if(Pm instanceof s.g)u.warn(Pm.message);else{const t=G.create("idb-get",{originalErrorMessage:null===Pm||void 0===Pm?void 0:Pm.message});u.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ne(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ne(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function oe(e){return(0,s.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var le;le="",$(new r.uA("platform-logger",(e=>new o(e)),"PRIVATE")),$(new r.uA("heartbeat",(e=>new ae(e)),"PRIVATE")),J(l,c,le),J(l,c,"esm2017"),J("fire-js","")},153:(e,t,n)=>{var r=n(43),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,m(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,E=Object.prototype.hasOwnProperty,T={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var a,s={},i=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)E.call(t,a)&&!k.hasOwnProperty(a)&&(s[a]=t[a]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===s[a]&&(s[a]=l[a]);return{$$typeof:n,type:e,key:i,ref:o,props:s,_owner:T.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,a,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===s?"."+N(l,0):s,w(i)?(a="",null!=e&&(a=e.replace(C,"$&/")+"/"),A(i,t,a,"",(function(e){return e}))):null!=i&&(_(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+e)),t.push(i)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var u=s+N(o=e[c],c);l+=A(o,t,a,u,i)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=A(o=o.value,t,a,u=s+N(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],a=0;return A(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:T};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=a,t.Profiler=i,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),s=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=T.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!k.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:n,type:e.type,key:s,ref:i,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<a&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,O(E);else{var t=r(u);null!==t&&D(w,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,y(_),_=-1),p=!0;var s=f;try{for(x(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!A());){var i=d.callback;if("function"===typeof i){d.callback=null,f=d.priorityLevel;var o=i(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(c)&&a(c),x(n)}else a(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&D(w,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var T,k=!1,S=null,_=-1,C=5,N=-1;function A(){return!(t.unstable_now()-N<C)}function I(){if(null!==S){var e=t.unstable_now();N=e;var n=!0;try{n=S(!0,e)}finally{n?T():(k=!1,S=null)}}else k=!1}if("function"===typeof b)T=function(){b(I)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=I,T=function(){P.postMessage(null)}}else T=function(){v(I,0)};function O(e){S=e,k||(k=!0,T())}function D(e,n){_=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(_),_=-1):g=!0,D(w,s-i))):(e.sortIndex=o,n(c,e),m||p||(m=!0,O(E))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},358:(e,t)=>{const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(Pm){return e}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},443:(e,t,n)=>{n.d(t,{$b:()=>a,Vy:()=>c});const r=[];var a;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(a||(a={}));const s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},i=a.INFO,o={[a.DEBUG]:"log",[a.VERBOSE]:"log",[a.INFO]:"info",[a.WARN]:"warn",[a.ERROR]:"error"},l=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=o[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i];console[r](`[${n}]  ${e.name}:`,...s)};class c{constructor(e){this.name=e,this._logLevel=i,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in a))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,a.DEBUG,...t),this._logHandler(this,a.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,a.VERBOSE,...t),this._logHandler(this,a.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,a.INFO,...t),this._logHandler(this,a.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,a.WARN,...t),this._logHandler(this,a.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,a.ERROR,...t),this._logHandler(this,a.ERROR,...t)}}},529:(e,t,n)=>{n.d(t,{cY:()=>p,FA:()=>C,g:()=>_,dM:()=>S,u:()=>o,Uj:()=>i,p9:()=>z,Fy:()=>m,tD:()=>M,bD:()=>I,hp:()=>D,T9:()=>d,Tj:()=>u,yU:()=>h,XA:()=>f,Ku:()=>$,ZQ:()=>g,sr:()=>b,c1:()=>y,Im:()=>A,lT:()=>w,zW:()=>T,jZ:()=>v,lV:()=>x,nr:()=>E,Am:()=>P,I9:()=>O,eX:()=>k});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=63&a|128):55296===(64512&a)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++r)),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=63&a|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=63&a|128)}return t},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const t=e[a],s=a+1<e.length,i=s?e[a+1]:0,o=a+2<e.length,l=o?e[a+2]:0,c=t>>2,u=(3&t)<<4|i>>4;let h=(15&i)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const s=e[n++];t[r++]=String.fromCharCode((31&a)<<6|63&s)}else if(a>239&&a<365){const s=((7&a)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],i=e[n++];t[r++]=String.fromCharCode((15&a)<<12|(63&s)<<6|63&i)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const t=n[e.charAt(a++)],i=a<e.length?n[e.charAt(a)]:0;++a;const o=a<e.length?n[e.charAt(a)]:64;++a;const l=a<e.length?n[e.charAt(a)]:64;if(++a,null==t||null==i||null==o||null==l)throw new s;const c=t<<2|i>>4;if(r.push(c),64!==o){const e=i<<4&240|o>>2;if(r.push(e),64!==l){const e=o<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class s extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i=function(e){return function(e){const t=r(e);return a.encodeByteArray(t,!0)}(e).replace(/\./g,"")},o=function(e){try{return a.decodeString(e,!0)}catch(Pm){console.error("base64Decode failed: ",Pm)}return null};const l=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,c=()=>{try{return l()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDn6hkVqCHSecXOJQjAVLVff03ZrJf6vUs",REACT_APP_FIREBASE_AUTH_DOMAIN:"estoque-34b5b.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"estoque-34b5b",REACT_APP_FIREBASE_STORAGE_BUCKET:"estoque-34b5b.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"264063633115",REACT_APP_FIREBASE_APP_ID:"1:264063633115:web:fef555193143a80be0aefe",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-W16FF9Z5PS"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Pm){return}const t=e&&o(e[1]);return t&&JSON.parse(t)})()}catch(Pm){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Pm}`)}},u=e=>{var t,n;return null===(n=null===(t=c())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},h=e=>{const t=u(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},d=()=>{var e;return null===(e=c())||void 0===e?void 0:e.config},f=e=>{var t;return null===(t=c())||void 0===t?void 0:t[`_${e}`]};class p{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function m(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[i(JSON.stringify({alg:"none",type:"JWT"})),i(JSON.stringify(s)),""].join(".")}function g(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function v(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function y(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function b(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function x(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function w(){const e=g();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function E(){return!function(){var e;const t=null===(e=c())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Pm){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T(){try{return"object"===typeof indexedDB}catch(Pm){return!1}}function k(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}function S(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class _ extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,_.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,C.prototype.create)}}class C{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],a=r?function(e,t){return e.replace(N,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${a} (${n}).`;return new _(n,s,t)}}const N=/\{\$([^}]+)}/g;function A(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function I(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const n=e[a],s=t[a];if(R(n)&&R(s)){if(!I(n,s))return!1}else if(n!==s)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function R(e){return null!==e&&"object"===typeof e}function P(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function O(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function D(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function M(e,t){const n=new j(e,t);return n.subscribe.bind(n)}class j{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=L),void 0===r.error&&(r.error=L),void 0===r.complete&&(r.complete=L);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(Pm){}})),this.observers.push(r),a}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Pm){"undefined"!==typeof console&&console.error&&console.error(Pm)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function L(){}const F=1e3,U=2,V=144e5,B=.5;function z(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:U;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:F)*Math.pow(t,e),r=Math.round(B*n*(Math.random()-.5)*2);return Math.min(V,n+r)}function $(e){return e&&e._delegate?e._delegate:e}},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),a=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,a,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),C=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var j,L=Object.assign;function F(e){if(void 0===j)try{throw Error()}catch(Fm){var t=Fm.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(Dm){var r=Dm}Reflect.construct(e,[],t)}else{try{t.call()}catch(Dm){r=Dm}e.call(t.prototype)}else{try{throw Error()}catch(Dm){r=Dm}e()}}catch(Dm){if(Dm&&r&&"string"===typeof Dm.stack){for(var a=Dm.stack.split("\n"),s=r.stack.split("\n"),i=a.length-1,o=s.length-1;1<=i&&0<=o&&a[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==s[o]){if(1!==i||1!==o)do{if(i--,0>--o||a[i]!==s[o]){var l="\n"+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case T:return"Fragment";case E:return"Portal";case S:return"Profiler";case k:return"StrictMode";case A:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return z(e(t))}catch(Fm){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(Ja){return e.body}}function X(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Q(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(de).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ee=null,Te=null;function ke(e){if(e=ya(e)){if("function"!==typeof we)throw Error(s(280));var t=e.stateNode;t&&(t=xa(t),we(e.stateNode,e.type,t))}}function Se(e){Ee?Te?Te.push(e):Te=[e]:Ee=e}function _e(){if(Ee){var e=Ee,t=Te;if(Te=Ee=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Ie(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==Ee||null!==Te)&&(Ne(),_e())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=xa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Pe=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(Mm){Pe=!1}function De(e,t,n,r,a,s,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,je=null,Le=!1,Fe=null,Ue={onError:function(e){Me=!0,je=e}};function Ve(e,t,n,r,a,s,i,o,l){Me=!1,je=null,De.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Be(e)!==e)throw Error(s(188))}function He(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return $e(a),e;if(i===r)return $e(a),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var qe=a.unstable_scheduleCallback,Ge=a.unstable_cancelCallback,Ke=a.unstable_shouldYield,Xe=a.unstable_requestPaint,Ye=a.unstable_now,Qe=a.unstable_getCurrentPriorityLevel,Je=a.unstable_ImmediatePriority,Ze=a.unstable_UserBlockingPriority,et=a.unstable_NormalPriority,tt=a.unstable_LowPriority,nt=a.unstable_IdlePriority,rt=null,at=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/ot|0)|0},it=Math.log,ot=Math.LN2;var lt=64,ct=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,i=268435455&n;if(0!==i){var o=i&~a;0!==o?r=ut(o):0!==(s&=i)&&(r=ut(s))}else 0!==(i=n&~a)?r=ut(i):0!==s&&(r=ut(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-st(t)),r|=e[n],t&=~a;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,wt,Et,Tt,kt,St=!1,_t=[],Ct=null,Nt=null,At=null,It=new Map,Rt=new Map,Pt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=ya(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function jt(e){var t=va(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void kt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ya(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){Lt(e)&&n.delete(t)}function Ut(){St=!1,null!==Ct&&Lt(Ct)&&(Ct=null),null!==Nt&&Lt(Nt)&&(Nt=null),null!==At&&Lt(At)&&(At=null),It.forEach(Ft),Rt.forEach(Ft)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return Vt(t,e)}if(0<_t.length){Vt(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Vt(Ct,e),null!==Nt&&Vt(Nt,e),null!==At&&Vt(At,e),It.forEach(t),Rt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)jt(n),null===n.blockedOn&&Pt.shift()}var zt=x.ReactCurrentBatchConfig,$t=!0;function Ht(e,t,n,r){var a=yt,s=zt.transition;zt.transition=null;try{yt=1,qt(e,t,n,r)}finally{yt=a,zt.transition=s}}function Wt(e,t,n,r){var a=yt,s=zt.transition;zt.transition=null;try{yt=4,qt(e,t,n,r)}finally{yt=a,zt.transition=s}}function qt(e,t,n,r){if($t){var a=Kt(e,t,n,r);if(null===a)$r(e,t,r,Gt,n),Dt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,a),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,a),!0;case"mouseover":return At=Mt(At,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return It.set(s,Mt(It.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Rt.set(s,Mt(Rt.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==a;){var s=ya(a);if(null!==s&&xt(s),null===(s=Kt(e,t,n,r))&&$r(e,t,r,Gt,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else $r(e,t,r,null,n)}}var Gt=null;function Kt(e,t,n,r){if(Gt=null,null!==(e=va(e=xe(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Je:return 1;case Ze:return 4;case et:case tt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Yt=null,Qt=null,Jt=null;function Zt(){if(Jt)return Jt;var e,t,n=Qt,r=n.length,a="value"in Yt?Yt.value:Yt.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[s-t];t++);return Jt=a.slice(e,1<t?1-t:void 0)}function en(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function tn(){return!0}function nn(){return!1}function rn(e){function t(t,n,r,a,s){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?tn:nn,this.isPropagationStopped=nn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tn)},persist:function(){},isPersistent:tn}),t}var an,sn,on,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=rn(ln),un=L({},ln,{view:0,detail:0}),hn=rn(un),dn=L({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(an=e.screenX-on.screenX,sn=e.screenY-on.screenY):sn=an=0,on=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=rn(dn),pn=rn(L({},dn,{dataTransfer:0})),mn=rn(L({},un,{relatedTarget:0})),gn=rn(L({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=rn(vn),bn=rn(L({},ln,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function kn(){return Tn}var Sn=L({},un,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=en(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?en(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?en(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=rn(Sn),Cn=rn(L({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=rn(L({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),An=rn(L({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=L({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=rn(In),Pn=[9,13,27,32],On=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var Mn=u&&"TextEvent"in window&&!Dn,jn=u&&(!On||Dn&&8<Dn&&11>=Dn),Ln=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Hn(e,t,n,r){Se(r),0<(t=Wr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,qn=null;function Gn(e){Lr(e,0)}function Kn(e){if(G(ba(e)))return e}function Xn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Qn;if(u){var Jn="oninput"in document;if(!Jn){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Jn="function"===typeof Zn.oninput}Qn=Jn}else Qn=!1;Yn=Qn&&(!document.documentMode||9<document.documentMode)}function er(){Wn&&(Wn.detachEvent("onpropertychange",tr),qn=Wn=null)}function tr(e){if("value"===e.propertyName&&Kn(qn)){var t=[];Hn(t,qn,e,xe(e)),Ie(Gn,t)}}function nr(e,t,n){"focusin"===e?(er(),qn=n,(Wn=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(qn)}function ar(e,t){if("click"===e)return Kn(t)}function sr(e,t){if("input"===e||"change"===e)return Kn(t)}var ir="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ir(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!h.call(t,a)||!ir(e[a],t[a]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(zm){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=void 0===r.end?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=cr(n,s);var i=cr(n,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,vr=null,yr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==mr||mr!==K(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&or(vr,r)||(vr=r,0<(r=Wr(gr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Er={},Tr={};function kr(e){if(Er[e])return Er[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tr)return Er[e]=n[t];return e}u&&(Tr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Sr=kr("animationend"),_r=kr("animationiteration"),Cr=kr("animationstart"),Nr=kr("transitionend"),Ar=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ar.set(e,t),l(t,[e])}for(var Pr=0;Pr<Ir.length;Pr++){var Or=Ir[Pr];Rr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Rr(Sr,"onAnimationEnd"),Rr(_r,"onAnimationIteration"),Rr(Cr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,o,l,c){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(s(198));var u=je;Me=!1,je=null,Le||(Le=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Lr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;jr(a,o,c),s=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;jr(a,o,c),s=l}}}if(Le)throw e=Fe,Le=!1,Fe=null,e}function Fr(e,t){var n=t[pa];void 0===n&&(n=t[pa]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,i.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Ur("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Xt(t)){case 1:var a=Ht;break;case 4:a=Wt;break;default:a=qt}n=a.bind(null,t,n,e),a=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function $r(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;i=i.return}for(;null!==o;){if(null===(i=va(o)))return;if(5===(l=i.tag)||6===l){r=s=i;continue e}o=o.parentNode}}r=r.return}Ie((function(){var r=s,a=xe(n),i=[];e:{var o=Ar.get(e);if(void 0!==o){var l=cn,c=e;switch(e){case"keypress":if(0===en(n))break e;case"keydown":case"keyup":l=_n;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case Sr:case _r:case Cr:l=gn;break;case Nr:l=An;break;case"scroll":l=hn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Re(p,d))&&u.push(Hr(p,m,f)))),h)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,a),i.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!va(c)&&!c[fa])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?va(c):null)&&(c!==(h=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:ba(l),f=null==c?o:ba(c),(o=new u(m,p+"leave",l,n,a)).target=h,o.relatedTarget=f,m=null,va(a)===r&&((u=new u(d,p+"enter",c,n,a)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=qr(f))p++;for(f=0,m=d;m;m=qr(m))f++;for(;0<p-f;)u=qr(u),p--;for(;0<f-p;)d=qr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=qr(u),d=qr(d)}u=null}else u=null;null!==l&&Gr(i,o,l,u,!1),null!==c&&null!==h&&Gr(i,h,c,u,!0)}if("select"===(l=(o=r?ba(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Xn;else if($n(o))if(Yn)g=sr;else{g=rr;var v=nr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ar);switch(g&&(g=g(e,r))?Hn(i,g,n,a):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?ba(r):window,e){case"focusin":($n(v)||"true"===v.contentEditable)&&(mr=v,gr=r,vr=null);break;case"focusout":vr=gr=mr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,br(i,n,a);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(i,n,a)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=Zt()):(Qt="value"in(Yt=a)?Yt.value:Yt.textContent,Bn=!0)),0<(v=Wr(r,b)).length&&(b=new bn(b,e,null,n,a),i.push({event:b,listeners:v}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Ln);case"textInput":return(e=t.data)===Ln&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&Un(e,t)?(e=Zt(),Jt=Qt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(a=new bn("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=y))}Lr(i,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Re(e,n))&&r.unshift(Hr(e,s,a)),null!=(s=Re(e,t))&&r.push(Hr(e,s,a))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,a){for(var s=t._reactName,i=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,a?null!=(l=Re(n,s))&&i.unshift(Hr(n,l,o)):a||null!=(l=Re(n,s))&&i.push(Hr(n,l,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Kr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Xr,"")}function Qr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(s(425))}function Jr(){}var Zr=null,ea=null;function ta(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var na="function"===typeof setTimeout?setTimeout:void 0,ra="function"===typeof clearTimeout?clearTimeout:void 0,aa="function"===typeof Promise?Promise:void 0,sa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof aa?function(e){return aa.resolve(null).then(e).catch(ia)}:na;function ia(e){setTimeout((function(){throw e}))}function oa(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Bt(t)}function la(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ca(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ua=Math.random().toString(36).slice(2),ha="__reactFiber$"+ua,da="__reactProps$"+ua,fa="__reactContainer$"+ua,pa="__reactEvents$"+ua,ma="__reactListeners$"+ua,ga="__reactHandles$"+ua;function va(e){var t=e[ha];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fa]||n[ha]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ca(e);null!==e;){if(n=e[ha])return n;e=ca(e)}return t}n=(e=n).parentNode}return null}function ya(e){return!(e=e[ha]||e[fa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ba(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function xa(e){return e[da]||null}var wa=[],Ea=-1;function Ta(e){return{current:e}}function ka(e){0>Ea||(e.current=wa[Ea],wa[Ea]=null,Ea--)}function Sa(e,t){Ea++,wa[Ea]=e.current,e.current=t}var _a={},Ca=Ta(_a),Na=Ta(!1),Aa=_a;function Ia(e,t){var n=e.type.contextTypes;if(!n)return _a;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in n)s[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ra(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pa(){ka(Na),ka(Ca)}function Oa(e,t,n){if(Ca.current!==_a)throw Error(s(168));Sa(Ca,t),Sa(Na,n)}function Da(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(s(108,$(e)||"Unknown",a));return L({},n,r)}function Ma(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_a,Aa=Ca.current,Sa(Ca,e),Sa(Na,Na.current),!0}function ja(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Da(e,t,Aa),r.__reactInternalMemoizedMergedChildContext=e,ka(Na),ka(Ca),Sa(Ca,e)):ka(Na),Sa(Na,n)}var La=null,Fa=!1,Ua=!1;function Va(e){null===La?La=[e]:La.push(e)}function Ba(){if(!Ua&&null!==La){Ua=!0;var e=0,t=yt;try{var n=La;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}La=null,Fa=!1}catch(Pm){throw null!==La&&(La=La.slice(e+1)),qe(Je,Ba),Pm}finally{yt=t,Ua=!1}}return null}var za=[],$a=0,Ha=null,Wa=0,qa=[],Ga=0,Ka=null,Xa=1,Ya="";function Qa(e,t){za[$a++]=Wa,za[$a++]=Ha,Ha=e,Wa=t}function Za(e,t,n){qa[Ga++]=Xa,qa[Ga++]=Ya,qa[Ga++]=Ka,Ka=e;var r=Xa;e=Ya;var a=32-st(r)-1;r&=~(1<<a),n+=1;var s=32-st(t)+a;if(30<s){var i=a-a%5;s=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Xa=1<<32-st(t)+a|n<<a|r,Ya=s+e}else Xa=1<<s|n<<a|r,Ya=e}function es(e){null!==e.return&&(Qa(e,1),Za(e,1,0))}function ts(e){for(;e===Ha;)Ha=za[--$a],za[$a]=null,Wa=za[--$a],za[$a]=null;for(;e===Ka;)Ka=qa[--Ga],qa[Ga]=null,Ya=qa[--Ga],qa[Ga]=null,Xa=qa[--Ga],qa[Ga]=null}var ns=null,rs=null,as=!1,ss=null;function is(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=la(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ka?{id:Xa,overflow:Ya}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(as){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=la(n.nextSibling);var r=ns;t&&os(e,t)?is(r,n):(e.flags=-4097&e.flags|2,as=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,as=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!as)return us(e),as=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ta(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)is(e,t),t=la(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=la(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?la(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=la(e.nextSibling)}function fs(){rs=ns=null,as=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=x.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var a=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===T?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&ys(s)===t.type)?((r=a(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=jc(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case E:return(t=Uc(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=jc(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,r):null;case E:return n.key===a?u(e,t,n,r):null;case P:return f(e,t,(a=n._init)(n._payload),r)}if(te(n)||M(n))return null!==a?null:h(e,t,n,r,null);vs(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case P:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||M(r))return h(t,e=e.get(n)||null,r,a,null);vs(t,r)}return null}function m(a,s,o,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(a,h,o[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(a,h),s=i(v,s,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===o.length)return n(a,h),as&&Qa(a,m),c;if(null===h){for(;m<o.length;m++)null!==(h=d(a,o[m],l))&&(s=i(h,s,m),null===u?c=h:u.sibling=h,u=h);return as&&Qa(a,m),c}for(h=r(a,h);m<o.length;m++)null!==(g=p(h,a,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=i(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(a,e)})),as&&Qa(a,m),c}function g(a,o,l,c){var u=M(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(a,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(a,m),o=i(b,o,g),null===h?u=b:h.sibling=b,h=b,m=v}if(y.done)return n(a,m),as&&Qa(a,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(a,y.value,c))&&(o=i(y,o,g),null===h?u=y:h.sibling=y,h=y);return as&&Qa(a,g),u}for(m=r(a,m);!y.done;g++,y=l.next())null!==(y=p(m,a,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=i(y,o,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(a,e)})),as&&Qa(a,g),u}return function e(r,s,i,l){if("object"===typeof i&&null!==i&&i.type===T&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case w:e:{for(var c=i.key,u=s;null!==u;){if(u.key===c){if((c=i.type)===T){if(7===u.tag){n(r,u.sibling),(s=a(u,i.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&ys(c)===u.type){n(r,u.sibling),(s=a(u,i.props)).ref=gs(r,u,i),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}i.type===T?((s=jc(i.props.children,r.mode,l,i.key)).return=r,r=s):((l=Mc(i.type,i.key,i.props,null,r.mode,l)).ref=gs(r,s,i),l.return=r,r=l)}return o(r);case E:e:{for(u=i.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===i.containerInfo&&s.stateNode.implementation===i.implementation){n(r,s.sibling),(s=a(s,i.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Uc(i,r.mode,l)).return=r,r=s}return o(r);case P:return e(r,s,(u=i._init)(i._payload),l)}if(te(i))return m(r,s,i,l);if(M(i))return g(r,s,i,l);vs(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==s&&6===s.tag?(n(r,s.sibling),(s=a(s,i)).return=r,r=s):(n(r,s),(s=Fc(i,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var xs=bs(!0),ws=bs(!1),Es=Ta(null),Ts=null,ks=null,Ss=null;function _s(){Ss=ks=Ts=null}function Cs(e){var t=Es.current;ka(Es),e._currentValue=t}function Ns(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Is(e,t){Ts=e,Ss=ks=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xo=!0),e.firstContext=null)}function Rs(e){var t=e._currentValue;if(Ss!==e)if(e={context:e,memoizedValue:t,next:null},null===ks){if(null===Ts)throw Error(s(308));ks=e,Ts.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var Ps=null;function Os(e){null===Ps?Ps=[e]:Ps.push(e)}function Ds(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Os(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ms(e,r)}function Ms(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var js=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Us(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Al)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ms(e,n)}return null===(a=r.interleaved)?(t.next=t,Os(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ms(e,n)}function Bs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function zs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?a=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $s(e,t,n,r){var a=e.updateQueue;js=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=a.baseState;for(i=0,u=c=l=null,o=s;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=L({},h,d);break e;case 2:js=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=a.effects)?a.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,i|=d;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(d=o).next,d.next=null,a.lastBaseUpdate=d,a.shared.pending=null}}if(null===u&&(l=h),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Ll|=i,e.lanes=i,e.memoizedState=h}}function Hs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(s(191,a));a.call(r)}}}var Ws={},qs=Ta(Ws),Gs=Ta(Ws),Ks=Ta(Ws);function Xs(e){if(e===Ws)throw Error(s(174));return e}function Ys(e,t){switch(Sa(Ks,t),Sa(Gs,e),Sa(qs,Ws),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ka(qs),Sa(qs,t)}function Qs(){ka(qs),ka(Gs),ka(Ks)}function Js(e){Xs(Ks.current);var t=Xs(qs.current),n=le(t,e.type);t!==n&&(Sa(Gs,e),Sa(qs,n))}function Zs(e){Gs.current===e&&(ka(qs),ka(Gs))}var ei=Ta(0);function ti(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ni=[];function ri(){for(var e=0;e<ni.length;e++)ni[e]._workInProgressVersionPrimary=null;ni.length=0}var ai=x.ReactCurrentDispatcher,si=x.ReactCurrentBatchConfig,ii=0,oi=null,li=null,ci=null,ui=!1,hi=!1,di=0,fi=0;function pi(){throw Error(s(321))}function mi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function gi(e,t,n,r,a,i){if(ii=i,oi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ai.current=null===e||null===e.memoizedState?Zi:eo,e=n(r,a),hi){i=0;do{if(hi=!1,di=0,25<=i)throw Error(s(301));i+=1,ci=li=null,t.updateQueue=null,ai.current=to,e=n(r,a)}while(hi)}if(ai.current=Ji,t=null!==li&&null!==li.next,ii=0,ci=li=oi=null,ui=!1,t)throw Error(s(300));return e}function vi(){var e=0!==di;return di=0,e}function yi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ci?oi.memoizedState=ci=e:ci=ci.next=e,ci}function bi(){if(null===li){var e=oi.alternate;e=null!==e?e.memoizedState:null}else e=li.next;var t=null===ci?oi.memoizedState:ci.next;if(null!==t)ci=t,li=e;else{if(null===e)throw Error(s(310));e={memoizedState:(li=e).memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},null===ci?oi.memoizedState=ci=e:ci=ci.next=e}return ci}function xi(e,t){return"function"===typeof t?t(e):t}function wi(e){var t=bi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=li,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,r=r.baseState;var l=o=null,c=null,u=i;do{var h=u.lane;if((ii&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,o=r):c=c.next=d,oi.lanes|=h,Ll|=h}u=u.next}while(null!==u&&u!==i);null===c?o=r:c.next=l,ir(r,t.memoizedState)||(xo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,oi.lanes|=i,Ll|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ei(e){var t=bi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);ir(i,t.memoizedState)||(xo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ti(){}function ki(e,t){var n=oi,r=bi(),a=t(),i=!ir(r.memoizedState,a);if(i&&(r.memoizedState=a,xo=!0),r=r.queue,ji(Ci.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==ci&&1&ci.memoizedState.tag){if(n.flags|=2048,Ri(9,_i.bind(null,n,r,a,t),void 0,null),null===Il)throw Error(s(349));0!==(30&ii)||Si(n,t,a)}return a}function Si(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oi.updateQueue)?(t={lastEffect:null,stores:null},oi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _i(e,t,n,r){t.value=n,t.getSnapshot=r,Ni(t)&&Ai(e)}function Ci(e,t,n){return n((function(){Ni(t)&&Ai(e)}))}function Ni(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ir(e,n)}catch(zm){return!0}}function Ai(e){var t=Ms(e,1);null!==t&&rc(t,e,1,-1)}function Ii(e){var t=yi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:e},t.queue=e,e=e.dispatch=Ki.bind(null,oi,e),[t.memoizedState,e]}function Ri(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oi.updateQueue)?(t={lastEffect:null,stores:null},oi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Pi(){return bi().memoizedState}function Oi(e,t,n,r){var a=yi();oi.flags|=e,a.memoizedState=Ri(1|t,n,void 0,void 0===r?null:r)}function Di(e,t,n,r){var a=bi();r=void 0===r?null:r;var s=void 0;if(null!==li){var i=li.memoizedState;if(s=i.destroy,null!==r&&mi(r,i.deps))return void(a.memoizedState=Ri(t,n,s,r))}oi.flags|=e,a.memoizedState=Ri(1|t,n,s,r)}function Mi(e,t){return Oi(8390656,8,e,t)}function ji(e,t){return Di(2048,8,e,t)}function Li(e,t){return Di(4,2,e,t)}function Fi(e,t){return Di(4,4,e,t)}function Ui(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Di(4,4,Ui.bind(null,t,e),n)}function Bi(){}function zi(e,t){var n=bi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $i(e,t){var n=bi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hi(e,t,n){return 0===(21&ii)?(e.baseState&&(e.baseState=!1,xo=!0),e.memoizedState=n):(ir(n,t)||(n=pt(),oi.lanes|=n,Ll|=n,e.baseState=!0),t)}function Wi(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=si.transition;si.transition={};try{e(!1),t()}finally{yt=n,si.transition=r}}function qi(){return bi().memoizedState}function Gi(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xi(e))Yi(t,n);else if(null!==(n=Ds(e,t,n,r))){rc(n,e,r,tc()),Qi(n,t,r)}}function Ki(e,t,n){var r=nc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xi(e))Yi(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,n);if(a.hasEagerState=!0,a.eagerState=o,ir(o,i)){var l=t.interleaved;return null===l?(a.next=a,Os(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(Dm){}null!==(n=Ds(e,t,a,r))&&(rc(n,e,r,a=tc()),Qi(n,t,r))}}function Xi(e){var t=e.alternate;return e===oi||null!==t&&t===oi}function Yi(e,t){hi=ui=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qi(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Ji={readContext:Rs,useCallback:pi,useContext:pi,useEffect:pi,useImperativeHandle:pi,useInsertionEffect:pi,useLayoutEffect:pi,useMemo:pi,useReducer:pi,useRef:pi,useState:pi,useDebugValue:pi,useDeferredValue:pi,useTransition:pi,useMutableSource:pi,useSyncExternalStore:pi,useId:pi,unstable_isNewReconciler:!1},Zi={readContext:Rs,useCallback:function(e,t){return yi().memoizedState=[e,void 0===t?null:t],e},useContext:Rs,useEffect:Mi,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oi(4194308,4,Ui.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oi(4,2,e,t)},useMemo:function(e,t){var n=yi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gi.bind(null,oi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yi().memoizedState=e},useState:Ii,useDebugValue:Bi,useDeferredValue:function(e){return yi().memoizedState=e},useTransition:function(){var e=Ii(!1),t=e[0];return e=Wi.bind(null,e[1]),yi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oi,a=yi();if(as){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Il)throw Error(s(349));0!==(30&ii)||Si(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Mi(Ci.bind(null,r,i,e),[e]),r.flags|=2048,Ri(9,_i.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=yi(),t=Il.identifierPrefix;if(as){var n=Ya;t=":"+t+"R"+(n=(Xa&~(1<<32-st(Xa)-1)).toString(32)+n),0<(n=di++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eo={readContext:Rs,useCallback:zi,useContext:Rs,useEffect:ji,useImperativeHandle:Vi,useInsertionEffect:Li,useLayoutEffect:Fi,useMemo:$i,useReducer:wi,useRef:Pi,useState:function(){return wi(xi)},useDebugValue:Bi,useDeferredValue:function(e){return Hi(bi(),li.memoizedState,e)},useTransition:function(){return[wi(xi)[0],bi().memoizedState]},useMutableSource:Ti,useSyncExternalStore:ki,useId:qi,unstable_isNewReconciler:!1},to={readContext:Rs,useCallback:zi,useContext:Rs,useEffect:ji,useImperativeHandle:Vi,useInsertionEffect:Li,useLayoutEffect:Fi,useMemo:$i,useReducer:Ei,useRef:Pi,useState:function(){return Ei(xi)},useDebugValue:Bi,useDeferredValue:function(e){var t=bi();return null===li?t.memoizedState=e:Hi(t,li.memoizedState,e)},useTransition:function(){return[Ei(xi)[0],bi().memoizedState]},useMutableSource:Ti,useSyncExternalStore:ki,useId:qi,unstable_isNewReconciler:!1};function no(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ro(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ao={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),a=nc(e),s=Us(r,a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Vs(e,s,a))&&(rc(t,e,a,r),Bs(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),a=nc(e),s=Us(r,a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Vs(e,s,a))&&(rc(t,e,a,r),Bs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),a=Us(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Vs(e,a,r))&&(rc(t,e,r,n),Bs(t,e,r))}};function so(e,t,n,r,a,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(a,s))}function io(e,t,n){var r=!1,a=_a,s=t.contextType;return"object"===typeof s&&null!==s?s=Rs(s):(a=Ra(t)?Aa:Ca.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ia(e,a):_a),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ao,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function oo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ao.enqueueReplaceState(t,t.state,null)}function lo(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=Rs(s):(s=Ra(t)?Aa:Ca.current,a.context=Ia(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ro(e,t,s,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ao.enqueueReplaceState(a,a.state,null),$s(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function co(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var a=n}catch($m){a="\nError generating stack: "+$m.message+"\n"+$m.stack}return{value:e,source:t,stack:a,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(Fm){setTimeout((function(){throw Fm}))}}var fo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Us(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,ql=r),ho(0,t)},n}function mo(e,t,n){(n=Us(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ho(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function go(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fo;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function vo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Us(-1,1)).tag=2,Vs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bo=x.ReactCurrentOwner,xo=!1;function wo(e,t,n,r){t.child=null===e?ws(t,null,n,r):xs(t,e.child,n,r)}function Eo(e,t,n,r,a){n=n.render;var s=t.ref;return Is(t,a),r=gi(e,t,n,r,s,a),n=vi(),null===e||xo?(as&&n&&es(t),t.flags|=1,wo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Wo(e,t,a))}function To(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||Oc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ko(e,t,s,r,a))}if(s=e.child,0===(e.lanes&a)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:or)(i,r)&&e.ref===t.ref)return Wo(e,t,a)}return t.flags|=1,(e=Dc(s,r)).ref=t.ref,e.return=t,t.child=e}function ko(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(or(s,r)&&e.ref===t.ref){if(xo=!1,t.pendingProps=r=s,0===(e.lanes&a))return t.lanes=e.lanes,Wo(e,t,a);0!==(131072&e.flags)&&(xo=!0)}}return Co(e,t,n,r,a)}function So(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sa(Dl,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Sa(Dl,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Sa(Dl,Ol),Ol|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Sa(Dl,Ol),Ol|=r;return wo(e,t,a,n),t.child}function _o(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,r,a){var s=Ra(n)?Aa:Ca.current;return s=Ia(t,s),Is(t,a),n=gi(e,t,n,r,s,a),r=vi(),null===e||xo?(as&&r&&es(t),t.flags|=1,wo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Wo(e,t,a))}function No(e,t,n,r,a){if(Ra(n)){var s=!0;Ma(t)}else s=!1;if(Is(t,a),null===t.stateNode)Ho(e,t),io(t,n,r),lo(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=Rs(c):c=Ia(t,c=Ra(n)?Aa:Ca.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate;h||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==r||l!==c)&&oo(t,i,r,c),js=!1;var d=t.memoizedState;i.state=d,$s(t,r,i,a),l=t.memoizedState,o!==r||d!==l||Na.current||js?("function"===typeof u&&(ro(t,n,u,r),l=t.memoizedState),(o=js||so(t,n,o,r,d,l,c))?(h||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Fs(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:no(t.type,o),i.props=c,h=t.pendingProps,d=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=Rs(l):l=Ia(t,l=Ra(n)?Aa:Ca.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==h||d!==l)&&oo(t,i,r,l),js=!1,d=t.memoizedState,i.state=d,$s(t,r,i,a);var p=t.memoizedState;o!==h||d!==p||Na.current||js?("function"===typeof f&&(ro(t,n,f,r),p=t.memoizedState),(c=js||so(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ao(e,t,n,r,s,a)}function Ao(e,t,n,r,a,s){_o(e,t);var i=0!==(128&t.flags);if(!r&&!i)return a&&ja(t,n,!1),Wo(e,t,s);r=t.stateNode,bo.current=t;var o=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=xs(t,e.child,null,s),t.child=xs(t,null,o,s)):wo(e,t,o,s),t.memoizedState=r.state,a&&ja(t,n,!0),t.child}function Io(e){var t=e.stateNode;t.pendingContext?Oa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oa(0,t.context,!1),Ys(e,t.containerInfo)}function Ro(e,t,n,r,a){return fs(),ps(a),t.flags|=256,wo(e,t,n,r),t.child}var Po,Oo,Do,Mo,jo={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fo(e,t,n){var r,a=t.pendingProps,i=ei.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Sa(ei,1&i),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Lc(l,a,0,null),e=jc(e,a,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=jo,e):Uo(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,a,i,o){if(n)return 256&t.flags?(t.flags&=-257,Vo(e,t,o,r=uo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Lc({mode:"visible",children:r.children},a,0,null),(i=jc(i,a,o,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&xs(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=jo,i);if(0===(1&t.mode))return Vo(e,t,o,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Vo(e,t,o,r=uo(i=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),xo||l){if(null!==(r=Il)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|o))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Ms(e,a),rc(r,e,a,-1))}return gc(),Vo(e,t,o,r=uo(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,rs=la(a.nextSibling),ns=t,as=!0,ss=null,null!==e&&(qa[Ga++]=Xa,qa[Ga++]=Ya,qa[Ga++]=Ka,Xa=e.id,Ya=e.overflow,Ka=t),t=Uo(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,i,n);if(o){o=a.fallback,l=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Dc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?o=Dc(r,o):(o=jc(o,l,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=null===(l=e.child.memoizedState)?Lo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=jo,a}return e=(o=e.child).sibling,a=Dc(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Uo(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vo(e,t,n,r){return null!==r&&ps(r),xs(t,e.child,null,n),(e=Uo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ns(e.return,t,n)}function zo(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function $o(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(wo(e,t,r.children,n),0!==(2&(r=ei.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bo(e,n,t);else if(19===e.tag)Bo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Sa(ei,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ti(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),zo(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ti(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}zo(t,!0,n,null,s);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qo(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Go(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ko(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Go(t),null;case 1:case 17:return Ra(t.type)&&Pa(),Go(t),null;case 3:return r=t.stateNode,Qs(),ka(Na),ka(Ca),ri(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),Oo(e,t),Go(t),null;case 5:Zs(t);var a=Xs(Ks.current);if(n=t.type,null!==e&&null!=t.stateNode)Do(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Go(t),null}if(e=Xs(qs.current),hs(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ha]=t,r[da]=i,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(a=0;a<Dr.length;a++)Fr(Dr[a],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Y(r,i),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Fr("invalid",r);break;case"textarea":ae(r,i),Fr("invalid",r)}for(var l in ve(n,i),a=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Qr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Qr(r.textContent,c,e),a=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":q(r),Z(r,i,!0);break;case"textarea":q(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Jr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ha]=t,e[da]=r,Po(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),a=r;break;case"iframe":case"object":case"embed":Fr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Dr.length;a++)Fr(Dr[a],e);a=r;break;case"source":Fr("error",e),a=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),a=r;break;case"details":Fr("toggle",e),a=r;break;case"input":Y(e,r),a=X(e,r),Fr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=L({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Fr("invalid",e)}for(i in ve(n,a),c=a)if(c.hasOwnProperty(i)){var u=c[i];"style"===i?me(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&ue(e,u):"children"===i?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=u&&"onScroll"===i&&Fr("scroll",e):null!=u&&b(e,i,u,l))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Go(t),null;case 6:if(e&&null!=t.stateNode)Mo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Xs(Ks.current),Xs(qs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[ha]=t,(i=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ha]=t,t.stateNode=r}return Go(t),null;case 13:if(ka(ei),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,i=!1;else if(i=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[ha]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Go(t),i=!1}else null!==ss&&(oc(ss),ss=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ei.current)?0===Ml&&(Ml=3):gc())),null!==t.updateQueue&&(t.flags|=4),Go(t),null);case 4:return Qs(),Oo(e,t),null===e&&Br(t.stateNode.containerInfo),Go(t),null;case 10:return Cs(t.type._context),Go(t),null;case 19:if(ka(ei),null===(i=t.memoizedState))return Go(t),null;if(r=0!==(128&t.flags),null===(l=i.rendering))if(r)qo(i,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ti(e))){for(t.flags|=128,qo(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Sa(ei,1&ei.current|2),t.child}e=e.sibling}null!==i.tail&&Ye()>$l&&(t.flags|=128,r=!0,qo(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ti(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qo(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!as)return Go(t),null}else 2*Ye()-i.renderingStartTime>$l&&1073741824!==n&&(t.flags|=128,r=!0,qo(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ye(),t.sibling=null,n=ei.current,Sa(ei,r?1&n|2:1&n),t):(Go(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Go(t),6&t.subtreeFlags&&(t.flags|=8192)):Go(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Xo(e,t){switch(ts(t),t.tag){case 1:return Ra(t.type)&&Pa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qs(),ka(Na),ka(Ca),ri(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zs(t),null;case 13:if(ka(ei),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ka(ei),null;case 4:return Qs(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Po=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oo=function(){},Do=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Xs(qs.current);var s,i=null;switch(n){case"input":a=X(e,a),r=X(e,r),i=[];break;case"select":a=L({},a,{value:void 0}),r=L({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(u in ve(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},Mo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yo=!1,Qo=!1,Jo="function"===typeof WeakSet?WeakSet:Set,Zo=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(zm){Sc(e,t,zm)}else n.current=null}function tl(e,t,n){try{n()}catch(zm){Sc(e,t,zm)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&tl(t,n,s)}a=a.next}while(a!==r)}}function al(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[da],delete t[pa],delete t[ma],delete t[ga])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var hl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(rt,n)}catch(Wm){}switch(n.tag){case 5:Qo||el(n,t);case 6:var r=hl,a=dl;hl=null,fl(e,t,n),dl=a,null!==(hl=r)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?oa(e.parentNode,n):1===e.nodeType&&oa(e,n),Bt(e)):oa(hl,n.stateNode));break;case 4:r=hl,a=dl,hl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),hl=r,dl=a;break;case 0:case 11:case 14:case 15:if(!Qo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var s=a,i=s.destroy;s=s.tag,void 0!==i&&(0!==(2&s)||0!==(4&s))&&tl(n,t,i),a=a.next}while(a!==r)}fl(e,t,n);break;case 1:if(!Qo&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(Wm){Sc(n,t,Wm)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Qo=(r=Qo)||null!==n.memoizedState,fl(e,t,n),Qo=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jo),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(s(160));pl(i,o,a),hl=null,dl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(Dm){Sc(a,t,Dm)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),al(3,e)}catch(Om){Sc(e,e.return,Om)}try{rl(5,e,e.return)}catch(Om){Sc(e,e.return,Om)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(Om){Sc(e,e.return,Om)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,o=null!==n?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&Q(a,i),ye(l,o);var u=ye(l,i);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];"style"===h?me(a,d):"dangerouslySetInnerHTML"===h?ue(a,d):"children"===h?he(a,d):b(a,h,d,u)}switch(l){case"input":J(a,i);break;case"textarea":se(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?ne(a,!!i.multiple,p,!1):f!==!!i.multiple&&(null!=i.defaultValue?ne(a,!!i.multiple,i.defaultValue,!0):ne(a,!!i.multiple,i.multiple?[]:"",!1))}a[da]=i}catch(Om){Sc(e,e.return,Om)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(Om){Sc(e,e.return,Om)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(Om){Sc(e,e.return,Om)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(zl=Ye())),4&r&&ml(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Qo=(u=Qo)||h,gl(t,e),Qo=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Zo=e,h=e.child;null!==h;){for(d=Zo=h;null!==Zo;){switch(p=(f=Zo).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(Om){Sc(r,n,Om)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){El(d);continue}}null!==p?(p.return=f,Zo=p):El(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{a=d.stateNode,u?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=d.stateNode,o=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",o))}catch(Om){Sc(e,e.return,Om)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(Om){Sc(e,e.return,Om)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(he(a,""),r.flags&=-33),ul(e,ll(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;cl(e,ll(e),i);break;default:throw Error(s(161))}}catch(o){Sc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Zo=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==Zo;){var a=Zo,s=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||Yo;if(!i){var o=a.alternate,l=null!==o&&null!==o.memoizedState||Qo;o=Yo;var c=Qo;if(Yo=i,(Qo=l)&&!c)for(Zo=a;null!==Zo;)l=(i=Zo).child,22===i.tag&&null!==i.memoizedState?Tl(a):null!==l?(l.return=i,Zo=l):Tl(a);for(;null!==s;)Zo=s,xl(s,t,n),s=s.sibling;Zo=a,Yo=o,Qo=c}wl(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Zo=s):wl(e)}}function wl(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qo||al(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qo)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:no(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Hs(t,i,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(s(163))}Qo||512&t.flags&&sl(t)}catch(f){Sc(t,t.return,f)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function El(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function Tl(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{al(4,t)}catch(l){Sc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){Sc(t,a,l)}}var s=t.return;try{sl(t)}catch(l){Sc(t,s,l)}break;case 5:var i=t.return;try{sl(t)}catch(l){Sc(t,i,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var kl,Sl=Math.ceil,_l=x.ReactCurrentDispatcher,Cl=x.ReactCurrentOwner,Nl=x.ReactCurrentBatchConfig,Al=0,Il=null,Rl=null,Pl=0,Ol=0,Dl=Ta(0),Ml=0,jl=null,Ll=0,Fl=0,Ul=0,Vl=null,Bl=null,zl=0,$l=1/0,Hl=null,Wl=!1,ql=null,Gl=null,Kl=!1,Xl=null,Yl=0,Ql=0,Jl=null,Zl=-1,ec=0;function tc(){return 0!==(6&Al)?Ye():-1!==Zl?Zl:Zl=Ye()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Pl?Pl&-Pl:null!==ms.transition?(0===ec&&(ec=pt()),ec):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,n,r){if(50<Ql)throw Ql=0,Jl=null,Error(s(185));gt(e,n,r),0!==(2&Al)&&e===Il||(e===Il&&(0===(2&Al)&&(Fl|=n),4===Ml&&lc(e,Pl)),ac(e,r),1===n&&0===Al&&0===(1&t.mode)&&($l=Ye()+500,Fa&&Ba()))}function ac(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-st(s),o=1<<i,l=a[i];-1===l?0!==(o&n)&&0===(o&r)||(a[i]=dt(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===Il?Pl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Fa=!0,Va(e)}(cc.bind(null,e)):Va(cc.bind(null,e)),sa((function(){0===(6&Al)&&Ba()})),n=null;else{switch(bt(r)){case 1:n=Je;break;case 4:n=Ze;break;case 16:default:n=et;break;case 536870912:n=nt}n=Ic(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zl=-1,ec=0,0!==(6&Al))throw Error(s(327));var n=e.callbackNode;if(Tc()&&e.callbackNode!==n)return null;var r=ht(e,e===Il?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var a=Al;Al|=2;var i=mc();for(Il===e&&Pl===t||(Hl=null,$l=Ye()+500,fc(e,t));;)try{bc();break}catch(Wm){pc(e,Wm)}_s(),_l.current=i,Al=a,null!==Rl?t=0:(Il=null,Pl=0,t=Ml)}if(0!==t){if(2===t&&(0!==(a=ft(e))&&(r=a,t=ic(e,a))),1===t)throw n=jl,fc(e,0),lc(e,r),ac(e,Ye()),n;if(6===t)lc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!ir(s(),a))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=vc(e,r))&&(0!==(i=ft(e))&&(r=i,t=ic(e,i))),1===t))throw n=jl,fc(e,0),lc(e,r),ac(e,Ye()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Ec(e,Bl,Hl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=zl+500-Ye())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=na(Ec.bind(null,e,Bl,Hl),t);break}Ec(e,Bl,Hl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-st(r);i=1<<o,(o=t[o])>a&&(a=o),r&=~i}if(r=a,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=na(Ec.bind(null,e,Bl,Hl),r);break}Ec(e,Bl,Hl);break;default:throw Error(s(329))}}}return ac(e,Ye()),e.callbackNode===n?sc.bind(null,e):null}function ic(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Bl,Bl=n,null!==t&&oc(t)),e}function oc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function lc(e,t){for(t&=~Ul,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Al))throw Error(s(327));Tc();var t=ht(e,0);if(0===(1&t))return ac(e,Ye()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=jl,fc(e,0),lc(e,t),ac(e,Ye()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,Bl,Hl),ac(e,Ye()),null}function uc(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&($l=Ye()+500,Fa&&Ba())}}function hc(e){null!==Xl&&0===Xl.tag&&0===(6&Al)&&Tc();var t=Al;Al|=1;var n=Nl.transition,r=yt;try{if(Nl.transition=null,yt=1,e)return e()}finally{yt=r,Nl.transition=n,0===(6&(Al=t))&&Ba()}}function dc(){Ol=Dl.current,ka(Dl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ra(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pa();break;case 3:Qs(),ka(Na),ka(Ca),ri();break;case 5:Zs(r);break;case 4:Qs();break;case 13:case 19:ka(ei);break;case 10:Cs(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Il=e,Rl=e=Dc(e.current,null),Pl=Ol=t,Ml=0,jl=null,Ul=Fl=Ll=0,Bl=Vl=null,null!==Ps){for(t=0;t<Ps.length;t++)if(null!==(r=(n=Ps[t]).interleaved)){n.interleaved=null;var a=r.next,s=n.pending;if(null!==s){var i=s.next;s.next=a,r.next=i}n.pending=r}Ps=null}return e}function pc(e,t){for(;;){var n=Rl;try{if(_s(),ai.current=Ji,ui){for(var r=oi.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}ui=!1}if(ii=0,ci=li=oi=null,hi=!1,di=0,Cl.current=null,null===n||null===n.return){Ml=1,jl=t,Rl=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=vo(o);if(null!==p){p.flags&=-257,yo(p,o,l,0,t),1&p.mode&&go(i,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){go(i,u,t),gc();break e}c=Error(s(426))}else if(as&&1&l.mode){var v=vo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),yo(v,o,l,0,t),ps(co(c,l));break e}}i=c=co(c,l),4!==Ml&&(Ml=2),null===Vl?Vl=[i]:Vl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,zs(i,po(0,c,t));break e;case 1:l=c;var y=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,zs(i,mo(i,l,t));break e}}i=i.return}while(null!==i)}wc(n)}catch(x){t=x,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function mc(){var e=_l.current;return _l.current=Ji,null===e?Ji:e}function gc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Il||0===(268435455&Ll)&&0===(268435455&Fl)||lc(Il,Pl)}function vc(e,t){var n=Al;Al|=2;var r=mc();for(Il===e&&Pl===t||(Hl=null,fc(e,t));;)try{yc();break}catch(Pm){pc(e,Pm)}if(_s(),Al=n,_l.current=r,null!==Rl)throw Error(s(261));return Il=null,Pl=0,Ml}function yc(){for(;null!==Rl;)xc(Rl)}function bc(){for(;null!==Rl&&!Ke();)xc(Rl)}function xc(e){var t=kl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?wc(e):Rl=t,Cl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ko(n,t,Ol)))return void(Rl=n)}else{if(null!==(n=Xo(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Ml=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Ml&&(Ml=5)}function Ec(e,t,n){var r=yt,a=Nl.transition;try{Nl.transition=null,yt=1,function(e,t,n,r){do{Tc()}while(null!==Xl);if(0!==(6&Al))throw Error(s(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-st(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}(e,i),e===Il&&(Rl=Il=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Ic(et,(function(){return Tc(),null}))),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Nl.transition,Nl.transition=null;var o=yt;yt=1;var l=Al;Al|=4,Cl.current=null,function(e,t){if(Zr=$t,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(As){n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==a&&3!==d.nodeType||(l=o+a),d!==i||0!==r&&3!==d.nodeType||(c=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===a&&(l=o),f===i&&++h===r&&(c=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ea={focusedElem:e,selectionRange:n},$t=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:no(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(s(163))}}catch(As){Sc(t,t.return,As)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}m=nl,nl=!1}(e,n),vl(n,e),fr(ea),$t=!!Zr,ea=Zr=null,e.current=n,bl(n,e,a),Xe(),Al=l,yt=o,Nl.transition=i}else e.current=n;if(Kl&&(Kl=!1,Xl=e,Yl=a),i=e.pendingLanes,0===i&&(Gl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ac(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Wl)throw Wl=!1,e=ql,ql=null,e;0!==(1&Yl)&&0!==e.tag&&Tc(),i=e.pendingLanes,0!==(1&i)?e===Jl?Ql++:(Ql=0,Jl=e):Ql=0,Ba()}(e,t,n,r)}finally{Nl.transition=a,yt=r}return null}function Tc(){if(null!==Xl){var e=bt(Yl),t=Nl.transition,n=yt;try{if(Nl.transition=null,yt=16>e?16:e,null===Xl)var r=!1;else{if(e=Xl,Xl=null,Yl=0,0!==(6&Al))throw Error(s(331));var a=Al;for(Al|=4,Zo=e.current;null!==Zo;){var i=Zo,o=i.child;if(0!==(16&Zo.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Zo=u;null!==Zo;){var h=Zo;switch(h.tag){case 0:case 11:case 15:rl(8,h,i)}var d=h.child;if(null!==d)d.return=h,Zo=d;else for(;null!==Zo;){var f=(h=Zo).sibling,p=h.return;if(il(h),h===u){Zo=null;break}if(null!==f){f.return=p,Zo=f;break}Zo=p}}}var m=i.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Zo=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(i=Zo).flags))switch(i.tag){case 0:case 11:case 15:rl(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,Zo=y;break e}Zo=i.return}}var b=e.current;for(Zo=b;null!==Zo;){var x=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==x)x.return=o,Zo=x;else e:for(o=b;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(E){Sc(l,l.return,E)}if(l===o){Zo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Zo=w;break e}Zo=l.return}}if(Al=a,Ba(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(rt,e)}catch(E){}r=!0}return r}finally{yt=n,Nl.transition=t}}return!1}function kc(e,t,n){e=Vs(e,t=po(0,t=co(n,t),1),1),t=tc(),null!==e&&(gt(e,1,t),ac(e,t))}function Sc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Vs(t,e=mo(t,e=co(n,e),1),1),e=tc(),null!==t&&(gt(t,1,e),ac(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Pl&n)===n&&(4===Ml||3===Ml&&(130023424&Pl)===Pl&&500>Ye()-zl?fc(e,0):Ul|=n),ac(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tc();null!==(e=Ms(e,t))&&(gt(e,t,n),ac(e,n))}function Nc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Cc(e,n)}function Ic(e,t){return qe(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Rc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,a,i){var o=2;if(r=e,"function"===typeof e)Oc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case T:return jc(n.children,a,i,t);case k:o=8,a|=8;break;case S:return(e=Pc(12,n,t,2|a)).elementType=S,e.lanes=i,e;case A:return(e=Pc(13,n,t,a)).elementType=A,e.lanes=i,e;case I:return(e=Pc(19,n,t,a)).elementType=I,e.lanes=i,e;case O:return Lc(n,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:o=10;break e;case C:o=9;break e;case N:o=11;break e;case R:o=14;break e;case P:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pc(o,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function jc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,a,s,i,o,l){return e=new Vc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function zc(e){if(!e)return _a;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ra(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ra(n))return Da(e,n,t)}return t}function $c(e,t,n,r,a,s,i,o,l){return(e=Bc(n,r,!0,e,0,s,0,o,l)).context=zc(null),n=e.current,(s=Us(r=tc(),a=nc(n))).callback=void 0!==t&&null!==t?t:null,Vs(n,s,a),e.current.lanes=a,gt(e,a,r),ac(e,r),e}function Hc(e,t,n,r){var a=t.current,s=tc(),i=nc(a);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Us(s,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Vs(a,t,i))&&(rc(e,a,i,s),Bs(e,a,i)),i}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Na.current)xo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xo=!1,function(e,t,n){switch(t.tag){case 3:Io(t),fs();break;case 5:Js(t);break;case 1:Ra(t.type)&&Ma(t);break;case 4:Ys(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Sa(Es,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Sa(ei,1&ei.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fo(e,t,n):(Sa(ei,1&ei.current),null!==(e=Wo(e,t,n))?e.sibling:null);Sa(ei,1&ei.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return $o(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Sa(ei,ei.current),r)break;return null;case 22:case 23:return t.lanes=0,So(e,t,n)}return Wo(e,t,n)}(e,t,n);xo=0!==(131072&e.flags)}else xo=!1,as&&0!==(1048576&t.flags)&&Za(t,Wa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ho(e,t),e=t.pendingProps;var a=Ia(t,Ca.current);Is(t,n),a=gi(null,t,r,e,a,n);var i=vi();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ra(r)?(i=!0,Ma(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ls(t),a.updater=ao,t.stateNode=a,a._reactInternals=t,lo(t,r,e,n),t=Ao(null,t,r,!0,i,n)):(t.tag=0,as&&i&&es(t),wo(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===R)return 14}return 2}(r),e=no(r,e),a){case 0:t=Co(null,t,r,e,n);break e;case 1:t=No(null,t,r,e,n);break e;case 11:t=Eo(null,t,r,e,n);break e;case 14:t=To(null,t,r,no(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Co(e,t,r,a=t.elementType===r?a:no(r,a),n);case 1:return r=t.type,a=t.pendingProps,No(e,t,r,a=t.elementType===r?a:no(r,a),n);case 3:e:{if(Io(t),null===e)throw Error(s(387));r=t.pendingProps,a=(i=t.memoizedState).element,Fs(e,t),$s(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Ro(e,t,r,n,a=co(Error(s(423)),t));break e}if(r!==a){t=Ro(e,t,r,n,a=co(Error(s(424)),t));break e}for(rs=la(t.stateNode.containerInfo.firstChild),ns=t,as=!0,ss=null,n=ws(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===a){t=Wo(e,t,n);break e}wo(e,t,r,n)}t=t.child}return t;case 5:return Js(t),null===e&&cs(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,o=a.children,ta(r,a)?o=null:null!==i&&ta(r,i)&&(t.flags|=32),_o(e,t),wo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Fo(e,t,n);case 4:return Ys(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xs(t,null,r,n):wo(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Eo(e,t,r,a=t.elementType===r?a:no(r,a),n);case 7:return wo(e,t,t.pendingProps,n),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Sa(Es,r._currentValue),r._currentValue=o,null!==i)if(ir(i.value,o)){if(i.children===a.children&&!Na.current){t=Wo(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=Us(-1,n&-n)).tag=2;var u=i.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Ns(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ns(o,n,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}wo(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Is(t,n),r=r(a=Rs(a)),t.flags|=1,wo(e,t,r,n),t.child;case 14:return a=no(r=t.type,t.pendingProps),To(e,t,r,a=no(r.type,a),n);case 15:return ko(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:no(r,a),Ho(e,t),t.tag=1,Ra(r)?(e=!0,Ma(t)):e=!1,Is(t,n),io(t,r,a),lo(t,r,a,n),Ao(null,t,r,!0,e,n);case 19:return $o(e,t,n);case 22:return So(e,t,n)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,a){var s=n._reactRootContainer;if(s){var i=s;if("function"===typeof a){var o=a;a=function(){var e=Wc(i);o.call(e)}}Hc(t,i,e,a)}else i=function(e,t,n,r,a){if(a){if("function"===typeof r){var s=r;r=function(){var e=Wc(i);s.call(e)}}var i=$c(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=i,e[fa]=i.current,Br(8===e.nodeType?e.parentNode:e),hc(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var o=r;r=function(){var e=Wc(l);o.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[fa]=l.current,Br(8===e.nodeType?e.parentNode:e),hc((function(){Hc(t,l,n,r)})),l}(n,t,e,a,r);return Wc(i)}Yc.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hc(e,t,null,null)},Yc.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Hc(null,e,null,null)})),t[fa]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&jt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(vt(t,1|n),ac(t,Ye()),0===(6&Al)&&($l=Ye()+500,Ba()))}break;case 13:hc((function(){var t=Ms(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},wt=function(e){if(13===e.tag){var t=Ms(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},Et=function(e){if(13===e.tag){var t=nc(e),n=Ms(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},Tt=function(){return yt},kt=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=xa(r);if(!a)throw Error(s(90));G(r),J(r,a)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=uc,Ne=hc;var tu={usingClientEntryPoint:!1,Events:[ya,ba,xa,Se,_e,uc]},nu={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{rt=au.inject(ru),at=au}catch(Mm){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(s(299));var n=!1,r="",a=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,a),e[fa]=t.current,Br(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,a=!1,i="",o=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=$c(t,null,e,1,null!=n?n:null,a,0,i,o),e[fa]=t.current,Br(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(s(40));return!!e._reactRootContainer&&(hc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[fa]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},799:(e,t,n)=>{n.d(t,{P2:()=>g});const r=(e,t)=>t.some((t=>e instanceof t));let a,s;const i=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap;let h={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return o.get(e);if("objectStoreNames"===t)return e.objectStoreNames||l.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return p(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function d(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(s||(s=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(m(this),n),p(i.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(e.apply(m(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];const s=e.call(m(this),t,...r);return l.set(s,t.sort?t.sort():[t]),p(s)}}function f(e){return"function"===typeof e?d(e):(e instanceof IDBTransaction&&function(e){if(o.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)}));o.set(e,t)}(e),r(e,a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,h):e)}function p(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{t(p(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&i.set(t,e)})).catch((()=>{})),u.set(t,e),t}(e);if(c.has(e))return c.get(e);const t=f(e);return t!==e&&(c.set(e,t),u.set(t,e)),t}const m=e=>u.get(e);function g(e,t){let{blocked:n,upgrade:r,blocking:a,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=indexedDB.open(e,t),o=p(i);return r&&i.addEventListener("upgradeneeded",(e=>{r(p(i.result),e.oldVersion,e.newVersion,p(i.transaction),e)})),n&&i.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),a&&e.addEventListener("versionchange",(e=>a(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}const v=["get","getKey","getAll","getAllKeys","count"],y=["put","add","delete","clear"],b=new Map;function x(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(b.get(t))return b.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=y.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!a&&!v.includes(n))return;const s=async function(e){const t=this.transaction(e,a?"readwrite":"readonly");let s=t.store;for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),a&&t.done]))[0]};return b.set(t,s),s}h=(e=>({...e,get:(t,n,r)=>x(t,n)||e.get(t,n,r),has:(t,n)=>!!x(t,n)||e.has(t,n)}))(h)},812:(e,t,n)=>{n.d(t,{h1:()=>o,uA:()=>a});var r=n(529);class a{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const s="[DEFAULT]";class i{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Pm){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Pm){if(r)return null;throw Pm}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:s})}catch(Pm){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Pm){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(a)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),a=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;a.add(e),this.onInitCallbacks.set(r,a);const s=this.instances.get(r);return s&&e(s,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const a of n)try{a(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(a=t,a===s?void 0:a),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}var a;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.component?this.component.multipleInstances?e:s:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class o{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new i(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".0ade8d29.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(Pm){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="estoque:";n.l=(r,a,s,i)=>{if(e[r])e[r].push(a);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){o=h;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[a];var d=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var a=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var s=new Promise(((n,r)=>a=e[t]=[n,r]));r.push(a[2]=s);var i=n.p+n.u(t),o=new Error;n.l(i,(r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var s=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",o.name="ChunkLoadError",o.type=s,o.request=i,a[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var a,s,i=r[0],o=r[1],l=r[2],c=0;if(i.some((t=>0!==e[t]))){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(l)l(n)}for(t&&t(r);c<i.length;c++)s=i[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkestoque=self.webpackChunkestoque||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),a=n(391),s=(n(358),"popstate");function i(){return f((function(e,t){let{pathname:n,search:r,hash:a}=e.location;return u("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:h(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function o(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Pm){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?d(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function h(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function d(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function f(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:a=document.defaultView,v5Compat:i=!1}=r,l=a.history,d="POP",f=null,p=m();function m(){return(l.state||{idx:null}).idx}function g(){d="POP";let e=m(),t=null==e?null:e-p;p=e,f&&f({action:d,location:y.location,delta:t})}function v(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:h(e);return n=n.replace(/ $/,"%20"),o(t,`No window.location.(origin|href) available to create URL for href: ${n}`),new URL(n,t)}null==p&&(p=0,l.replaceState({...l.state,idx:p},""));let y={get action(){return d},get location(){return e(a,l)},listen(e){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(s,g),f=e,()=>{a.removeEventListener(s,g),f=null}},createHref:e=>t(a,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){d="PUSH";let r=u(y.location,e,t);n&&n(r,e),p=m()+1;let s=c(r,p),o=y.createHref(r);try{l.pushState(s,"",o)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;a.location.assign(o)}i&&f&&f({action:d,location:y.location,delta:1})},replace:function(e,t){d="REPLACE";let r=u(y.location,e,t);n&&n(r,e),p=m();let a=c(r,p),s=y.createHref(r);l.replaceState(a,"",s),i&&f&&f({action:d,location:y.location,delta:0})},go:e=>l.go(e)};return y}new WeakMap;function p(e,t){return m(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function m(e,t,n,r){let a=A(("string"===typeof t?d(t):t).pathname||"/",n);if(null==a)return null;let s=g(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let i=null;for(let o=0;null==i&&o<s.length;++o){let e=N(a);i=_(s[o],e,r)}return i}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=(e,a,s)=>{let i={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(o(i.relativePath.startsWith(r),`Absolute route path "${i.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),i.relativePath=i.relativePath.slice(r.length));let l=D([r,i.relativePath]),c=n.concat(i);e.children&&e.children.length>0&&(o(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),g(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:S(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of v(e.path))a(e,t,n);else a(e,t)})),t}function v(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return a?[s,""]:[s];let i=v(r.join("/")),o=[];return o.push(...i.map((e=>""===e?s:[s,e].join("/")))),a&&o.push(...i),o.map((t=>e.startsWith("/")&&""===t?"/":t))}var y=/^:[\w-]+$/,b=3,x=2,w=1,E=10,T=-2,k=e=>"*"===e;function S(e,t){let n=e.split("/"),r=n.length;return n.some(k)&&(r+=T),t&&(r+=x),n.filter((e=>!k(e))).reduce(((e,t)=>e+(y.test(t)?b:""===t?w:E)),r)}function _(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,a={},s="/",i=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=C({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=C({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),i.push({params:a,pathname:D([s,u.pathname]),pathnameBase:M(D([s,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(s=D([s,u.pathnameBase]))}return i}function C(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];l("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let s=new RegExp(a,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=o[n]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:i,pattern:e}}function N(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return l(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function A(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function I(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function R(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function P(e){let t=R(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function O(e,t,n){let r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=d(e):(r={...e},o(!r.pathname||!r.pathname.includes("?"),I("?","pathname","search",r)),o(!r.pathname||!r.pathname.includes("#"),I("#","pathname","hash",r)),o(!r.search||!r.search.includes("#"),I("#","search","hash",r)));let s,i=""===e||""===r.pathname,l=i?"/":r.pathname;if(null==l)s=n;else{let e=t.length-1;if(!a&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:a=""}="string"===typeof e?d(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:j(r),hash:L(a)}}(r,s),u=l&&"/"!==l&&l.endsWith("/"),h=(i||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!h||(c.pathname+="/"),c}var D=e=>e.join("/").replace(/\/\/+/g,"/"),M=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),j=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",L=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function F(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var U=["POST","PUT","PATCH","DELETE"],V=(new Set(U),["GET",...U]);new Set(V),Symbol("ResetLoaderData");var B=r.createContext(null);B.displayName="DataRouter";var z=r.createContext(null);z.displayName="DataRouterState";var H=r.createContext({isTransitioning:!1});H.displayName="ViewTransition";var W=r.createContext(new Map);W.displayName="Fetchers";var q=r.createContext(null);q.displayName="Await";var G=r.createContext(null);G.displayName="Navigation";var K=r.createContext(null);K.displayName="Location";var X=r.createContext({outlet:null,matches:[],isDataRoute:!1});X.displayName="Route";var Y=r.createContext(null);Y.displayName="RouteError";function Q(){return null!=r.useContext(K)}function J(){return o(Q(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(K).location}var Z="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ee(e){r.useContext(G).static||r.useLayoutEffect(e)}function te(){let{isDataRoute:e}=r.useContext(X);return e?function(){let{router:e}=ue("useNavigate"),t=de("useNavigate"),n=r.useRef(!1);ee((()=>{n.current=!0}));let a=r.useCallback((async function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(n.current,Z),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,{fromRouteId:t,...a}))}),[e,t]);return a}():function(){o(Q(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(B),{basename:t,navigator:n}=r.useContext(G),{matches:a}=r.useContext(X),{pathname:s}=J(),i=JSON.stringify(P(a)),c=r.useRef(!1);ee((()=>{c.current=!0}));let u=r.useCallback((function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(l(c.current,Z),!c.current)return;if("number"===typeof r)return void n.go(r);let o=O(r,JSON.parse(i),s,"path"===a.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:D([t,o.pathname])),(a.replace?n.replace:n.push)(o,a.state,a)}),[t,n,i,s,e]);return u}()}r.createContext(null);function ne(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(X),{pathname:a}=J(),s=JSON.stringify(P(n));return r.useMemo((()=>O(e,JSON.parse(s),a,"path"===t)),[e,s,a,t])}function re(e,t,n,a){o(Q(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:i}=r.useContext(G),{matches:c}=r.useContext(X),u=c[c.length-1],h=u?u.params:{},f=u?u.pathname:"/",m=u?u.pathnameBase:"/",g=u&&u.route;{let e=g&&g.path||"";me(f,!g||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let v,y=J();if(t){let e="string"===typeof t?d(t):t;o("/"===m||e.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${e.pathname}" was given in the \`location\` prop.`),v=e}else v=y;let b=v.pathname||"/",x=b;if("/"!==m){let e=m.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=!i&&n&&n.matches&&n.matches.length>0?n.matches:p(e,{pathname:x});l(g||null!=w,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),l(null==w||void 0!==w[w.length-1].route.element||void 0!==w[w.length-1].route.Component||void 0!==w[w.length-1].route.lazy,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=le(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},h,e.params),pathname:D([m,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?m:D([m,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),c,n,a);return t&&E?r.createElement(K.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},E):E}function ae(){let e=fe(),t=F(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:i},"ErrorBoundary")," or"," ",r.createElement("code",{style:i},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,o)}var se=r.createElement(ae,null),ie=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(X.Provider,{value:this.props.routeContext},r.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oe(e){let{routeContext:t,match:n,children:a}=e,s=r.useContext(B);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(X.Provider,{value:t},a)}function le(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let a=e,s=n?.errors;if(null!=s){let e=a.findIndex((e=>e.route.id&&void 0!==s?.[e.route.id]));o(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,e+1))}let i=!1,l=-1;if(n)for(let r=0;r<a.length;r++){let e=a[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=r),e.route.id){let{loaderData:t,errors:r}=n,s=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){i=!0,a=l>=0?a.slice(0,l+1):[a[0]];break}}}return a.reduceRight(((e,o,c)=>{let u,h=!1,d=null,f=null;n&&(u=s&&o.route.id?s[o.route.id]:void 0,d=o.route.errorElement||se,i&&(l<0&&0===c?(me("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,f=null):l===c&&(h=!0,f=o.route.hydrateFallbackElement||null)));let p=t.concat(a.slice(0,c+1)),m=()=>{let t;return t=u?d:h?f:o.route.Component?r.createElement(o.route.Component,null):o.route.element?o.route.element:e,r.createElement(oe,{match:o,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(o.route.ErrorBoundary||o.route.errorElement||0===c)?r.createElement(ie,{location:n.location,revalidation:n.revalidation,component:d,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()}),null)}function ce(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ue(e){let t=r.useContext(B);return o(t,ce(e)),t}function he(e){let t=r.useContext(z);return o(t,ce(e)),t}function de(e){let t=function(e){let t=r.useContext(X);return o(t,ce(e)),t}(e),n=t.matches[t.matches.length-1];return o(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function fe(){let e=r.useContext(Y),t=he("useRouteError"),n=de("useRouteError");return void 0!==e?e:t.errors?.[n]}var pe={};function me(e,t,n){t||pe[e]||(pe[e]=!0,l(!1,n))}r.memo((function(e){let{routes:t,future:n,state:r}=e;return re(t,void 0,r,n)}));function ge(e){let{to:t,replace:n,state:a,relative:s}=e;o(Q(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=r.useContext(G);l(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=r.useContext(X),{pathname:u}=J(),h=te(),d=O(t,P(c),u,"path"===s),f=JSON.stringify(d);return r.useEffect((()=>{h(JSON.parse(f),{replace:n,state:a,relative:s})}),[h,f,s,n,a]),null}function ve(e){o(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ye(e){let{basename:t="/",children:n=null,location:a,navigationType:s="POP",navigator:i,static:c=!1}=e;o(!Q(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=r.useMemo((()=>({basename:u,navigator:i,static:c,future:{}})),[u,i,c]);"string"===typeof a&&(a=d(a));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:v="default"}=a,y=r.useMemo((()=>{let e=A(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:v},navigationType:s}}),[u,f,p,m,g,v,s]);return l(null!=y,`<Router basename="${u}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),null==y?null:r.createElement(G.Provider,{value:h},r.createElement(K.Provider,{children:n,value:y}))}function be(e){let{children:t,location:n}=e;return re(xe(t),n)}r.Component;function xe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,((e,a)=>{if(!r.isValidElement(e))return;let s=[...t,a];if(e.type===r.Fragment)return void n.push.apply(n,xe(e.props.children,s));o(e.type===ve,`[${"string"===typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),o(!e.props.index||!e.props.children,"An index route cannot have child routes.");let i={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=xe(e.props.children,s)),n.push(i)})),n}var we="get",Ee="application/x-www-form-urlencoded";function Te(e){return null!=e&&"string"===typeof e.tagName}var ke=null;var Se=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _e(e){return null==e||Se.has(e)?e:(l(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ee}"`),null)}function Ce(e,t){let n,r,a,s,i;if(Te(o=e)&&"form"===o.tagName.toLowerCase()){let i=e.getAttribute("action");r=i?A(i,t):null,n=e.getAttribute("method")||we,a=_e(e.getAttribute("enctype"))||Ee,s=new FormData(e)}else if(function(e){return Te(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Te(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||i.getAttribute("action");if(r=o?A(o,t):null,n=e.getAttribute("formmethod")||i.getAttribute("method")||we,a=_e(e.getAttribute("formenctype"))||_e(i.getAttribute("enctype"))||Ee,s=new FormData(i,e),!function(){if(null===ke)try{new FormData(document.createElement("form"),0),ke=!1}catch(Pm){ke=!0}return ke}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";s.append(`${e}x`,"0"),s.append(`${e}y`,"0")}else t&&s.append(t,r)}}else{if(Te(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=we,r=null,a=Ee,i=e}var o;return s&&"text/plain"===a&&(i=s,s=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:s,body:i}}function Ne(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Ae(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Ie(e){return null!=e&&"string"===typeof e.page}function Re(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Pe(e,t,n,r,a,s){let i=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===s?t.filter(((e,t)=>i(e,t)||o(e,t))):"data"===s?t.filter(((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(i(t,s)||o(t,s))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function Oe(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a})).flat(1),[...new Set(r)];var r}function De(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,a)=>{if(t&&!Ie(a)&&"script"===a.as&&a.href&&r.has(a.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(a));return n.has(s)||(n.add(s),e.push({key:s,link:a})),e}),[])}function Me(e){return{__html:e}}Symbol("SingleFetchRedirect");function je(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===A(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}r.Component;function Le(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let a,s=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(F(t))return r.createElement(Fe,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),s);if(t instanceof Error)a=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);a=new Error(e)}return r.createElement(Fe,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),s)}function Fe(e){let{title:t,renderScripts:n,isOutsideRemixApp:a,children:s}=e,{routeModules:i}=$e();return i.root?.Layout&&!a?s:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,t)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,n?r.createElement(Ye,null):null)))}function Ue(e){return!0===e}function Ve(){let e=r.useContext(B);return Ne(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Be(){let e=r.useContext(z);return Ne(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ze=r.createContext(void 0);function $e(){let e=r.useContext(ze);return Ne(e,"You must render this element inside a <HydratedRouter> element"),e}function He(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function We(e,t,n){if(n&&!Xe)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function qe(e){let{page:t,...n}=e,{router:a}=Ve(),s=r.useMemo((()=>p(a.routes,t,a.basename)),[a.routes,t,a.basename]);return s?r.createElement(Ke,{page:t,matches:s,...n}):null}function Ge(e){let{manifest:t,routeModules:n}=$e(),[a,s]=r.useState([]);return r.useEffect((()=>{let r=!1;return async function(e,t,n){return De((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await Ae(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(Re).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(e,t,n).then((e=>{r||s(e)})),()=>{r=!0}}),[e,t,n]),a}function Ke(e){let{page:t,matches:n,...a}=e,s=J(),{manifest:i,routeModules:o}=$e(),{basename:l}=Ve(),{loaderData:c,matches:u}=Be(),h=r.useMemo((()=>Pe(t,n,u,i,s,"data")),[t,n,u,i,s]),d=r.useMemo((()=>Pe(t,n,u,i,s,"assets")),[t,n,u,i,s]),f=r.useMemo((()=>{if(t===s.pathname+s.search+s.hash)return[];let e=new Set,r=!1;if(n.forEach((t=>{let n=i.routes[t.route.id];n&&n.hasLoader&&(!h.some((e=>e.route.id===t.route.id))&&t.route.id in c&&o[t.route.id]?.shouldRevalidate||n.hasClientLoader?r=!0:e.add(t.route.id))})),0===e.size)return[];let a=je(t,l);return r&&e.size>0&&a.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[a.pathname+a.search]}),[l,c,s,i,h,n,t,o]),p=r.useMemo((()=>Oe(d,i)),[d,i]),m=Ge(d);return r.createElement(r.Fragment,null,f.map((e=>r.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...a}))),p.map((e=>r.createElement("link",{key:e,rel:"modulepreload",href:e,...a}))),m.map((e=>{let{key:t,link:n}=e;return r.createElement("link",{key:t,...n})})))}ze.displayName="FrameworkContext";var Xe=!1;function Ye(e){let{manifest:t,serverHandoffString:n,isSpaMode:a,ssr:s,renderMeta:i}=$e(),{router:o,static:l,staticContext:c}=Ve(),{matches:u}=Be(),h=Ue(s);i&&(i.didRenderScripts=!0);let d=We(u,null,a);r.useEffect((()=>{Xe=!0}),[]);let f=r.useMemo((()=>{let a=c?`window.__reactRouterContext = ${n};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",s=l?`${t.hmr?.runtime?`import ${JSON.stringify(t.hmr.runtime)};`:""}${h?"":`import ${JSON.stringify(t.url)}`};\n${d.map(((e,n)=>{let r=`route${n}`,a=t.routes[e.route.id];Ne(a,`Route ${e.route.id} not found in manifest`);let{clientActionModule:s,clientLoaderModule:i,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=a,u=[...s?[{module:s,varName:`${r}_clientAction`}]:[],...i?[{module:i,varName:`${r}_clientLoader`}]:[],...o?[{module:o,varName:`${r}_clientMiddleware`}]:[],...l?[{module:l,varName:`${r}_HydrateFallback`}]:[],{module:c,varName:`${r}_main`}];return 1===u.length?`import * as ${r} from ${JSON.stringify(c)};`:[u.map((e=>`import * as ${e.varName} from "${e.module}";`)).join("\n"),`const ${r} = {${u.map((e=>`...${e.varName}`)).join(",")}};`].join("\n")})).join("\n")}\n  ${h?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:n,...r}=e,a=new Set(t.state.matches.map((e=>e.route.id))),s=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(s.pop();s.length>0;)i.push(`/${s.join("/")}`),s.pop();i.forEach((e=>{let n=p(t.routes,e,t.basename);n&&n.forEach((e=>a.add(e.route.id)))}));let o=[...a].reduce(((e,t)=>Object.assign(e,{[t]:r.routes[t]})),{});return{...r,routes:o,sri:!!n||void 0}}(t,o),null,2)};`:""}\n  window.__reactRouterRouteModules = {${d.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(t.entry.module)});`:" ";return r.createElement(r.Fragment,null,r.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Me(a),type:void 0}),r.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Me(s),type:"module",async:!0}))}),[]),m=Xe?[]:(g=t.entry.imports.concat(Oe(d,t,{includeHydrateFallback:!0})),[...new Set(g)]);var g;let v="object"===typeof t.sri?t.sri:{};return Xe?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:v})}}):null,h?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:v[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:v[t.entry.module],suppressHydrationWarning:!0}),m.map((t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:v[t],suppressHydrationWarning:!0}))),f)}function Qe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var Je="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Je&&(window.__reactRouterVersion="7.5.0")}catch(Pm){}function Ze(e){let{basename:t,children:n,window:a}=e,s=r.useRef();null==s.current&&(s.current=i({window:a,v5Compat:!0}));let o=s.current,[l,c]=r.useState({action:o.action,location:o.location}),u=r.useCallback((e=>{r.startTransition((()=>c(e)))}),[c]);return r.useLayoutEffect((()=>o.listen(u)),[o,u]),r.createElement(ye,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o})}var et=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tt=r.forwardRef((function(e,t){let n,{onClick:a,discover:s="render",prefetch:i="none",relative:c,reloadDocument:u,replace:d,state:f,target:p,to:m,preventScrollReset:g,viewTransition:v,...y}=e,{basename:b}=r.useContext(G),x="string"===typeof m&&et.test(m),w=!1;if("string"===typeof m&&x&&(n=m,Je))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=A(t.pathname,b);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:w=!0}catch(Pm){l(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(Q(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=r.useContext(G),{hash:s,pathname:i,search:l}=ne(e,{relative:t}),c=i;return"/"!==n&&(c="/"===i?n:D([n,i])),a.createHref({pathname:c,search:l,hash:s})}(m,{relative:c}),[T,k,S]=function(e,t){let n=r.useContext(ze),[a,s]=r.useState(!1),[i,o]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=t,f=r.useRef(null);r.useEffect((()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{o(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[e]),r.useEffect((()=>{if(a){let e=setTimeout((()=>{o(!0)}),100);return()=>{clearTimeout(e)}}}),[a]);let p=()=>{s(!0)},m=()=>{s(!1),o(!1)};return n?"intent"!==e?[i,f,{}]:[i,f,{onFocus:He(l,p),onBlur:He(c,m),onMouseEnter:He(u,p),onMouseLeave:He(h,m),onTouchStart:He(d,p)}]:[!1,f,{}]}(i,y),_=function(e){let{target:t,replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=te(),c=J(),u=ne(e,{relative:i});return r.useCallback((r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:h(c)===h(u);l(e,{replace:t,state:a,preventScrollReset:s,relative:i,viewTransition:o})}}),[c,l,u,n,a,t,e,s,i,o])}(m,{replace:d,state:f,target:p,preventScrollReset:g,relative:c,viewTransition:v});let C=r.createElement("a",{...y,...S,href:n||E,onClick:w||u?a:function(e){a&&a(e),e.defaultPrevented||_(e)},ref:Qe(t,k),target:p,"data-discover":x||"render"!==s?void 0:"true"});return T&&!x?r.createElement(r.Fragment,null,C,r.createElement(qe,{page:E})):C}));tt.displayName="Link";var nt=r.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:a=!1,className:s="",end:i=!1,style:l,to:c,viewTransition:u,children:h,...d}=e,f=ne(c,{relative:d.relative}),p=J(),m=r.useContext(z),{navigator:g,basename:v}=r.useContext(G),y=null!=m&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(H);o(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=st("useViewTransitionState"),s=ne(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=A(n.currentLocation.pathname,a)||n.currentLocation.pathname,l=A(n.nextLocation.pathname,a)||n.nextLocation.pathname;return null!=C(s.pathname,l)||null!=C(s.pathname,i)}(f)&&!0===u,b=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,x=p.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;a||(x=x.toLowerCase(),w=w?w.toLowerCase():null,b=b.toLowerCase()),w&&v&&(w=A(w,v)||w);const E="/"!==b&&b.endsWith("/")?b.length-1:b.length;let T,k=x===b||!i&&x.startsWith(b)&&"/"===x.charAt(E),S=null!=w&&(w===b||!i&&w.startsWith(b)&&"/"===w.charAt(b.length)),_={isActive:k,isPending:S,isTransitioning:y},N=k?n:void 0;T="function"===typeof s?s(_):[s,k?"active":null,S?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let I="function"===typeof l?l(_):l;return r.createElement(tt,{...d,"aria-current":N,className:T,ref:t,style:I,to:c,viewTransition:u},"function"===typeof h?h(_):h)}));nt.displayName="NavLink";var rt=r.forwardRef(((e,t)=>{let{discover:n="render",fetcherKey:a,navigate:s,reloadDocument:i,replace:l,state:c,method:u=we,action:d,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:g,...v}=e,y=lt(),b=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(G),a=r.useContext(X);o(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),i={...ne(e||".",{relative:t})},l=J();if(null==e){i.search=l.search;let e=new URLSearchParams(i.search),t=e.getAll("index"),n=t.some((e=>""===e));if(n){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();i.search=n?`?${n}`:""}}e&&"."!==e||!s.route.index||(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(i.pathname="/"===i.pathname?n:D([n,i.pathname]));return h(i)}(d,{relative:p}),x="get"===u.toLowerCase()?"get":"post",w="string"===typeof d&&et.test(d);return r.createElement("form",{ref:t,method:x,action:b,onSubmit:i?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||u;y(t||e.currentTarget,{fetcherKey:a,method:n,navigate:s,replace:l,state:c,relative:p,preventScrollReset:m,viewTransition:g})},...v,"data-discover":w||"render"!==n?void 0:"true"})}));function at(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function st(e){let t=r.useContext(B);return o(t,at(e)),t}rt.displayName="Form";var it=0,ot=()=>`__${String(++it)}__`;function lt(){let{router:e}=st("useSubmit"),{basename:t}=r.useContext(G),n=de("useRouteId");return r.useCallback((async function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:i,encType:o,formData:l,body:c}=Ce(r,t);if(!1===a.navigate){let t=a.fetcherKey||ot();await e.fetch(t,n,a.action||s,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||i,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||i,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})}),[e,t,n])}new TextEncoder;var ct=n(52),ut=n(529),ht=n(443);function dt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var ft=n(812);function pt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mt=pt,gt=new ut.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),vt=new ht.Vy("@firebase/auth");function yt(e){if(vt.logLevel<=ht.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];vt.error(`Auth (${ct.MF}): ${e}`,...n)}}function bt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw kt(e,...n)}function xt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return kt(e,...n)}function wt(e,t,n){const r=Object.assign(Object.assign({},mt()),{[t]:n});return new ut.FA("auth","Firebase",r).create(t,{appName:e.name})}function Et(e){return wt(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tt(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&bt(e,"argument-error"),wt(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function kt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return gt.create(e,...n)}function St(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];throw kt(t,...r)}}function _t(e){const t="INTERNAL ASSERTION FAILED: "+e;throw yt(t),new Error(t)}function Ct(e,t){e||_t(t)}function Nt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function At(){return"http:"===It()||"https:"===It()}function It(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Rt{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ct(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,ut.jZ)()||(0,ut.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(At()||(0,ut.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Pt(e,t){Ct(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Ot{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void _t("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void _t("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void _t("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Dt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Mt=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jt=new Rt(3e4,6e4);function Lt(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ft(e,t,n,r){return Ut(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let a={},s={};r&&("GET"===t?s=r:a={body:JSON.stringify(r)});const i=(0,ut.Am)(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},a);return(0,ut.c1)()||(l.referrerPolicy="no-referrer"),Ot.fetch()(await Bt(e,e.config.apiHost,n,i),l)}))}async function Ut(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Dt),t);try{const t=new $t(e),a=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Ht(e,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const t=a.ok?s.errorMessage:s.error.message,[n,i]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Ht(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Ht(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Ht(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(i)throw wt(e,o,i);bt(e,o)}}catch(Pm){if(Pm instanceof ut.g)throw Pm;bt(e,"network-request-failed",{message:String(Pm)})}}async function Vt(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Ft(e,t,n,r,a);return"mfaPendingCredential"in s&&bt(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function Bt(e,t,n,r){const a=`${t}${n}?${r}`,s=e,i=s.config.emulator?Pt(e.config,a):`${e.config.apiScheme}://${a}`;if(Mt.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(i).toString()}return i}function zt(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $t{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(xt(this.auth,"network-request-failed"))),jt.get())}))}}function Ht(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=xt(e,t,r);return a.customData._tokenResponse=n,a}function Wt(e){return void 0!==e&&void 0!==e.enterprise}class qt{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return zt(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Gt(e,t){return Ft(e,"GET","/v2/recaptchaConfig",Lt(e,t))}async function Kt(e,t){return Ft(e,"POST","/v1/accounts:lookup",t)}function Xt(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Pm){}}function Yt(e){return 1e3*Number(e)}function Qt(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return yt("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,ut.u)(n);return e?JSON.parse(e):(yt("Failed to decode base64 JWT payload"),null)}catch(Pm){return yt("Caught error parsing JWT payload as JSON",null===Pm||void 0===Pm?void 0:Pm.toString()),null}}function Jt(e){const t=Qt(e);return St(t,"internal-error"),St("undefined"!==typeof t.exp,"internal-error"),St("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Zt(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(Pm){throw Pm instanceof ut.g&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(Pm)&&e.auth.currentUser===e&&await e.auth.signOut(),Pm}}class en{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Pm){return void("auth/network-request-failed"===(null===Pm||void 0===Pm?void 0:Pm.code)&&this.schedule(!0))}this.schedule()}}class tn{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xt(this.lastLoginAt),this.creationTime=Xt(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nn(e){var t;const n=e.auth,r=await e.getIdToken(),a=await Zt(e,Kt(n,{idToken:r}));St(null===a||void 0===a?void 0:a.users.length,n,"internal-error");const s=a.users[0];e._notifyReloadListener(s);const i=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?rn(s.providerUserInfo):[],o=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,i),l=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),u=!!l&&c,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new tn(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,h)}function rn(e){return e.map((e=>{var{providerId:t}=e,n=dt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class an{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){St(e.idToken,"internal-error"),St("undefined"!==typeof e.idToken,"internal-error"),St("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Jt(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){St(0!==e.length,"internal-error");const t=Jt(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(St(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:a}=await async function(e,t){const n=await Ut(e,{},(async()=>{const n=(0,ut.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:a}=e.config,s=await Bt(e,r,"/v1/token",`key=${a}`),i=await e._getAdditionalHeaders();return i["Content-Type"]="application/x-www-form-urlencoded",Ot.fetch()(s,{method:"POST",headers:i,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(a))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:a}=t,s=new an;return n&&(St("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(St("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),a&&(St("number"===typeof a,"internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new an,this.toJSON())}_performRefresh(){return _t("not implemented")}}function sn(e,t){St("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class on{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,a=dt(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new en(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new tn(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Zt(this,this.stsTokenManager.getToken(this.auth,e));return St(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,ut.Ku)(e),r=await n.getIdToken(t),a=Qt(r);St(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const s="object"===typeof a.firebase?a.firebase:void 0,i=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:a,token:r,authTime:Xt(Yt(a.auth_time)),issuedAtTime:Xt(Yt(a.iat)),expirationTime:Xt(Yt(a.exp)),signInProvider:i||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,ut.Ku)(e);await nn(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(St(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new on(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await nn(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,ct.xZ)(this.auth.app))return Promise.reject(Et(this.auth));const e=await this.getIdToken();return await Zt(this,async function(e,t){return Ft(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,a,s,i,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(a=t.phoneNumber)&&void 0!==a?a:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(i=t.tenantId)&&void 0!==i?i:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:x,providerData:w,stsTokenManager:E}=t;St(y&&E,e,"internal-error");const T=an.fromJSON(this.name,E);St("string"===typeof y,e,"internal-error"),sn(u,e.name),sn(h,e.name),St("boolean"===typeof b,e,"internal-error"),St("boolean"===typeof x,e,"internal-error"),sn(d,e.name),sn(f,e.name),sn(p,e.name),sn(m,e.name),sn(g,e.name),sn(v,e.name);const k=new on({uid:y,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:x,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:T,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(k.providerData=w.map((e=>Object.assign({},e)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new an;r.updateFromServerResponse(t);const a=new on({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await nn(a),a}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];St(void 0!==r.localId,"internal-error");const a=void 0!==r.providerUserInfo?rn(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===a||void 0===a?void 0:a.length),i=new an;i.updateFromIdToken(n);const o=new on({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new tn(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===a||void 0===a?void 0:a.length)};return Object.assign(o,l),o}}const ln=new Map;function cn(e){Ct(e instanceof Function,"Expected a class definition");let t=ln.get(e);return t?(Ct(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ln.set(e,t),t)}class un{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}un.type="NONE";const hn=un;function dn(e,t,n){return`firebase:${e}:${t}:${n}`}class fn{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:a}=this.auth;this.fullUserKey=dn(this.userKey,r.apiKey,a),this.fullPersistenceKey=dn("persistence",r.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await Kt(this.auth,{idToken:e}).catch((()=>{}));return t?on._fromGetAccountInfoResponse(this.auth,t,e):null}return on._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new fn(cn(hn),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let a=r[0]||cn(hn);const s=dn(n,e.config.apiKey,e.name);let i=null;for(const c of t)try{const t=await c._get(s);if(t){let n;if("string"===typeof t){const r=await Kt(e,{idToken:t}).catch((()=>{}));if(!r)break;n=await on._fromGetAccountInfoResponse(e,r,t)}else n=on._fromJSON(e,t);c!==a&&(i=n),a=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return a._shouldAllowMigration&&o.length?(a=o[0],i&&await a._set(s,i.toJSON()),await Promise.all(t.map((async e=>{if(e!==a)try{await e._remove(s)}catch(l){}}))),new fn(a,e,n)):new fn(a,e,n)}}function pn(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(yn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(xn(t))return"Blackberry";if(wn(t))return"Webos";if(gn(t))return"Safari";if((t.includes("chrome/")||vn(t))&&!t.includes("edge/"))return"Chrome";if(bn(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function mn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ut.ZQ)();return/firefox\//i.test(e)}function gn(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ut.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ut.ZQ)();return/crios\//i.test(e)}function yn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ut.ZQ)();return/iemobile/i.test(e)}function bn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ut.ZQ)();return/android/i.test(e)}function xn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ut.ZQ)();return/blackberry/i.test(e)}function wn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ut.ZQ)();return/webos/i.test(e)}function En(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ut.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Tn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ut.ZQ)();return En(e)||bn(e)||wn(e)||xn(e)||/windows phone/i.test(e)||yn(e)}function kn(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=pn((0,ut.ZQ)());break;case"Worker":t=`${pn((0,ut.ZQ)())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${ct.MF}/${r}`}class Sn{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(Pm){r(Pm)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Pm){t.reverse();for(const n of t)try{n()}catch(mg){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===Pm||void 0===Pm?void 0:Pm.message})}}}class _n{constructor(e){var t,n,r,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(a=e.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,a,s,i;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(a=o.containsUppercaseLetter)||void 0===a||a),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(i=o.containsNonAlphanumericCharacter)||void 0===i||i),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class Cn{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new An(this),this.idTokenSubscription=new An(this),this.beforeStateQueue=new Sn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise((e=>this._resolvePersistenceManagerAvailable=e))}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=cn(t)),this._initializationPromise=this.queue((async()=>{var n,r,a;if(!this._deleted&&(this.persistenceManager=await fn.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Pm){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(a=this.currentUser)||void 0===a?void 0:a.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Kt(this,{idToken:e}),n=await on._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if((0,ct.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,i=await this.tryRedirectSignIn(e);n&&n!==s||!(null===i||void 0===i?void 0:i.user)||(r=i.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(Pm){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(Pm)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Pm){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await nn(e)}catch(Pm){if("auth/network-request-failed"!==(null===Pm||void 0===Pm?void 0:Pm.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,ct.xZ)(this.app))return Promise.reject(Et(this));const t=e?(0,ut.Ku)(e):null;return t&&St(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&St(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return(0,ct.xZ)(this.app)?Promise.reject(Et(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,ct.xZ)(this.app)?Promise.reject(Et(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(cn(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Ft(e,"GET","/v2/passwordPolicy",Lt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new _n(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ut.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Ft(e,"POST","/v2/accounts:revokeToken",Lt(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&cn(e)||this._popupRedirectResolver;St(t,this,"argument-error"),this.redirectPersistenceManager=await fn.create(this,[cn(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const a="function"===typeof t?t:t.next.bind(t);let s=!1;const i=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(i,this,"internal-error"),i.then((()=>{s||a(this.currentUser)})),"function"===typeof t){const a=e.addObserver(t,n,r);return()=>{s=!0,a()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if((0,ct.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(vt.logLevel<=ht.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];vt.warn(`Auth (${ct.MF}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Nn(e){return(0,ut.Ku)(e)}class An{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,ut.tD)((e=>this.observer=e))}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let In={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Rn(e){return In.loadJS(e)}function Pn(e){return`__${e}${Math.floor(1e6*Math.random())}`}class On{constructor(){this.enterprise=new Dn}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Dn{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Mn="NO_RECAPTCHA";class jn{constructor(e){this.type="recaptcha-enterprise",this.auth=Nn(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const a=window.grecaptcha;Wt(a)?a.enterprise.ready((()=>{a.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(Mn)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new On).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Gt(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new qt(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((a=>{if(!t&&Wt(window.grecaptcha))n(a,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=In.recaptchaEnterpriseScript;0!==t.length&&(t+=a),Rn(t).then((()=>{n(a,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Ln(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new jn(e);let i;if(a)i=Mn;else try{i=await s.verify(n)}catch(l){i=await s.verify(n,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Fn(e,t,n,r,a){var s,i;if("EMAIL_PASSWORD_PROVIDER"===a){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Ln(e,t,n,"getOobCode"===n);return r(e,a)}return r(e,t).catch((async a=>{if("auth/missing-recaptcha-token"===a.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Ln(e,t,n,"getOobCode"===n);return r(e,a)}return Promise.reject(a)}))}if("PHONE_PROVIDER"===a){if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("PHONE_PROVIDER")){const a=await Ln(e,t,n);return r(e,a).catch((async a=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===a.code||"auth/invalid-app-credential"===a.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const a=await Ln(e,t,n,!1,!0);return r(e,a)}return Promise.reject(a)}))}{const a=await Ln(e,t,n,!1,!0);return r(e,a)}}return Promise.reject(a+" provider is not supported.")}async function Un(e){const t=Nn(e),n=await Gt(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new qt(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new jn(t).verify()}}function Vn(e,t,n){const r=Nn(e);St(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Bn(t),{host:i,port:o}=function(e){const t=Bn(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const e=a[1];return{host:e,port:zn(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:zn(t)}}}(t),l={url:`${s}//${i}${null===o?"":`:${o}`}/`},c=Object.freeze({host:i,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator)return St(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void St((0,ut.bD)(l,r.config.emulator)&&(0,ut.bD)(c,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=l,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,a||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Bn(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function zn(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class $n{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return _t("not implemented")}_getIdTokenResponse(e){return _t("not implemented")}_linkToIdToken(e,t){return _t("not implemented")}_getReauthenticationResolver(e){return _t("not implemented")}}async function Hn(e,t){return Ft(e,"POST","/v1/accounts:signUp",t)}async function Wn(e,t){return Vt(e,"POST","/v1/accounts:signInWithPassword",Lt(e,t))}class qn extends $n{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new qn(e,t,"password")}static _fromEmailAndCode(e,t){return new qn(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Fn(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Wn,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Vt(e,"POST","/v1/accounts:signInWithEmailLink",Lt(e,t))}(e,{email:this._email,oobCode:this._password});default:bt(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Fn(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Hn,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Vt(e,"POST","/v1/accounts:signInWithEmailLink",Lt(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:bt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Gn(e,t){return Vt(e,"POST","/v1/accounts:signInWithIdp",Lt(e,t))}class Kn extends $n{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Kn(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):bt("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,a=dt(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Kn(n,r);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){return Gn(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Gn(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Gn(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,ut.Am)(t)}return e}}async function Xn(e,t){return Ft(e,"POST","/v1/accounts:sendVerificationCode",Lt(e,t))}const Yn={USER_NOT_FOUND:"user-not-found"};class Qn extends $n{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Qn({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Qn({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Vt(e,"POST","/v1/accounts:signInWithPhoneNumber",Lt(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Vt(e,"POST","/v1/accounts:signInWithPhoneNumber",Lt(e,t));if(n.temporaryProof)throw Ht(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Vt(e,"POST","/v1/accounts:signInWithPhoneNumber",Lt(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Yn)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:a}=e;return n||t||r||a?new Qn({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:a}):null}}class Jn{constructor(e){var t,n,r,a,s,i;const o=(0,ut.I9)((0,ut.hp)(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);St(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(a=o.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(i=o.tenantId)&&void 0!==i?i:null}static parseLink(e){const t=function(e){const t=(0,ut.I9)((0,ut.hp)(e)).link,n=t?(0,ut.I9)((0,ut.hp)(t)).deep_link_id:null,r=(0,ut.I9)((0,ut.hp)(e)).deep_link_id;return(r?(0,ut.I9)((0,ut.hp)(r)).link:null)||r||n||t||e}(e);try{return new Jn(t)}catch(n){return null}}}class Zn{constructor(){this.providerId=Zn.PROVIDER_ID}static credential(e,t){return qn._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Jn.parseLink(t);return St(n,"argument-error"),qn._fromEmailAndCode(e,n.code,n.tenantId)}}Zn.PROVIDER_ID="password",Zn.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Zn.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class er{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class tr extends er{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class nr extends tr{constructor(){super("facebook.com")}static credential(e){return Kn._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return nr.credential(t.oauthAccessToken)}catch(n){return null}}}nr.FACEBOOK_SIGN_IN_METHOD="facebook.com",nr.PROVIDER_ID="facebook.com";class rr extends tr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Kn._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return rr.credential(n,r)}catch(a){return null}}}rr.GOOGLE_SIGN_IN_METHOD="google.com",rr.PROVIDER_ID="google.com";class ar extends tr{constructor(){super("github.com")}static credential(e){return Kn._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ar.credential(t.oauthAccessToken)}catch(n){return null}}}ar.GITHUB_SIGN_IN_METHOD="github.com",ar.PROVIDER_ID="github.com";class sr extends tr{constructor(){super("twitter.com")}static credential(e,t){return Kn._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return sr.credential(n,r)}catch(a){return null}}}sr.TWITTER_SIGN_IN_METHOD="twitter.com",sr.PROVIDER_ID="twitter.com";class ir{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=await on._fromIdTokenResponse(e,n,r),s=or(n);return new ir({user:a,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=or(n);return new ir({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function or(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class lr extends ut.g{constructor(e,t,n,r){var a;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,lr.prototype),this.customData={appName:e.name,tenantId:null!==(a=e.tenantId)&&void 0!==a?a:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new lr(e,t,n,r)}}function cr(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw lr._fromErrorAndOperation(e,n,t,r);throw n}))}async function ur(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Zt(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ir._forOperation(e,"link",r)}async function hr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if((0,ct.xZ)(r.app))return Promise.reject(Et(r));const a="reauthenticate";try{const s=await Zt(e,cr(r,a,t,e),n);St(s.idToken,r,"internal-error");const i=Qt(s.idToken);St(i,r,"internal-error");const{sub:o}=i;return St(e.uid===o,r,"user-mismatch"),ir._forOperation(e,a,s)}catch(Pm){throw"auth/user-not-found"===(null===Pm||void 0===Pm?void 0:Pm.code)&&bt(r,"user-mismatch"),Pm}}async function dr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,ct.xZ)(e.app))return Promise.reject(Et(e));const r="signIn",a=await cr(e,r,t),s=await ir._fromIdTokenResponse(e,r,a);return n||await e._updateCurrentUser(s.user),s}async function fr(e,t){return dr(Nn(e),t)}async function pr(e){const t=Nn(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function mr(e,t){return(0,ut.Ku)(e).setPersistence(t)}function gr(e,t){return Ft(e,"POST","/v2/accounts/mfaEnrollment:start",Lt(e,t))}new WeakMap;const vr="__sak";class yr{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(vr,"1"),this.storage.removeItem(vr),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class br extends yr{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Tn(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},a=this.storage.getItem(n);(0,ut.lT)()&&10===document.documentMode&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}br.type="LOCAL";const xr=br;function wr(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),a=RegExp(`${r}=([^;]+)`);return null!==(n=null===(t=document.cookie.match(a))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function Er(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class Tr{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Er(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return wr(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Er(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch((()=>{}))}_addListener(e,t){if(!this._isAvailable())return;const n=Er(e);if(window.cookieStore){const e=e=>{const r=e.changed.find((e=>e.name===n));r&&t(r.value);e.deleted.find((e=>e.name===n))&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=wr(n);const a=setInterval((()=>{const e=wr(n);e!==r&&(t(e),r=e)}),1e3);this.listenerUnsubscribes.set(t,(()=>clearInterval(a)))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Tr.type="COOKIE";class kr extends yr{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}kr.type="SESSION";const Sr=kr;class _r{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new _r(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:a}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const i=Array.from(s).map((async e=>e(t.origin,a))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(i);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Cr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}_r.receivers=[];class Nr{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,s;return new Promise(((i,o)=>{const l=Cr("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),a=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),i(t.data.response);break;default:clearTimeout(c),clearTimeout(a),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Ar(){return window}function Ir(){return"undefined"!==typeof Ar().WorkerGlobalScope&&"function"===typeof Ar().importScripts}const Rr="firebaseLocalStorageDb",Pr="firebaseLocalStorage",Or="fbase_key";class Dr{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Mr(e,t){return e.transaction([Pr],t?"readwrite":"readonly").objectStore(Pr)}function jr(){const e=indexedDB.open(Rr,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Pr,{keyPath:Or})}catch(Pm){n(Pm)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Pr)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Rr);return new Dr(e).toPromise()}(),t(await jr()))}))}))}async function Lr(e,t,n){const r=Mr(e,!0).put({[Or]:t,value:n});return new Dr(r).toPromise()}function Fr(e,t){const n=Mr(e,!0).delete(t);return new Dr(n).toPromise()}class Ur{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await jr()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Pm){if(t++>3)throw Pm;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ir()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_r._getInstance(Ir()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Nr(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jr();return await Lr(e,vr,"1"),await Fr(e,vr),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Lr(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Mr(e,!1).get(t),r=await new Dr(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Fr(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Mr(e,!1).getAll();return new Dr(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:a}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ur.type="LOCAL";const Vr=Ur;function Br(e,t){return Ft(e,"POST","/v2/accounts/mfaSignIn:start",Lt(e,t))}Pn("rcb"),new Rt(3e4,6e4);const zr="recaptcha";async function $r(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Un(e)}catch(a){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let a;if(a="string"===typeof t?{phoneNumber:t}:t,"session"in a){const t=a.session;if("phoneNumber"in a){St("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=Fn(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Mn){St((null===n||void 0===n?void 0:n.type)===zr,e,"argument-error");return gr(e,await Hr(e,t,n))}return gr(e,t)}),"PHONE_PROVIDER");return(await s.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{St("signin"===t.type,e,"internal-error");const s=(null===(r=a.multiFactorHint)||void 0===r?void 0:r.uid)||a.multiFactorUid;St(s,e,"missing-multi-factor-info");const i={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=Fn(e,i,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Mn){St((null===n||void 0===n?void 0:n.type)===zr,e,"argument-error");return Br(e,await Hr(e,t,n))}return Br(e,t)}),"PHONE_PROVIDER");return(await o.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:a.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Fn(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===Mn){St((null===n||void 0===n?void 0:n.type)===zr,e,"argument-error");return Xn(e,await Hr(e,t,n))}return Xn(e,t)}),"PHONE_PROVIDER");return(await r.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Hr(e,t,n){St(n.type===zr,e,"argument-error");const r=await n.verify();St("string"===typeof r,e,"argument-error");const a=Object.assign({},t);if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.captchaResponse,n=a.phoneEnrollmentInfo.clientType,s=a.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),a}if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.captchaResponse,t=a.phoneSignInInfo.clientType,n=a.phoneSignInInfo.recaptchaVersion;return Object.assign(a,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),a}return Object.assign(a,{recaptchaToken:r}),a}class Wr{constructor(e){this.providerId=Wr.PROVIDER_ID,this.auth=Nn(e)}verifyPhoneNumber(e,t){return $r(this.auth,e,(0,ut.Ku)(t))}static credential(e,t){return Qn._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Wr.credentialFromTaggedObject(t)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Qn._fromTokenResponse(n,r):null}}function qr(e,t){return t?cn(t):(St(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Wr.PROVIDER_ID="phone",Wr.PHONE_SIGN_IN_METHOD="phone";class Gr extends $n{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gn(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Gn(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Gn(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Kr(e){return dr(e.auth,new Gr(e),e.bypassAuthState)}function Xr(e){const{auth:t,user:n}=e;return St(n,t,"internal-error"),hr(n,new Gr(e),e.bypassAuthState)}async function Yr(e){const{auth:t,user:n}=e;return St(n,t,"internal-error"),ur(n,new Gr(e),e.bypassAuthState)}class Qr{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Pm){this.reject(Pm)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:a,error:s,type:i}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(i)(o))}catch(Pm){this.reject(Pm)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Kr;case"linkViaPopup":case"linkViaRedirect":return Yr;case"reauthViaPopup":case"reauthViaRedirect":return Xr;default:bt(this.auth,"internal-error")}}resolve(e){Ct(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ct(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Jr=new Rt(2e3,1e4);class Zr extends Qr{constructor(e,t,n,r,a){super(e,t,r,a),this.provider=n,this.authWindow=null,this.pollId=null,Zr.currentPopupAction&&Zr.currentPopupAction.cancel(),Zr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return St(e,this.auth,"internal-error"),e}async onExecution(){Ct(1===this.filter.length,"Popup operations only handle one event");const e=Cr();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(xt(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(xt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(xt(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Jr.get())};e()}}Zr.currentPopupAction=null;const ea=new Map;class ta extends Qr{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ea.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=aa(t),r=ra(e);if(!await r._isAvailable())return!1;const a="true"===await r._get(n);return await r._remove(n),a}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(Pm){e=()=>Promise.reject(Pm)}ea.set(this.auth._key(),e)}return this.bypassAuthState||ea.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function na(e,t){ea.set(e._key(),t)}function ra(e){return cn(e._redirectPersistence)}function aa(e){return dn("pendingRedirect",e.config.apiKey,e.name)}async function sa(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,ct.xZ)(e.app))return Promise.reject(Et(e));const r=Nn(e),a=qr(r,t),s=new ta(r,a,n),i=await s.execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,t)),i}class ia{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return la(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!la(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(xt(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(oa(e))}saveEventToCache(e){this.cachedEventUids.add(oa(e)),this.lastProcessedEventTime=Date.now()}}function oa(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function la(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const ca=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ua=/^https?/;async function ha(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Ft(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(da(r))return}catch(n){}bt(e,"unauthorized-domain")}function da(e){const t=Nt(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return""===a.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&a.hostname===r}if(!ua.test(n))return!1;if(ca.test(e))return r===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const fa=new Rt(3e4,6e4);function pa(){const e=Ar().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function ma(e){return new Promise(((t,n)=>{var r,a,s;function i(){pa(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{pa(),n(xt(e,"network-request-failed"))},timeout:fa.get()})}if(null===(a=null===(r=Ar().gapi)||void 0===r?void 0:r.iframes)||void 0===a?void 0:a.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Ar().gapi)||void 0===s?void 0:s.load)){const t=Pn("iframefcb");return Ar()[t]=()=>{gapi.load?i():n(xt(e,"network-request-failed"))},Rn(`${In.gapiScript}?onload=${t}`).catch((e=>n(e)))}i()}})).catch((e=>{throw ga=null,e}))}let ga=null;const va=new Rt(5e3,15e3),ya={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ba=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xa(e){const t=e.config;St(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Pt(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:ct.MF},a=ba.get(e.config.apiHost);a&&(r.eid=a);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${(0,ut.Am)(r).slice(1)}`}async function wa(e){const t=await function(e){return ga=ga||ma(e),ga}(e),n=Ar().gapi;return St(n,e,"internal-error"),t.open({where:document.body,url:xa(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ya,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const a=xt(e,"network-request-failed"),s=Ar().setTimeout((()=>{r(a)}),va.get());function i(){Ar().clearTimeout(s),n(t)}t.ping(i).then(i,(()=>{r(a)}))}))))}const Ea={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ta{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Pm){}}}function ka(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-a)/2,0).toString(),i=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Ea),{width:r.toString(),height:a.toString(),top:s,left:i}),c=(0,ut.ZQ)().toLowerCase();n&&(o=vn(c)?"_blank":n),mn(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return En(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ut.ZQ)())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Ta(null);const h=window.open(t||"",o,u);St(h,e,"popup-blocked");try{h.focus()}catch(Pm){}return new Ta(h)}const Sa="__/auth/handler",_a="emulator/auth/handler",Ca=encodeURIComponent("fac");async function Na(e,t,n,r,a,s){St(e.config.authDomain,e,"auth-domain-config-required"),St(e.config.apiKey,e,"invalid-api-key");const i={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ct.MF,eventId:a};if(t instanceof er){t.setDefaultLanguage(e.languageCode),i.providerId=t.providerId||"",(0,ut.Im)(t.getCustomParameters())||(i.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))i[e]=t}if(t instanceof tr){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(i.scopes=e.join(","))}e.tenantId&&(i.tid=e.tenantId);const o=i;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${Ca}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Sa}`;return Pt(t,_a)}(e)}?${(0,ut.Am)(o).slice(1)}${c}`}const Aa="webStorageSupport";const Ia=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sr,this._completeRedirectFn=sa,this._overrideRedirectResult=na}async _openPopup(e,t,n,r){var a;Ct(null===(a=this.eventManagers[e._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()");return ka(e,await Na(e,t,n,Nt(),r),Cr())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Ar().location.href=e}(await Na(e,t,n,Nt(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Ct(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await wa(e),n=new ia(e);return t.register("authEvent",(t=>{St(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Aa,{type:Aa},(n=>{var r;const a=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Aa];void 0!==a&&t(!!a),bt(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ha(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Tn()||gn()||En()}};var Ra="@firebase/auth",Pa="1.10.0";class Oa{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Da=(0,ut.XA)("authIdTokenMaxAge")||300;let Ma=null;var ja;!function(e){In=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=xt("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),ja="Browser",(0,ct.om)(new ft.uA("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:i,authDomain:o}=r.options;St(i&&!i.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:i,authDomain:o,clientPlatform:ja,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kn(ja)},c=new Cn(r,a,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(cn);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),(0,ct.om)(new ft.uA("auth-internal",(e=>(e=>new Oa(e))(Nn(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ct.KO)(Ra,Pa,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(ja)),(0,ct.KO)(Ra,Pa,"esm2017");(0,ct.KO)("firebase","11.6.0","app");var La,Fa,Ua="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Va={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var a=0;16>a;++a)r[a]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(a=0;16>a;++a)r[a]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],a=e.g[2];var s=e.g[3],i=t+(s^n&(a^s))+r[0]+3614090360&4294967295;i=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=(n=(a=(s=(t=n+(i<<7&4294967295|i>>>25))+((i=s+(a^t&(n^a))+r[1]+3905402710&4294967295)<<12&4294967295|i>>>20))+((i=a+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|i>>>15))+((i=n+(t^a&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|i>>>10))+((i=t+(s^n&(a^s))+r[4]+4118548399&4294967295)<<7&4294967295|i>>>25))+((i=s+(a^t&(n^a))+r[5]+1200080426&4294967295)<<12&4294967295|i>>>20))+((i=a+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|i>>>15))+((i=n+(t^a&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|i>>>10))+((i=t+(s^n&(a^s))+r[8]+1770035416&4294967295)<<7&4294967295|i>>>25))+((i=s+(a^t&(n^a))+r[9]+2336552879&4294967295)<<12&4294967295|i>>>20))+((i=a+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|i>>>15))+((i=n+(t^a&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|i>>>10))+((i=t+(s^n&(a^s))+r[12]+1804603682&4294967295)<<7&4294967295|i>>>25))+((i=s+(a^t&(n^a))+r[13]+4254626195&4294967295)<<12&4294967295|i>>>20))+((i=a+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|i>>>15))+((i=n+(t^a&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|i>>>10))+((i=t+(a^s&(n^a))+r[1]+4129170786&4294967295)<<5&4294967295|i>>>27))+((i=s+(n^a&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|i>>>23))+((i=a+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|i>>>18))+((i=n+(s^t&(a^s))+r[0]+3921069994&4294967295)<<20&4294967295|i>>>12))+((i=t+(a^s&(n^a))+r[5]+3593408605&4294967295)<<5&4294967295|i>>>27))+((i=s+(n^a&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|i>>>23))+((i=a+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|i>>>18))+((i=n+(s^t&(a^s))+r[4]+3889429448&4294967295)<<20&4294967295|i>>>12))+((i=t+(a^s&(n^a))+r[9]+568446438&4294967295)<<5&4294967295|i>>>27))+((i=s+(n^a&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|i>>>23))+((i=a+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|i>>>18))+((i=n+(s^t&(a^s))+r[8]+1163531501&4294967295)<<20&4294967295|i>>>12))+((i=t+(a^s&(n^a))+r[13]+2850285829&4294967295)<<5&4294967295|i>>>27))+((i=s+(n^a&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|i>>>23))+((i=a+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|i>>>18))+((i=n+(s^t&(a^s))+r[12]+2368359562&4294967295)<<20&4294967295|i>>>12))+((i=t+(n^a^s)+r[5]+4294588738&4294967295)<<4&4294967295|i>>>28))+((i=s+(t^n^a)+r[8]+2272392833&4294967295)<<11&4294967295|i>>>21))+((i=a+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|i>>>16))+((i=n+(a^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|i>>>9))+((i=t+(n^a^s)+r[1]+2763975236&4294967295)<<4&4294967295|i>>>28))+((i=s+(t^n^a)+r[4]+1272893353&4294967295)<<11&4294967295|i>>>21))+((i=a+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|i>>>16))+((i=n+(a^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|i>>>9))+((i=t+(n^a^s)+r[13]+681279174&4294967295)<<4&4294967295|i>>>28))+((i=s+(t^n^a)+r[0]+3936430074&4294967295)<<11&4294967295|i>>>21))+((i=a+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|i>>>16))+((i=n+(a^s^t)+r[6]+76029189&4294967295)<<23&4294967295|i>>>9))+((i=t+(n^a^s)+r[9]+3654602809&4294967295)<<4&4294967295|i>>>28))+((i=s+(t^n^a)+r[12]+3873151461&4294967295)<<11&4294967295|i>>>21))+((i=a+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|i>>>16))+((i=n+(a^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|i>>>9))+((i=t+(a^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|i>>>26))+((i=s+(n^(t|~a))+r[7]+1126891415&4294967295)<<10&4294967295|i>>>22))+((i=a+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|i>>>17))+((i=n+(s^(a|~t))+r[5]+4237533241&4294967295)<<21&4294967295|i>>>11))+((i=t+(a^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|i>>>26))+((i=s+(n^(t|~a))+r[3]+2399980690&4294967295)<<10&4294967295|i>>>22))+((i=a+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|i>>>17))+((i=n+(s^(a|~t))+r[1]+2240044497&4294967295)<<21&4294967295|i>>>11))+((i=t+(a^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|i>>>26))+((i=s+(n^(t|~a))+r[15]+4264355552&4294967295)<<10&4294967295|i>>>22))+((i=a+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|i>>>17))+((i=n+(s^(a|~t))+r[13]+1309151649&4294967295)<<21&4294967295|i>>>11))+((s=(t=n+((i=t+(a^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|i>>>26))+((i=s+(n^(t|~a))+r[11]+3174756917&4294967295)<<10&4294967295|i>>>22))^((a=s+((i=a+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|i>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(a+(i<<21&4294967295|i>>>11))&4294967295,e.g[2]=e.g[2]+a&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,a=e.length-1;0<=a;a--){var s=0|e[a];r&&s==t||(n[a]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var a=Array(arguments.length-2),s=2;s<arguments.length;s++)a[s-2]=arguments[s];return t.prototype[n].apply(e,a)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,a=this.B,s=this.h,i=0;i<t;){if(0==s)for(;i<=r;)n(this,e,i),i+=this.blockSize;if("string"===typeof e){for(;i<t;)if(a[s++]=e.charCodeAt(i++),s==this.blockSize){n(this,a),s=0;break}}else for(;i<t;)if(a[s++]=e[i++],s==this.blockSize){n(this,a),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var a={};function s(e){return-128<=e&&128>e?function(e,t){var n=a;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function i(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return d(i(-e));for(var t=[],n=1,a=0;e>=n;a++)t[a]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],a=0;a<t;a++)n[a]=~e.g[a];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var a=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(a=a.add(n),s=c),r=y(r,1),n=y(n,1)}return t=f(e,a.j(t)),new m(a,t)}for(a=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=i(n)).j(t);h(c)||0<c.l(e);)c=(s=i(n-=r)).j(t);u(s)&&(s=l),a=a.add(s),e=f(e,c)}return new m(a,e)}function v(e){for(var t=e.g.length+1,n=[],a=0;a<t;a++)n[a]=e.i(a)<<1|e.i(a-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var a=e.g.length-n,s=[],i=0;i<a;i++)s[i]=0<t?e.i(i+n)>>>t|e.i(i+n+1)<<32-t:e.i(i+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=i(Math.pow(e,6)),n=this,r="";;){var a=g(n,t).g,s=((0<(n=f(n,a.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=a))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0,s=0;s<=t;s++){var i=a+(65535&this.i(s))+(65535&e.i(s)),o=(i>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);a=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(c)&&0>e.l(c))return i(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],a=0;a<2*t;a++)n[a]=0;for(a=0;a<this.g.length;a++)for(var s=0;s<e.g.length;s++){var l=this.i(a)>>>16,f=65535&this.i(a),m=e.i(s)>>>16,g=65535&e.i(s);n[2*a+2*s]+=f*g,p(n,2*a+2*s),n[2*a+2*s+1]+=l*g,p(n,2*a+2*s+1),n[2*a+2*s+1]+=f*m,p(n,2*a+2*s+1),n[2*a+2*s+2]+=l*m,p(n,2*a+2*s+2)}for(a=0;a<t;a++)n[a]=n[2*a+1]<<16|n[2*a];for(a=t;a<2*t;a++)n[a]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)&e.i(a);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)|e.i(a);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],a=0;a<t;a++)n[a]=this.i(a)^e.i(a);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Fa=Va.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=i,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=i(Math.pow(n,8)),a=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=i(Math.pow(n,l)),a=a.j(l).add(i(c))):a=(a=a.j(r)).add(i(c))}return a},La=Va.Integer=r}).apply("undefined"!==typeof Ua?Ua:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Ba,za,$a,Ha,Wa,qa,Ga,Ka,Xa="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ya={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Xa&&Xa];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var a=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var i=e[s];if(!(i in a))break e;a=a[i]}(r=r(s=a[e=e[e.length-1]]))!=s&&null!=r&&t(a,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,a={next:function(){if(!r&&n<e.length){var a=n++;return{value:t(a,e[a]),done:!1}}return r=!0,{done:!0,value:void 0}}};return a[Symbol.iterator]=function(){return a},a}(this,(function(e,t){return t}))}}));var r=r||{},a=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function i(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var a=Array(arguments.length-2),s=2;s<arguments.length;s++)a[s-2]=arguments[s];return t.prototype[n].apply(e,a)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let a=0;a<r;a++)e[n+a]=t[a]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=a.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let a=1;a<arguments.length;a++){for(n in r=arguments[a],r)e[n]=r[n];for(let t=0;t<x.length;t++)n=x[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function E(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function T(e){a.setTimeout((()=>{throw e}),0)}function k(){var e=A;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var S=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new _),(e=>e.reset()));class _{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,N=!1,A=new class{constructor(){this.h=this.g=null}add(e,t){const n=S.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},I=()=>{const e=a.Promise.resolve(void 0);C=()=>{e.then(R)}};var R=()=>{for(var e;e=k();){try{e.h.call(e.g)}catch(Fm){T(Fm)}var t=S;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}N=!1};function P(){this.s=this.s,this.C=this.C}function O(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},O.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};a.addEventListener("test",e,t),a.removeEventListener("test",e,t)}catch(Fm){}return e}();function M(e,t){if(O.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var a=!0;break e}catch($m){}a=!1}a||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:j[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}h(M,O);var j={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,a){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=a,this.key=++F,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function B(e){this.src=e,this.g={},this.h=0}function z(e,t){var n=t.type;if(n in e.g){var r,a=e.g[n],s=Array.prototype.indexOf.call(a,t,void 0);(r=0<=s)&&Array.prototype.splice.call(a,s,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $(e,t,n,r){for(var a=0;a<e.length;++a){var s=e[a];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return a}return-1}B.prototype.add=function(e,t,n,r,a){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var i=$(e,t,r,a);return-1<i?(t=e[i],n||(t.fa=!1)):((t=new U(t,this.src,s,!!r,a)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),W={};function q(e,t,n,r,a){if(r&&r.once)return K(e,t,n,r,a);if(Array.isArray(t)){for(var s=0;s<t.length;s++)q(e,t[s],n,r,a);return null}return n=te(n),e&&e[L]?e.K(t,n,i(r)?!!r.capture:!!r,a):G(e,t,n,!1,r,a)}function G(e,t,n,r,a,s){if(!t)throw Error("Invalid event type");var o=i(a)?!!a.capture:!!a,l=Z(e);if(l||(e[H]=l=new B(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(a=o),void 0===a&&(a=!1),e.addEventListener(t.toString(),r,a);else if(e.attachEvent)e.attachEvent(Q(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function K(e,t,n,r,a){if(Array.isArray(t)){for(var s=0;s<t.length;s++)K(e,t[s],n,r,a);return null}return n=te(n),e&&e[L]?e.L(t,n,i(r)?!!r.capture:!!r,a):G(e,t,n,!0,r,a)}function X(e,t,n,r,a){if(Array.isArray(t))for(var s=0;s<t.length;s++)X(e,t[s],n,r,a);else r=i(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$(s=e.g[t],n,r,a))&&(V(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,n,r,a)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])z(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Q(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(z(n,e),0==n.h&&(n.src=null,t[H]=null)):V(e)}}}function Q(e){return e in W?W[e]:W[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof B?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){P.call(this),this.i=new B(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new O(t,e);else if(t instanceof O)t.target=t.target||e;else{var a=t;w(t=new O(r,e),a)}if(a=!0,n)for(var s=n.length-1;0<=s;s--){var i=t.g=n[s];a=ae(i,r,!0,t)&&a}if(a=ae(i=t.g=e,r,!0,t)&&a,a=ae(i,r,!1,t)&&a,n)for(s=0;s<n.length;s++)a=ae(i=t.g=n[s],r,!1,t)&&a}function ae(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var a=!0,s=0;s<t.length;++s){var i=t[s];if(i&&!i.da&&i.capture==n){var o=i.listener,l=i.ha||i.src;i.fa&&z(e.i,i),a=!1!==o.call(l,r)&&a}}return a&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function ie(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,ie(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,P),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){X(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ie(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){P.call(this),this.h=e,this.g={}}h(le,P);var ce=[];function ue(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=a.JSON.stringify,de=a.JSON.parse,fe=class{stringify(e){return a.JSON.stringify(e,void 0)}parse(e){return a.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){O.call(this,"d")}function be(){O.call(this,"c")}h(ye,O),h(be,O);var xe={},we=null;function Ee(){return we=we||new ne}function Te(e){O.call(this,xe.La,e)}function ke(e){const t=Ee();re(t,new Te(t))}function Se(e,t){O.call(this,xe.STAT_EVENT,e),this.stat=t}function _e(e){const t=Ee();re(t,new Se(t,e))}function Ce(e,t){O.call(this,xe.Ma,e),this.size=t}function Ne(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return a.setTimeout((function(){e()}),t)}function Ae(){this.g=!0}function Ie(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var s=a[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var i=1;i<a.length;i++)a[i]=""}}}return he(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}xe.La="serverreachability",h(Te,O),xe.STAT_EVENT="statevent",h(Se,O),xe.Ma="timingevent",h(Ce,O),Ae.prototype.xa=function(){this.g=!1},Ae.prototype.info=function(){};var Re,Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Me(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new je}function je(){this.i=null,this.g="",this.h=!1}h(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Re=new De;var Le={},Fe={};function Ue(e,t,n){e.L=1,e.v=ht(it(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),$e(e),e.A=it(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),kt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new je,e.g=dn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var a="readystatechange";Array.isArray(a)||(a&&(ce[0]=a.toString()),a=ce);for(var s=0;s<a.length;s++){var i=q(n,a[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ke(),function(e,t,n,r,a,s){e.info((function(){if(e.g)if(s)for(var i="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");i=2<=h.length&&"type"==h[1]?i+(u+"=")+c+"&":i+(u+"=redacted&")}}else i=null;else i=s;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+t+"\n"+n+"\n"+i}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Be(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function ze(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function $e(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ne(c(e.ba,e),t)}function We(e){e.B&&(a.clearTimeout(e.B),e.B=null)}function qe(e){0==e.j.G||e.J||on(e.j,e)}function Ge(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ke(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(Dm){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;sn(n),Xt(n)}nn(n),_e(18)}}else n.za=a[1],0<n.za-n.T&&37500>a[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ne(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(Dm){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&sn(n),!p(t))for(a=n.Da.g.parse(t),t=0;t<a.length;t++){let c=a[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const a=c[4];null!=a&&(n.Aa=a,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var i=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),i.K){tt(r.h,i);var o=i,l=r.L;l&&(o.I=l),o.B&&(We(o),$e(o)),r.g=i}else tn(r);0<n.i.length&&Qt(n)}else"stop"!=c[0]&&"close"!=c[0]||cn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cn(n,7):Kt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}ke()}catch(Dm){}}Me.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Ht(e)?t.j():this.Y(e)},Me.prototype.Y=function(e){try{if(e==this.g)e:{const d=Ht(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Wt(this.g)))){this.J||4!=d||7==t||ke(),We(this);var n=this.g.Z();this.X=n;t:if(Be(this)){var r=Wt(this.g);e="";var s=r.length,i=4==Ht(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),qe(this);var o="";break t}this.h.i=new a.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(i&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,a,s,i){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+t+"\n"+n+"\n"+s+" "+i}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,_e(12),Ge(this),qe(this);break e}Ie(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ke(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=ze(this,o),e==Fe){4==d&&(this.s=4,_e(14),n=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,_e(15),Ie(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ie(this.i,this.l,e,null),Ke(this,e)}if(Be(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=o.length||this.h.h||(this.s=1,_e(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),rn(h),h.M=!0,_e(11))}}else Ie(this.i,this.l,o,"[Invalid Chunked Response]"),Ge(this),qe(this)}else Ie(this.i,this.l,o,null),Ke(this,o);4==d&&Ge(this),this.o&&!this.J&&(4==d?on(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&2<=Ht(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=E(e[r]);const a=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[a]||[];t[a]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,_e(12)):(this.s=0,_e(13)),Ge(this),qe(this)}}}catch(d){}},Me.prototype.cancel=function(){this.J=!0,Ge(this)},Me.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(ke(),_e(17)),Ge(this),this.s=2,qe(this)):He(this,this.S-e)};var Xe=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,a.PerformanceNavigationTiming?e=0<(e=a.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),a=r.length,i=0;i<a;i++)t.call(void 0,r[i],n&&n[i],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var at=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new xt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(at))?(this.h=!1,ot(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),lt(this,t[4]),this.l=dt(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new xt(null,this.h))}function it(e){return new st(e)}function ot(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof xt?(e.i=t,function(e,t){t&&!e.j&&(wt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Et(this,t),kt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,yt)),e.i=new xt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function ht(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?vt:gt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt=/[#\/\?@]/g,gt=/[#\?:]/g,vt=/[#\?]/g,yt=/[#\?@]/g,bt=/#/g;function xt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),a=null;if(0<=r){var s=e[n].substring(0,r);a=e[n].substring(r+1)}else s=e[n];t(s,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Et(e,t){wt(e),t=St(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Tt(e,t){return wt(e),t=St(e,t),e.g.has(t)}function kt(e,t,n){Et(e,t),0<n.length&&(e.i=null,e.g.set(St(e,t),d(n)),e.h+=n.length)}function St(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function _t(e,t,n,r,a){try{a&&(a.onload=null,a.onerror=null,a.onabort=null,a.ontimeout=null),r(n)}catch($m){}}function Ct(){this.g=new fe}function Nt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let a=e;i(e)&&(a=he(e)),t.push(r+n+"="+encodeURIComponent(a))}))}catch(Pm){throw t.push(r+"type="+encodeURIComponent("_badmap")),Pm}}function At(e){this.l=e.Ub||null,this.j=e.eb||!1}function It(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Rt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Pt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ot(e)}function Ot(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Dt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Mt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Dt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function jt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=xt.prototype).add=function(e,t){wt(this),this.i=null,e=St(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){wt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){wt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const a=e[r];for(let e=0;e<a.length;e++)n.push(t[r])}return n},e.V=function(e){wt(this);let t=[];if("string"===typeof e)Tt(this,e)&&(t=t.concat(this.g.get(St(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return wt(this),this.i=null,Tt(this,e=St(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),i=this.V(r);for(r=0;r<i.length;r++){var a=s;""!==i[r]&&(a+="="+encodeURIComponent(String(i[r]))),e.push(a)}}return this.i=e.join("&")},h(At,pe),At.prototype.g=function(){return new It(this.l,this.j)},At.prototype.i=function(e){return function(){return e}}({}),h(It,ne),(e=It.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ot(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||a).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ot(this)),this.g&&(this.readyState=3,Ot(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof a.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Pt(this):Ot(this),3==this.readyState&&Rt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Pt(this))},e.Qa=function(e){this.g&&(this.response=e,Pt(this))},e.ga=function(){this.g&&Pt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(It.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(jt,ne);var Lt=/^https?$/i,Ft=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Vt(e),zt(e)}function Vt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Ht(e)||2!=e.Z()))if(e.u&&4==Ht(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var i=String(e.D).match(at)[1]||null;!i&&a.self&&a.self.location&&(i=a.self.location.protocol.slice(0,-1)),s=!Lt.test(i?i.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<Ht(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Vt(e)}}finally{zt(e)}}}function zt(e,t){if(e.g){$t(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(Pm){}}}function $t(e){e.I&&(a.clearTimeout(e.I),e.I=null)}function Ht(e){return e.g?e.g.readyState:0}function Wt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Ja){return null}}function qt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gt(e){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qt("baseRetryDelayMs",5e3,e),this.cb=qt("retryDelaySeedMs",1e4,e),this.Wa=qt("forwardChannelMaxRetries",2,e),this.wa=qt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new Ct,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Kt(e){if(Yt(e),3==e.G){var t=e.U++,n=it(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),Zt(e,n),(t=new Me(e,e.j,t)).L=2,t.v=ht(it(n)),n=!1,a.navigator&&a.navigator.sendBeacon)try{n=a.navigator.sendBeacon(t.v.toString(),"")}catch(zm){}!n&&a.Image&&((new Image).src=t.v,n=!0),n||(t.g=dn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),$e(t)}un(e)}function Xt(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function Yt(e){Xt(e),e.u&&(a.clearTimeout(e.u),e.u=null),sn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&a.clearTimeout(e.s),e.s=null)}function Qt(e){if(!Qe(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||I(),N||(C(),N=!0),A.add(t,e),e.B=0}}function Jt(e,t){var n;n=t?t.l:e.U++;const r=it(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),Zt(e,r),e.m&&e.o&&Mt(r,e.m,e.o),n=new Me(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=en(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function Zt(e,t){e.H&&y(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function en(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var a=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=a[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let i=!0;for(let o=0;o<n;o++){let n=a[o].g;const l=a[o].map;if(n-=t,0>n)t=Math.max(0,a[o].g-100),i=!1;else try{Nt(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(i){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||I(),N||(C(),N=!0),A.add(t,e),e.v=0}}function nn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ne(c(e.Fa,e),ln(e,e.v)),e.v++,!0)}function rn(e){null!=e.A&&(a.clearTimeout(e.A),e.A=null)}function an(e){e.g=new Me(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=it(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),Zt(e,t),e.m&&e.o&&Mt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ht(it(t)),n.m=null,n.P=!0,Ve(n,e)}function sn(e){null!=e.C&&(a.clearTimeout(e.C),e.C=null)}function on(e,t){var n=null;if(e.g==t){sn(e),rn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var a=e.B;re(r=Ee(),new Ce(r,n)),Qt(e)}else tn(e);else if(3==(a=t.s)||0==a&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ne(c(e.Ga,e,t),ln(e,e.B)),e.B++,!0))}(e,t)||2==r&&nn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),a){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function ln(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||ot(r,"https"),ht(r),t?function(e,t){const n=new Ae;if(a.Image){const r=new Image;r.onload=u(_t,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(_t,n,"TestLoadImage: error",!1,t,r),r.onabort=u(_t,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(_t,n,"TestLoadImage: timeout",!1,t,r),a.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ae;const n=new AbortController,r=setTimeout((()=>{n.abort(),_t(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?_t(0,0,!0,t):_t(0,0,!1,t)})).catch((()=>{clearTimeout(r),_t(0,0,!1,t)}))}(r.toString(),n)}else _e(2);e.G=0,e.l&&e.l.sa(t),un(e),Yt(e)}function un(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof st?it(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=a.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var i=new st(null);r&&ot(i,r),t&&(i.g=t),s&&lt(i,s),n&&(i.l=n),r=i}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),Zt(e,r),r}function dn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new jt(new At({eb:n})):new jt(e.pa)).Ha(e.J),t}function fn(){}function pn(){}function mn(e,t){ne.call(this),this.g=new Gt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new yn(this)}function gn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){be.call(this),this.status=1}function yn(e){this.g=e}(e=jt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Re.g(),this.v=this.o?me(this.o):me(Re),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch($m){return void Ut(this,$m)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=a.FormData&&e instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,i]of n)this.g.setRequestHeader(a,i);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$t(this),this.u=!0,this.g.send(e),this.u=!1}catch($m){Ut(this,$m)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zt(this,!0)),jt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch(Mm){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(Mm){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Gt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){_e(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Qt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const a=new Me(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),w(s,this.S)):s=this.S),null!==this.m||this.O||(a.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=en(this,a,t),ut(n=it(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),Zt(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Dt(s)))+"&"+t:this.m&&Mt(n,this.m,s)),et(this.h,a),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),a.T=!0,Ue(a,n,null)):Ue(a,n,t),this.G=2}}else 3==this.G&&(e?Jt(this,e):0==this.i.length||Qe(this.h)||Jt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ne(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_e(10),Xt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Xt(this),nn(this),_e(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},pn.prototype.g=function(e,t){return new mn(e,t)},h(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Kt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new Xe(t.Ya++,e)),3==t.G&&Qt(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Kt(this.g),delete this.g,mn.aa.N.call(this)},h(gn,ye),h(vn,be),h(yn,fn),yn.prototype.ua=function(){re(this.g,"a")},yn.prototype.ta=function(e){re(this.g,new gn(e))},yn.prototype.sa=function(e){re(this.g,new vn)},yn.prototype.ra=function(){re(this.g,"b")},pn.prototype.createWebChannel=pn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Ka=Ya.createWebChannelTransport=function(){return new pn},Ga=Ya.getStatEventTarget=function(){return Ee()},qa=Ya.Event=xe,Wa=Ya.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,Ha=Ya.ErrorCode=Pe,Oe.COMPLETE="complete",$a=Ya.EventType=Oe,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,za=Ya.WebChannel=ge,Ya.FetchXmlHttpFactory=At,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,Ba=Ya.XhrIo=jt}).apply("undefined"!==typeof Xa?Xa:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Qa="@firebase/firestore",Ja="4.7.10";class Za{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Za.UNAUTHENTICATED=new Za(null),Za.GOOGLE_CREDENTIALS=new Za("google-credentials-uid"),Za.FIRST_PARTY=new Za("first-party-uid"),Za.MOCK_USER=new Za("mock-user");let es="11.5.0";const ts=new ht.Vy("@firebase/firestore");function ns(){return ts.logLevel}function rs(e){if(ts.logLevel<=ht.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(is);ts.debug(`Firestore (${es}): ${e}`,...a)}}function as(e){if(ts.logLevel<=ht.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(is);ts.error(`Firestore (${es}): ${e}`,...a)}}function ss(e){if(ts.logLevel<=ht.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(is);ts.warn(`Firestore (${es}): ${e}`,...a)}}function is(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(Om){return e}}function os(){const e=`FIRESTORE (${es}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw as(e),new Error(e)}function ls(e,t){e||os()}function cs(e,t){return e}const us={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class hs extends ut.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ds{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class fs{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ps{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Za.UNAUTHENTICATED)))}shutdown(){}}class ms{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class gs{constructor(e){this.t=e,this.currentUser=Za.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ls(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let a=new ds;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ds,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=a;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},i=e=>{rs("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((e=>i(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?i(e):(rs("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ds)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(rs("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ls("string"==typeof t.accessToken),new fs(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ls(null===e||"string"==typeof e),new Za(e)}}class vs{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Za.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class ys{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new vs(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Za.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class bs{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xs{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,(0,ct.xZ)(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){ls(void 0===this.o);const n=e=>{null!=e.error&&rs("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,rs("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{rs("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):rs("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new bs(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(ls("string"==typeof e.token),this.R=e.token,new bs(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ws(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function Es(){return new TextEncoder}class Ts{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=ws(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function ks(e,t){return e<t?-1:e>t?1:0}function Ss(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),a=t.codePointAt(n);if(r!==a){if(r<128&&a<128)return ks(r,a);{const s=Es(),i=Cs(s.encode(_s(e,n)),s.encode(_s(t,n)));return 0!==i?i:ks(r,a)}}n+=r>65535?2:1}return ks(e.length,t.length)}function _s(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function Cs(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return ks(e[n],t[n]);return ks(e.length,t.length)}function Ns(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const As=-62135596800,Is=1e6;class Rs{static now(){return Rs.fromMillis(Date.now())}static fromDate(e){return Rs.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Is);return new Rs(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new hs(us.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new hs(us.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<As)throw new hs(us.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new hs(us.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Is}_compareTo(e){return this.seconds===e.seconds?ks(this.nanoseconds,e.nanoseconds):ks(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-As;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ps{static fromTimestamp(e){return new Ps(e)}static min(){return new Ps(new Rs(0,0))}static max(){return new Ps(new Rs(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Os="__name__";class Ds{constructor(e,t,n){void 0===t?t=0:t>e.length&&os(),void 0===n?n=e.length-t:n>e.length-t&&os(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ds.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ds?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Ds.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return ks(e.length,t.length)}static compareSegments(e,t){const n=Ds.isNumericId(e),r=Ds.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Ds.extractNumericId(e).compare(Ds.extractNumericId(t)):Ss(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return La.fromString(e.substring(4,e.length-2))}}class Ms extends Ds{construct(e,t,n){return new Ms(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n){if(a.indexOf("//")>=0)throw new hs(us.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);e.push(...a.split("/").filter((e=>e.length>0)))}return new Ms(e)}static emptyPath(){return new Ms([])}}const js=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ls extends Ds{construct(e,t,n){return new Ls(e,t,n)}static isValidIdentifier(e){return js.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ls.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Os}static keyField(){return new Ls([Os])}static fromServerFormat(e){const t=[];let n="",r=0;const a=()=>{if(0===n.length)throw new hs(us.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new hs(us.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new hs(us.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(a(),r++)}if(a(),s)throw new hs(us.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ls(t)}static emptyPath(){return new Ls([])}}class Fs{constructor(e){this.path=e}static fromPath(e){return new Fs(Ms.fromString(e))}static fromName(e){return new Fs(Ms.fromString(e).popFirst(5))}static empty(){return new Fs(Ms.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ms.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ms.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fs(new Ms(e.slice()))}}const Us=-1;class Vs{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Vs.UNKNOWN_ID=-1;function Bs(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=Ps.fromTimestamp(1e9===r?new Rs(n+1,0):new Rs(n,r));return new $s(a,Fs.empty(),t)}function zs(e){return new $s(e.readTime,e.key,Us)}class $s{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new $s(Ps.min(),Fs.empty(),Us)}static max(){return new $s(Ps.max(),Fs.empty(),Us)}}function Hs(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Fs.comparator(e.documentKey,t.documentKey),0!==n?n:ks(e.largestBatchId,t.largestBatchId))}const Ws="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qs{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Gs(e){if(e.code!==us.FAILED_PRECONDITION||e.message!==Ws)throw e;rs("LocalStore","Unexpectedly lost primary lease")}class Ks{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&os(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ks(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ks?t:Ks.resolve(t)}catch(e){return Ks.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ks.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ks.reject(t)}static resolve(e){return new Ks(((t,n)=>{t(e)}))}static reject(e){return new Ks(((t,n)=>{n(e)}))}static waitFor(e){return new Ks(((t,n)=>{let r=0,a=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++a,s&&a===r&&t()}),(e=>n(e)))})),s=!0,a===r&&t()}))}static or(e){let t=Ks.resolve(!1);for(const n of e)t=t.next((e=>e?Ks.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Ks(((n,r)=>{const a=e.length,s=new Array(a);let i=0;for(let o=0;o<a;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++i,i===a&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new Ks(((n,r)=>{const a=()=>{!0===e()?t().next((()=>{a()}),r):n()};a()}))}}function Xs(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ys(e){return"IndexedDbTransactionError"===e.name}class Qs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.oe(e),this._e=e=>t.writeSequenceNumber(e))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Qs.ae=-1;const Js=-1;function Zs(e){return null==e}function ei(e){return 0===e&&1/e==-1/0}function ti(e){return"number"==typeof e&&Number.isInteger(e)&&!ei(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const ni="\x01";function ri(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=si(t)),t=ai(e.get(n),t);return si(t)}function ai(e,t){let n=t;const r=e.length;for(let a=0;a<r;a++){const t=e.charAt(a);switch(t){case"\0":n+="\x01\x10";break;case ni:n+="\x01\x11";break;default:n+=t}}return n}function si(e){return e+ni+"\x01"}const ii="remoteDocuments",oi="owner",li="mutationQueues",ci="mutations";const ui="documentMutations",hi="remoteDocumentsV14",di="remoteDocumentGlobal",fi="targets",pi="targetDocuments",mi="targetGlobal",gi="collectionParents",vi="clientMetadata",yi="bundles",bi="namedQueries",xi="indexConfiguration",wi="indexState",Ei="indexEntries",Ti="documentOverlays",ki="globals",Si=[li,ci,ui,ii,fi,oi,mi,pi,vi,di,gi,yi,bi],_i=[li,ci,ui,hi,fi,oi,mi,pi,vi,di,gi,yi,bi,Ti],Ci=_i,Ni=[...Ci,xi,wi,Ei];function Ai(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ii(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ri(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Pi{constructor(e,t){this.comparator=e,this.root=t||Di.EMPTY}insert(e,t){return new Pi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Di.BLACK,null,null))}remove(e){return new Pi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Di.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oi(this.root,e,this.comparator,!0)}}class Oi{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Di{constructor(e,t,n,r,a){this.key=e,this.value=t,this.color=null!=n?n:Di.RED,this.left=null!=r?r:Di.EMPTY,this.right=null!=a?a:Di.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,a){return new Di(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const a=n(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Di.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Di.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Di.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Di.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw os();if(this.right.isRed())throw os();const e=this.left.check();if(e!==this.right.check())throw os();return e+(this.isRed()?0:1)}}Di.EMPTY=null,Di.RED=!0,Di.BLACK=!1,Di.EMPTY=new class{constructor(){this.size=0}get key(){throw os()}get value(){throw os()}get color(){throw os()}get left(){throw os()}get right(){throw os()}copy(e,t,n,r,a){return this}insert(e,t,n){return new Di(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mi{constructor(e){this.comparator=e,this.data=new Pi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ji(this.data.getIterator())}getIteratorFrom(e){return new ji(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Mi))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Mi(this.comparator);return t.data=e,t}}class ji{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Li{constructor(e){this.fields=e,e.sort(Ls.comparator)}static empty(){return new Li([])}unionWith(e){let t=new Mi(Ls.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Li(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ns(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Fi extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ui{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Fi("Invalid base64 string: "+e):e}}(e);return new Ui(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ui(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ks(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ui.EMPTY_BYTE_STRING=new Ui("");const Vi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bi(e){if(ls(!!e),"string"==typeof e){let t=0;const n=Vi.exec(e);if(ls(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:zi(e.seconds),nanos:zi(e.nanos)}}function zi(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function $i(e){return"string"==typeof e?Ui.fromBase64String(e):Ui.fromUint8Array(e)}const Hi="server_timestamp",Wi="__type__",qi="__previous_value__",Gi="__local_write_time__";function Ki(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Wi])||void 0===n?void 0:n.stringValue)===Hi}function Xi(e){const t=e.mapValue.fields[qi];return Ki(t)?Xi(t):t}function Yi(e){const t=Bi(e.mapValue.fields[Gi].timestampValue);return new Rs(t.seconds,t.nanos)}class Qi{constructor(e,t,n,r,a,s,i,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=i,this.longPollingOptions=o,this.useFetchStreams=l}}const Ji="(default)";class Zi{constructor(e,t){this.projectId=e,this.database=t||Ji}static empty(){return new Zi("","")}get isDefaultDatabase(){return this.database===Ji}isEqual(e){return e instanceof Zi&&e.projectId===this.projectId&&e.database===this.database}}const eo="__type__",to="__max__",no={mapValue:{fields:{__type__:{stringValue:to}}}},ro="__vector__",ao="value";function so(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ki(e)?4:To(e)?9007199254740991:wo(e)?10:11:os()}function io(e,t){if(e===t)return!0;const n=so(e);if(n!==so(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Yi(e).isEqual(Yi(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Bi(e.timestampValue),r=Bi(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return $i(e.bytesValue).isEqual($i(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return zi(e.geoPointValue.latitude)===zi(t.geoPointValue.latitude)&&zi(e.geoPointValue.longitude)===zi(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return zi(e.integerValue)===zi(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=zi(e.doubleValue),r=zi(t.doubleValue);return n===r?ei(n)===ei(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ns(e.arrayValue.values||[],t.arrayValue.values||[],io);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ai(n)!==Ai(r))return!1;for(const a in n)if(n.hasOwnProperty(a)&&(void 0===r[a]||!io(n[a],r[a])))return!1;return!0}(e,t);default:return os()}}function oo(e,t){return void 0!==(e.values||[]).find((e=>io(e,t)))}function lo(e,t){if(e===t)return 0;const n=so(e),r=so(t);if(n!==r)return ks(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ks(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=zi(e.integerValue||e.doubleValue),r=zi(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return co(e.timestampValue,t.timestampValue);case 4:return co(Yi(e),Yi(t));case 5:return Ss(e.stringValue,t.stringValue);case 6:return function(e,t){const n=$i(e),r=$i(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let a=0;a<n.length&&a<r.length;a++){const e=ks(n[a],r[a]);if(0!==e)return e}return ks(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ks(zi(e.latitude),zi(t.latitude));return 0!==n?n:ks(zi(e.longitude),zi(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return uo(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,a,s;const i=e.fields||{},o=t.fields||{},l=null===(n=i[ao])||void 0===n?void 0:n.arrayValue,c=null===(r=o[ao])||void 0===r?void 0:r.arrayValue,u=ks((null===(a=null==l?void 0:l.values)||void 0===a?void 0:a.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:uo(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===no.mapValue&&t===no.mapValue)return 0;if(e===no.mapValue)return 1;if(t===no.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),a=t.fields||{},s=Object.keys(a);r.sort(),s.sort();for(let i=0;i<r.length&&i<s.length;++i){const e=Ss(r[i],s[i]);if(0!==e)return e;const t=lo(n[r[i]],a[s[i]]);if(0!==t)return t}return ks(r.length,s.length)}(e.mapValue,t.mapValue);default:throw os()}}function co(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ks(e,t);const n=Bi(e),r=Bi(t),a=ks(n.seconds,r.seconds);return 0!==a?a:ks(n.nanos,r.nanos)}function uo(e,t){const n=e.values||[],r=t.values||[];for(let a=0;a<n.length&&a<r.length;++a){const e=lo(n[a],r[a]);if(e)return e}return ks(n.length,r.length)}function ho(e){return fo(e)}function fo(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Bi(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return $i(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Fs.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=fo(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const a of t)r?r=!1:n+=",",n+=`${a}:${fo(e.fields[a])}`;return n+"}"}(e.mapValue):os()}function po(e){switch(so(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Xi(e);return t?16+po(t):16;case 5:return 2*e.stringValue.length;case 6:return $i(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+po(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Ii(e.fields,((e,n)=>{t+=e.length+po(n)})),t}(e.mapValue);default:throw os()}}function mo(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function go(e){return!!e&&"integerValue"in e}function vo(e){return!!e&&"arrayValue"in e}function yo(e){return!!e&&"nullValue"in e}function bo(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function xo(e){return!!e&&"mapValue"in e}function wo(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[eo])||void 0===n?void 0:n.stringValue)===ro}function Eo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ii(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Eo(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Eo(e.arrayValue.values[n]);return t}return Object.assign({},e)}function To(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===to}class ko{constructor(e){this.value=e}static empty(){return new ko({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!xo(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eo(t)}setAll(e){let t=Ls.emptyPath(),n={},r=[];e.forEach(((e,a)=>{if(!t.isImmediateParentOf(a)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=a.popLast()}e?n[a.lastSegment()]=Eo(e):r.push(a.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,n,r)}delete(e){const t=this.field(e.popLast());xo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return io(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];xo(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ii(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new ko(Eo(this.value))}}function So(e){const t=[];return Ii(e.fields,((e,n)=>{const r=new Ls([e]);if(xo(n)){const e=So(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Li(t)}class _o{constructor(e,t,n,r,a,s,i){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=a,this.data=s,this.documentState=i}static newInvalidDocument(e){return new _o(e,0,Ps.min(),Ps.min(),Ps.min(),ko.empty(),0)}static newFoundDocument(e,t,n,r){return new _o(e,1,t,Ps.min(),n,r,0)}static newNoDocument(e,t){return new _o(e,2,t,Ps.min(),Ps.min(),ko.empty(),0)}static newUnknownDocument(e,t){return new _o(e,3,t,Ps.min(),Ps.min(),ko.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ps.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ko.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ko.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ps.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof _o&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _o(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Co{constructor(e,t){this.position=e,this.inclusive=t}}function No(e,t,n){let r=0;for(let a=0;a<e.position.length;a++){const s=t[a],i=e.position[a];if(r=s.field.isKeyField()?Fs.comparator(Fs.fromName(i.referenceValue),n.key):lo(i,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Ao(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!io(e.position[n],t.position[n]))return!1;return!0}class Io{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Ro(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Po{}class Oo extends Po{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Bo(e,t,n):"array-contains"===t?new Wo(e,n):"in"===t?new qo(e,n):"not-in"===t?new Go(e,n):"array-contains-any"===t?new Ko(e,n):new Oo(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new zo(e,n):new $o(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(lo(t,this.value)):null!==t&&so(this.value)===so(t)&&this.matchesComparison(lo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return os()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Do extends Po{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Do(e,t)}matches(e){return Mo(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Mo(e){return"and"===e.op}function jo(e){return Lo(e)&&Mo(e)}function Lo(e){for(const t of e.filters)if(t instanceof Do)return!1;return!0}function Fo(e){if(e instanceof Oo)return e.field.canonicalString()+e.op.toString()+ho(e.value);if(jo(e))return e.filters.map((e=>Fo(e))).join(",");{const t=e.filters.map((e=>Fo(e))).join(",");return`${e.op}(${t})`}}function Uo(e,t){return e instanceof Oo?function(e,t){return t instanceof Oo&&e.op===t.op&&e.field.isEqual(t.field)&&io(e.value,t.value)}(e,t):e instanceof Do?function(e,t){return t instanceof Do&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Uo(n,t.filters[r])),!0)}(e,t):void os()}function Vo(e){return e instanceof Oo?function(e){return`${e.field.canonicalString()} ${e.op} ${ho(e.value)}`}(e):e instanceof Do?function(e){return e.op.toString()+" {"+e.getFilters().map(Vo).join(" ,")+"}"}(e):"Filter"}class Bo extends Oo{constructor(e,t,n){super(e,t,n),this.key=Fs.fromName(n.referenceValue)}matches(e){const t=Fs.comparator(e.key,this.key);return this.matchesComparison(t)}}class zo extends Oo{constructor(e,t){super(e,"in",t),this.keys=Ho("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class $o extends Oo{constructor(e,t){super(e,"not-in",t),this.keys=Ho("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Ho(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Fs.fromName(e.referenceValue)))}class Wo extends Oo{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vo(t)&&oo(t.arrayValue,this.value)}}class qo extends Oo{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&oo(this.value.arrayValue,t)}}class Go extends Oo{constructor(e,t){super(e,"not-in",t)}matches(e){if(oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!oo(this.value.arrayValue,t)}}class Ko extends Oo{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vo(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>oo(this.value.arrayValue,e)))}}class Xo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=a,this.startAt=s,this.endAt=i,this.le=null}}function Yo(e){return new Xo(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Qo(e){const t=cs(e);if(null===t.le){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Fo(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Zs(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>ho(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>ho(e))).join(",")),t.le=e}return t.le}function Jo(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ro(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Uo(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ao(e.startAt,t.startAt)&&Ao(e.endAt,t.endAt)}function Zo(e){return Fs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class el{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=a,this.limitType=s,this.startAt=i,this.endAt=o,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function tl(e,t,n,r,a,s,i,o){return new el(e,t,n,r,a,s,i,o)}function nl(e){return new el(e)}function rl(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function al(e){return null!==e.collectionGroup}function sl(e){const t=cs(e);if(null===t.he){t.he=[];const e=new Set;for(const a of t.explicitOrderBy)t.he.push(a),e.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Mi(Ls.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.he.push(new Io(r,n))})),e.has(Ls.keyField().canonicalString())||t.he.push(new Io(Ls.keyField(),n))}return t.he}function il(e){const t=cs(e);return t.Pe||(t.Pe=ol(t,sl(e))),t.Pe}function ol(e,t){if("F"===e.limitType)return Yo(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Io(e.field,t)}));const n=e.endAt?new Co(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Co(e.startAt.position,e.startAt.inclusive):null;return Yo(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function ll(e,t){const n=e.filters.concat([t]);return new el(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function cl(e,t,n){return new el(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ul(e,t){return Jo(il(e),il(t))&&e.limitType===t.limitType}function hl(e){return`${Qo(il(e))}|lt:${e.limitType}`}function dl(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Vo(e))).join(", ")}]`),Zs(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>ho(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>ho(e))).join(",")),`Target(${t})`}(il(e))}; limitType=${e.limitType})`}function fl(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Fs.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of sl(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=No(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,sl(e),t))&&!(e.endAt&&!function(e,t,n){const r=No(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,sl(e),t))}(e,t)}function pl(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ml(e){return(t,n)=>{let r=!1;for(const a of sl(e)){const e=gl(a,t,n);if(0!==e)return e;r=r||a.field.isKeyField()}return 0}}function gl(e,t,n){const r=e.field.isKeyField()?Fs.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),a=n.data.field(e);return null!==r&&null!==a?lo(r,a):os()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return os()}}class vl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,a]of n)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ii(this.inner,((t,n)=>{for(const[r,a]of n)e(r,a)}))}isEmpty(){return Ri(this.inner)}size(){return this.innerSize}}const yl=new Pi(Fs.comparator);function bl(){return yl}const xl=new Pi(Fs.comparator);function wl(){let e=xl;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)e=e.insert(a.key,a);return e}function El(e){let t=xl;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Tl(){return Sl()}function kl(){return Sl()}function Sl(){return new vl((e=>e.toString()),((e,t)=>e.isEqual(t)))}const _l=new Pi(Fs.comparator),Cl=new Mi(Fs.comparator);function Nl(){let e=Cl;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)e=e.add(a);return e}const Al=new Mi(ks);function Il(){return Al}function Rl(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ei(t)?"-0":t}}function Pl(e){return{integerValue:""+e}}function Ol(e,t){return ti(t)?Pl(t):Rl(e,t)}class Dl{constructor(){this._=void 0}}function Ml(e,t,n){return e instanceof Fl?function(e,t){const n={fields:{[Wi]:{stringValue:Hi},[Gi]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ki(t)&&(t=Xi(t)),t&&(n.fields[qi]=t),{mapValue:n}}(n,t):e instanceof Ul?Vl(e,t):e instanceof Bl?zl(e,t):function(e,t){const n=Ll(e,t),r=Hl(n)+Hl(e.Ie);return go(n)&&go(e.Ie)?Pl(r):Rl(e.serializer,r)}(e,t)}function jl(e,t,n){return e instanceof Ul?Vl(e,t):e instanceof Bl?zl(e,t):n}function Ll(e,t){return e instanceof $l?function(e){return go(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Fl extends Dl{}class Ul extends Dl{constructor(e){super(),this.elements=e}}function Vl(e,t){const n=Wl(t);for(const r of e.elements)n.some((e=>io(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Bl extends Dl{constructor(e){super(),this.elements=e}}function zl(e,t){let n=Wl(t);for(const r of e.elements)n=n.filter((e=>!io(e,r)));return{arrayValue:{values:n}}}class $l extends Dl{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Hl(e){return zi(e.integerValue||e.doubleValue)}function Wl(e){return vo(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ql{constructor(e,t){this.field=e,this.transform=t}}class Gl{constructor(e,t){this.version=e,this.transformResults=t}}class Kl{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Kl}static exists(e){return new Kl(void 0,e)}static updateTime(e){return new Kl(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xl(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Yl{}function Ql(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new oc(e.key,Kl.none()):new nc(e.key,e.data,Kl.none());{const n=e.data,r=ko.empty();let a=new Mi(Ls.comparator);for(let e of t.fields)if(!a.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),a=a.add(e)}return new rc(e.key,r,new Li(a.toArray()),Kl.none())}}function Jl(e,t,n){e instanceof nc?function(e,t,n){const r=e.value.clone(),a=sc(e.fieldTransforms,t,n.transformResults);r.setAll(a),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof rc?function(e,t,n){if(!Xl(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=sc(e.fieldTransforms,t,n.transformResults),a=t.data;a.setAll(ac(e)),a.setAll(r),t.convertToFoundDocument(n.version,a).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Zl(e,t,n,r){return e instanceof nc?function(e,t,n,r){if(!Xl(e.precondition,t))return n;const a=e.value.clone(),s=ic(e.fieldTransforms,r,t);return a.setAll(s),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null}(e,t,n,r):e instanceof rc?function(e,t,n,r){if(!Xl(e.precondition,t))return n;const a=ic(e.fieldTransforms,r,t),s=t.data;return s.setAll(ac(e)),s.setAll(a),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Xl(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ec(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),a=Ll(r.transform,e||null);null!=a&&(null===n&&(n=ko.empty()),n.set(r.field,a))}return n||null}function tc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ns(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ul&&t instanceof Ul||e instanceof Bl&&t instanceof Bl?Ns(e.elements,t.elements,io):e instanceof $l&&t instanceof $l?io(e.Ie,t.Ie):e instanceof Fl&&t instanceof Fl}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class nc extends Yl{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class rc extends Yl{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function ac(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function sc(e,t,n){const r=new Map;ls(e.length===n.length);for(let a=0;a<n.length;a++){const s=e[a],i=s.transform,o=t.data.field(s.field);r.set(s.field,jl(i,o,n[a]))}return r}function ic(e,t,n){const r=new Map;for(const a of e){const e=a.transform,s=n.data.field(a.field);r.set(a.field,Ml(e,s,t))}return r}class oc extends Yl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lc extends Yl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cc{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Jl(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Zl(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Zl(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=kl();return this.mutations.forEach((r=>{const a=e.get(r.key),s=a.overlayedDocument;let i=this.applyToLocalView(s,a.mutatedFields);i=t.has(r.key)?null:i;const o=Ql(s,i);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Ps.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Nl())}isEqual(e){return this.batchId===e.batchId&&Ns(this.mutations,e.mutations,((e,t)=>tc(e,t)))&&Ns(this.baseMutations,e.baseMutations,((e,t)=>tc(e,t)))}}class uc{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){ls(e.mutations.length===n.length);let r=_l;const a=e.mutations;for(let s=0;s<a.length;s++)r=r.insert(a[s].key,n[s].version);return new uc(e,t,n,r)}}class hc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class dc{constructor(e,t){this.count=e,this.unchangedNames=t}}var fc,pc;function mc(e){switch(e){case us.OK:return os();case us.CANCELLED:case us.UNKNOWN:case us.DEADLINE_EXCEEDED:case us.RESOURCE_EXHAUSTED:case us.INTERNAL:case us.UNAVAILABLE:case us.UNAUTHENTICATED:return!1;case us.INVALID_ARGUMENT:case us.NOT_FOUND:case us.ALREADY_EXISTS:case us.PERMISSION_DENIED:case us.FAILED_PRECONDITION:case us.ABORTED:case us.OUT_OF_RANGE:case us.UNIMPLEMENTED:case us.DATA_LOSS:return!0;default:return os()}}function gc(e){if(void 0===e)return as("GRPC error has no .code"),us.UNKNOWN;switch(e){case fc.OK:return us.OK;case fc.CANCELLED:return us.CANCELLED;case fc.UNKNOWN:return us.UNKNOWN;case fc.DEADLINE_EXCEEDED:return us.DEADLINE_EXCEEDED;case fc.RESOURCE_EXHAUSTED:return us.RESOURCE_EXHAUSTED;case fc.INTERNAL:return us.INTERNAL;case fc.UNAVAILABLE:return us.UNAVAILABLE;case fc.UNAUTHENTICATED:return us.UNAUTHENTICATED;case fc.INVALID_ARGUMENT:return us.INVALID_ARGUMENT;case fc.NOT_FOUND:return us.NOT_FOUND;case fc.ALREADY_EXISTS:return us.ALREADY_EXISTS;case fc.PERMISSION_DENIED:return us.PERMISSION_DENIED;case fc.FAILED_PRECONDITION:return us.FAILED_PRECONDITION;case fc.ABORTED:return us.ABORTED;case fc.OUT_OF_RANGE:return us.OUT_OF_RANGE;case fc.UNIMPLEMENTED:return us.UNIMPLEMENTED;case fc.DATA_LOSS:return us.DATA_LOSS;default:return os()}}(pc=fc||(fc={}))[pc.OK=0]="OK",pc[pc.CANCELLED=1]="CANCELLED",pc[pc.UNKNOWN=2]="UNKNOWN",pc[pc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pc[pc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pc[pc.NOT_FOUND=5]="NOT_FOUND",pc[pc.ALREADY_EXISTS=6]="ALREADY_EXISTS",pc[pc.PERMISSION_DENIED=7]="PERMISSION_DENIED",pc[pc.UNAUTHENTICATED=16]="UNAUTHENTICATED",pc[pc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pc[pc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pc[pc.ABORTED=10]="ABORTED",pc[pc.OUT_OF_RANGE=11]="OUT_OF_RANGE",pc[pc.UNIMPLEMENTED=12]="UNIMPLEMENTED",pc[pc.INTERNAL=13]="INTERNAL",pc[pc.UNAVAILABLE=14]="UNAVAILABLE",pc[pc.DATA_LOSS=15]="DATA_LOSS";let vc=null;const yc=new La([4294967295,4294967295],0);function bc(e){const t=Es().encode(e),n=new Fa;return n.update(t),new Uint8Array(n.digest())}function xc(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new La([n,r],0),new La([a,s],0)]}class wc{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Ec(`Invalid padding: ${t}`);if(n<0)throw new Ec(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Ec(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Ec(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=La.fromNumber(this.Ee)}Ae(e,t,n){let r=e.add(t.multiply(La.fromNumber(n)));return 1===r.compare(yc)&&(r=new La([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ee)return!1;const t=bc(e),[n,r]=xc(t);for(let a=0;a<this.hashCount;a++){const e=this.Ae(n,r,a);if(!this.Re(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new wc(a,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ee)return;const t=bc(e),[n,r]=xc(t);for(let a=0;a<this.hashCount;a++){const e=this.Ae(n,r,a);this.Ve(e)}}Ve(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Tc{constructor(e,t,n,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,kc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Tc(Ps.min(),r,new Pi(ks),bl(),Nl())}}class kc{constructor(e,t,n,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new kc(n,t,Nl(),Nl(),Nl())}}class Sc{constructor(e,t,n,r){this.me=e,this.removedTargetIds=t,this.key=n,this.fe=r}}class _c{constructor(e,t){this.targetId=e,this.ge=t}}class Cc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ui.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Nc{constructor(){this.pe=0,this.ye=Rc(),this.we=Ui.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return 0!==this.pe}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Nl(),t=Nl(),n=Nl();return this.ye.forEach(((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:os()}})),new kc(this.we,this.Se,e,t,n)}Me(){this.be=!1,this.ye=Rc()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,ls(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Ac{constructor(e){this.ke=e,this.qe=new Map,this.Qe=bl(),this.$e=Ic(),this.Ue=Ic(),this.Ke=new Pi(ks)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,(t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(t);break;case 3:this.Je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Ce(e.resumeToken));break;default:os()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach(((e,n)=>{this.Je(n)&&t(n)}))}Ze(e){const t=e.targetId,n=e.ge.count,r=this.Xe(t);if(r){const a=r.target;if(Zo(a))if(0===n){const e=new Fs(a.path);this.ze(t,e,_o.newNoDocument(e,Ps.min()))}else ls(1===n);else{const r=this.et(t);if(r!==n){const n=this.tt(e),a=n?this.nt(n,e,r):1;if(0!==a){this.Ye(t);const e=2===a?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==vc||vc.rt(function(e,t,n,r,a){var s,i,o,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===a,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(i=null==d?void 0:d.bits)||void 0===i?void 0:i.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.ge,this.ke.it(),n,a))}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:a=0}=t;let s,i;try{s=$i(n).toUint8Array()}catch(e){if(e instanceof Fi)return ss("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{i=new wc(s,r,a)}catch(e){return ss(e instanceof Ec?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===i.Ee?null:i}nt(e,t,n){return t.ge.count===n-this.st(e,t.targetId)?0:2}st(e,t){const n=this.ke.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const a=this.ke.it(),s=`projects/${a.projectId}/databases/${a.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.ze(t,n,null),r++)})),r}ot(e){const t=new Map;this.qe.forEach(((n,r)=>{const a=this.Xe(r);if(a){if(n.current&&Zo(a.target)){const t=new Fs(a.target.path);this._t(t).has(r)||this.ut(r,t)||this.ze(r,t,_o.newNoDocument(t,e))}n.ve&&(t.set(r,n.Fe()),n.Me())}}));let n=Nl();this.Ue.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Xe(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.Qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Tc(e,t,this.Ke,this.Qe,n);return this.Qe=bl(),this.$e=Ic(),this.Ue=Ic(),this.Ke=new Pi(ks),r}Ge(e,t){if(!this.Je(e))return;const n=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const r=this.He(e);this.ut(e,t)?r.xe(t,1):r.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),n&&(this.Qe=this.Qe.insert(t,n))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Nc,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Mi(ks),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Mi(ks),this.$e=this.$e.insert(e,t)),t}Je(e){const t=null!==this.Xe(e);return t||rs("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Nc),this.ke.getRemoteKeysForTarget(e).forEach((t=>{this.ze(e,t,null)}))}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Ic(){return new Pi(Fs.comparator)}function Rc(){return new Pi(Fs.comparator)}const Pc={asc:"ASCENDING",desc:"DESCENDING"},Oc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dc={and:"AND",or:"OR"};class Mc{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function jc(e,t){return e.useProto3Json||Zs(t)?t:{value:t}}function Lc(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Fc(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Uc(e,t){return Lc(e,t.toTimestamp())}function Vc(e){return ls(!!e),Ps.fromTimestamp(function(e){const t=Bi(e);return new Rs(t.seconds,t.nanos)}(e))}function Bc(e,t){return zc(e,t).canonicalString()}function zc(e,t){const n=function(e){return new Ms(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function $c(e){const t=Ms.fromString(e);return ls(cu(t)),t}function Hc(e,t){return Bc(e.databaseId,t.path)}function Wc(e,t){const n=$c(t);if(n.get(1)!==e.databaseId.projectId)throw new hs(us.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new hs(us.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Fs(Xc(n))}function qc(e,t){return Bc(e.databaseId,t)}function Gc(e){const t=$c(e);return 4===t.length?Ms.emptyPath():Xc(t)}function Kc(e){return new Ms(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Xc(e){return ls(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Yc(e,t,n){return{name:Hc(e,t),fields:n.value.mapValue.fields}}function Qc(e,t){let n;if(t instanceof nc)n={update:Yc(e,t.key,t.value)};else if(t instanceof oc)n={delete:Hc(e,t.key)};else if(t instanceof rc)n={update:Yc(e,t.key,t.data),updateMask:lu(t.fieldMask)};else{if(!(t instanceof lc))return os();n={verify:Hc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Fl)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ul)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Bl)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof $l)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw os()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Uc(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:os()}(e,t.precondition)),n}function Jc(e,t){return{documents:[qc(e,t.path)]}}function Zc(e,t){const n={structuredQuery:{}},r=t.path;let a;null!==t.collectionGroup?(a=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qc(e,a);const s=function(e){if(0!==e.length)return ou(Do.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const i=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:su(e.field),direction:nu(e.dir)}}(e)))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);const o=jc(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ht:n,parent:a}}function eu(e){let t=Gc(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){ls(1===r);const e=n.from[0];e.allDescendants?a=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=tu(e);return t instanceof Do&&jo(t)?t.getFilters():[t]}(n.where));let i=[];n.orderBy&&(i=function(e){return e.map((e=>function(e){return new Io(iu(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Zs(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Co(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Co(n,t)}(n.endAt)),tl(t,a,i,s,o,"F",l,c)}function tu(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=iu(e.unaryFilter.field);return Oo.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=iu(e.unaryFilter.field);return Oo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=iu(e.unaryFilter.field);return Oo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=iu(e.unaryFilter.field);return Oo.create(a,"!=",{nullValue:"NULL_VALUE"});default:return os()}}(e):void 0!==e.fieldFilter?function(e){return Oo.create(iu(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return os()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Do.create(e.compositeFilter.filters.map((e=>tu(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return os()}}(e.compositeFilter.op))}(e):os()}function nu(e){return Pc[e]}function ru(e){return Oc[e]}function au(e){return Dc[e]}function su(e){return{fieldPath:e.canonicalString()}}function iu(e){return Ls.fromServerFormat(e.fieldPath)}function ou(e){return e instanceof Oo?function(e){if("=="===e.op){if(bo(e.value))return{unaryFilter:{field:su(e.field),op:"IS_NAN"}};if(yo(e.value))return{unaryFilter:{field:su(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(bo(e.value))return{unaryFilter:{field:su(e.field),op:"IS_NOT_NAN"}};if(yo(e.value))return{unaryFilter:{field:su(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:su(e.field),op:ru(e.op),value:e.value}}}(e):e instanceof Do?function(e){const t=e.getFilters().map((e=>ou(e)));return 1===t.length?t[0]:{compositeFilter:{op:au(e.op),filters:t}}}(e):os()}function lu(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function cu(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class uu{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ps.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ps.min(),i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ui.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=i,this.expectedCount=o}withSequenceNumber(e){return new uu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new uu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new uu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new uu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class hu{constructor(e){this.Tt=e}}function du(e){const t=eu({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?cl(t,t.limit,"L"):t}class fu{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(zi(e.integerValue));else if("doubleValue"in e){const n=zi(e.doubleValue);isNaN(n)?this.ft(t,13):(this.ft(t,15),ei(n)?t.gt(0):t.gt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.ft(t,20),"string"==typeof n&&(n=Bi(n)),t.yt(`${n.seconds||""}`),t.gt(n.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt($i(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ft(t,45),t.gt(n.latitude||0),t.gt(n.longitude||0)}else"mapValue"in e?To(e)?this.ft(t,Number.MAX_SAFE_INTEGER):wo(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):os()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const n=e.fields||{};this.ft(t,55);for(const r of Object.keys(n))this.wt(r,t),this.Rt(n[r],t)}vt(e,t){var n,r;const a=e.fields||{};this.ft(t,53);const s=ao,i=(null===(r=null===(n=a[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.ft(t,15),t.gt(zi(i)),this.wt(s,t),this.Rt(a[s],t)}Ft(e,t){const n=e.values||[];this.ft(t,50);for(const r of n)this.Rt(r,t)}Dt(e,t){this.ft(t,37),Fs.fromName(e).path.forEach((e=>{this.ft(t,60),this.Mt(e,t)}))}ft(e,t){e.gt(t)}St(e){e.gt(2)}}fu.xt=new fu;class pu{constructor(){this.Tn=new mu}addToCollectionParentIndex(e,t){return this.Tn.add(t),Ks.resolve()}getCollectionParents(e,t){return Ks.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Ks.resolve()}deleteFieldIndex(e,t){return Ks.resolve()}deleteAllFieldIndexes(e){return Ks.resolve()}createTargetIndexes(e,t){return Ks.resolve()}getDocumentsMatchingTarget(e,t){return Ks.resolve(null)}getIndexType(e,t){return Ks.resolve(0)}getFieldIndexes(e,t){return Ks.resolve([])}getNextCollectionGroupToUpdate(e){return Ks.resolve(null)}getMinOffset(e,t){return Ks.resolve($s.min())}getMinOffsetFromCollectionGroup(e,t){return Ks.resolve($s.min())}updateCollectionGroup(e,t,n){return Ks.resolve()}updateIndexEntries(e,t){return Ks.resolve()}}class mu{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Mi(Ms.comparator),a=!r.has(n);return this.index[t]=r.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Mi(Ms.comparator)).toArray()}}new Uint8Array(0);const gu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vu=41943040;class yu{static withCacheSize(e){return new yu(e,yu.DEFAULT_COLLECTION_PERCENTILE,yu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}yu.DEFAULT_COLLECTION_PERCENTILE=10,yu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yu.DEFAULT=new yu(vu,yu.DEFAULT_COLLECTION_PERCENTILE,yu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yu.DISABLED=new yu(-1,0,0);class bu{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new bu(0)}static Kn(){return new bu(-1)}}const xu="LruGarbageCollector",wu=1048576;function Eu(e,t){let[n,r]=e,[a,s]=t;const i=ks(n,a);return 0===i?ks(r,s):i}class Tu{constructor(e){this.Hn=e,this.buffer=new Mi(Eu),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Eu(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ku{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(e){rs(xu,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ys(e)?rs(xu,"Ignoring IndexedDB error during garbage collection: ",e):await Gs(e)}await this.er(3e5)}))}}class Su{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Ks.resolve(Qs.ae);const n=new Tu(t);return this.tr.forEachTarget(e,(e=>n.Zn(e.sequenceNumber))).next((()=>this.tr.rr(e,(e=>n.Zn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(rs("LruGarbageCollector","Garbage collection skipped; disabled"),Ks.resolve(gu)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(rs("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gu):this.ir(e,t)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,r,a,s,i,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(rs("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,i=Date.now(),this.removeTargets(e,n,t)))).next((t=>(a=t,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),ns()<=ht.$b.DEBUG&&rs("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${r} in `+(i-s)+"ms\n"+`\tRemoved ${a} targets in `+(o-i)+"ms\n"+`\tRemoved ${e} documents in `+(l-o)+"ms\n"+`Total Duration: ${l-c}ms`),Ks.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:e}))))}}function _u(e,t){return new Su(e,t)}class Cu{constructor(){this.changes=new vl((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_o.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ks.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Nu{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Au{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Zl(n.mutation,e,Li.empty(),Rs.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Nl()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nl();const r=Tl();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=wl();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Tl();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Nl())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let a=bl();const s=Sl(),i=Sl();return t.forEach(((e,t)=>{const i=n.get(t.key);r.has(t.key)&&(void 0===i||i.mutation instanceof rc)?a=a.insert(t.key,t):void 0!==i?(s.set(t.key,i.mutation.getFieldMask()),Zl(i.mutation,t,i.mutation.getFieldMask(),Rs.now())):s.set(t.key,Li.empty())})),this.recalculateAndSaveOverlays(e,a).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return i.set(e,new Nu(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),i)))}recalculateAndSaveOverlays(e,t){const n=Sl();let r=new Pi(((e,t)=>e-t)),a=Nl();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const a of e)a.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let i=n.get(e)||Li.empty();i=a.applyToLocalView(s,i),n.set(e,i);const o=(r.get(a.batchId)||Nl()).add(e);r=r.insert(a.batchId,o)}))})).next((()=>{const s=[],i=r.getReverseIterator();for(;i.hasNext();){const r=i.getNext(),o=r.key,l=r.value,c=kl();l.forEach((e=>{if(!a.has(e)){const r=Ql(t.get(e),n.get(e));null!==r&&c.set(e,r),a=a.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Ks.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Fs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):al(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((a=>{const s=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Ks.resolve(Tl());let i=Us,o=a;return s.next((t=>Ks.forEach(t,((t,n)=>(i<n.largestBatchId&&(i=n.largestBatchId),a.get(t)?Ks.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,a))).next((()=>this.computeViews(e,o,t,Nl()))).next((e=>({batchId:i,changes:El(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Fs(t)).next((e=>{let t=wl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const a=t.collectionGroup;let s=wl();return this.indexManager.getCollectionParents(e,a).next((i=>Ks.forEach(i,(i=>{const o=function(e,t){return new el(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,i.child(a));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,r)))).next((e=>{a.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,_o.newInvalidDocument(r)))}));let n=wl();return e.forEach(((e,r)=>{const s=a.get(e);void 0!==s&&Zl(s.mutation,r,Li.empty(),Rs.now()),fl(t,r)&&(n=n.insert(e,r))})),n}))}}class Iu{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Ks.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Vc(e.createTime)}}(t)),Ks.resolve()}getNamedQuery(e,t){return Ks.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(e){return{name:e.name,query:du(e.bundledQuery),readTime:Vc(e.readTime)}}(t)),Ks.resolve()}}class Ru{constructor(){this.overlays=new Pi(Fs.comparator),this.Rr=new Map}getOverlay(e,t){return Ks.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Tl();return Ks.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Et(e,t,r)})),Ks.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Rr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Rr.delete(n)),Ks.resolve()}getOverlaysForCollection(e,t,n){const r=Tl(),a=t.length+1,s=new Fs(t.child("")),i=this.overlays.getIteratorFrom(s);for(;i.hasNext();){const e=i.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===a&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Ks.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let a=new Pi(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=a.get(e.largestBatchId);null===t&&(t=Tl(),a=a.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const i=Tl(),o=a.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>i.set(e,t))),!(i.size()>=r)););return Ks.resolve(i)}Et(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Rr.get(r.largestBatchId).delete(n.key);this.Rr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new hc(t,n));let a=this.Rr.get(t);void 0===a&&(a=Nl(),this.Rr.set(t,a)),this.Rr.set(t,a.add(n.key))}}class Pu{constructor(){this.sessionToken=Ui.EMPTY_BYTE_STRING}getSessionToken(e){return Ks.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ks.resolve()}}class Ou{constructor(){this.Vr=new Mi(Du.mr),this.gr=new Mi(Du.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new Du(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.wr(new Du(e,t))}Sr(e,t){e.forEach((e=>this.removeReference(e,t)))}br(e){const t=new Fs(new Ms([])),n=new Du(t,e),r=new Du(t,e+1),a=[];return this.gr.forEachInRange([n,r],(e=>{this.wr(e),a.push(e.key)})),a}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Fs(new Ms([])),n=new Du(t,e),r=new Du(t,e+1);let a=Nl();return this.gr.forEachInRange([n,r],(e=>{a=a.add(e.key)})),a}containsKey(e){const t=new Du(e,0),n=this.Vr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Du{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Fs.comparator(e.key,t.key)||ks(e.Cr,t.Cr)}static pr(e,t){return ks(e.Cr,t.Cr)||Fs.comparator(e.key,t.key)}}class Mu{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Mi(Du.mr)}checkEmpty(e){return Ks.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new cc(a,t,n,r);this.mutationQueue.push(s);for(const i of r)this.Mr=this.Mr.add(new Du(i.key,a)),this.indexManager.addToCollectionParentIndex(e,i.key.path.popLast());return Ks.resolve(s)}lookupMutationBatch(e,t){return Ks.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Nr(n),a=r<0?0:r;return Ks.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Ks.resolve(0===this.mutationQueue.length?Js:this.Fr-1)}getAllMutationBatches(e){return Ks.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Du(t,0),r=new Du(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([n,r],(e=>{const t=this.Or(e.Cr);a.push(t)})),Ks.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Mi(ks);return t.forEach((e=>{const t=new Du(e,0),r=new Du(e,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([t,r],(e=>{n=n.add(e.Cr)}))})),Ks.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let a=n;Fs.isDocumentKey(a)||(a=a.child(""));const s=new Du(new Fs(a),0);let i=new Mi(ks);return this.Mr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(i=i.add(e.Cr)),!0)}),s),Ks.resolve(this.Br(i))}Br(e){const t=[];return e.forEach((e=>{const n=this.Or(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){ls(0===this.Lr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Mr;return Ks.forEach(t.mutations,(r=>{const a=new Du(r.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Mr=n}))}qn(e){}containsKey(e,t){const n=new Du(t,0),r=this.Mr.firstAfterOrEqual(n);return Ks.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ks.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ju{constructor(e){this.kr=e,this.docs=new Pi(Fs.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),a=r?r.size:0,s=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ks.resolve(n?n.document.mutableCopy():_o.newInvalidDocument(t))}getEntries(e,t){let n=bl();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():_o.newInvalidDocument(e))})),Ks.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let a=bl();const s=t.path,i=new Fs(s.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:e,value:{document:i}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Hs(zs(i),n)<=0||(r.has(i.key)||fl(t,i))&&(a=a.insert(i.key,i.mutableCopy()))}return Ks.resolve(a)}getAllFromCollectionGroup(e,t,n,r){os()}qr(e,t){return Ks.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Lu(this)}getSize(e){return Ks.resolve(this.size)}}class Lu extends Cu{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(n)})),Ks.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}class Fu{constructor(e){this.persistence=e,this.Qr=new vl((e=>Qo(e)),Jo),this.lastRemoteSnapshotVersion=Ps.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Ou,this.targetCount=0,this.Kr=bu.Un()}forEachTarget(e,t){return this.Qr.forEach(((e,n)=>t(n))),Ks.resolve()}getLastRemoteSnapshotVersion(e){return Ks.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ks.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Ks.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),Ks.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new bu(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Ks.resolve()}updateTargetData(e,t){return this.zn(t),Ks.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,Ks.resolve()}removeTargets(e,t,n){let r=0;const a=[];return this.Qr.forEach(((s,i)=>{i.sequenceNumber<=t&&null===n.get(i.targetId)&&(this.Qr.delete(s),a.push(this.removeMatchingKeysForTargetId(e,i.targetId)),r++)})),Ks.waitFor(a).next((()=>r))}getTargetCount(e){return Ks.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return Ks.resolve(n)}addMatchingKeys(e,t,n){return this.Ur.yr(t,n),Ks.resolve()}removeMatchingKeys(e,t,n){this.Ur.Sr(t,n);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach((t=>{a.push(r.markPotentiallyOrphaned(e,t))})),Ks.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),Ks.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Ur.vr(t);return Ks.resolve(n)}containsKey(e,t){return Ks.resolve(this.Ur.containsKey(t))}}class Uu{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Qs(0),this.zr=!1,this.zr=!0,this.jr=new Pu,this.referenceDelegate=e(this),this.Hr=new Fu(this),this.indexManager=new pu,this.remoteDocumentCache=function(e){return new ju(e)}((e=>this.referenceDelegate.Jr(e))),this.serializer=new hu(t),this.Yr=new Iu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ru,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new Mu(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){rs("MemoryPersistence","Starting transaction:",e);const r=new Vu(this.Gr.next());return this.referenceDelegate.Zr(),n(r).next((e=>this.referenceDelegate.Xr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}ei(e,t){return Ks.or(Object.values(this.Wr).map((n=>()=>n.containsKey(e,t))))}}class Vu extends qs{constructor(e){super(),this.currentSequenceNumber=e}}class Bu{constructor(e){this.persistence=e,this.ti=new Ou,this.ni=null}static ri(e){return new Bu(e)}get ii(){if(this.ni)return this.ni;throw os()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),Ks.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),Ks.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Ks.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach((e=>this.ii.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ii.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ks.forEach(this.ii,(n=>{const r=Fs.fromPath(n);return this.si(e,r).next((e=>{e||t.removeEntry(r,Ps.min())}))})).next((()=>(this.ni=null,t.apply(e))))}updateLimboDocument(e,t){return this.si(e,t).next((e=>{e?this.ii.delete(t.toString()):this.ii.add(t.toString())}))}Jr(e){return 0}si(e,t){return Ks.or([()=>Ks.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class zu{constructor(e,t){this.persistence=e,this.oi=new vl((e=>ri(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=_u(this,t)}static ri(e,t){return new zu(e,t)}Zr(){}Xr(e){return Ks.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}sr(e){let t=0;return this.rr(e,(e=>{t++})).next((()=>t))}rr(e,t){return Ks.forEach(this.oi,((n,r)=>this.ar(e,n,r).next((e=>e?Ks.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.qr(e,(r=>this.ar(e,r,t).next((e=>{e||(n++,a.removeEntry(r,Ps.min()))})))).next((()=>a.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Ks.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),Ks.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),Ks.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Ks.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=po(e.data.value)),t}ar(e,t,n){return Ks.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.oi.get(t);return Ks.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class $u{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=r}static Yi(e,t){let n=Nl(),r=Nl();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new $u(e,t.fromCache,n,r)}}class Hu{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Wu{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=(0,ut.nr)()?8:Xs((0,ut.ZQ)())>0?6:4}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,r){const a={result:null};return this.rs(e,t).next((e=>{a.result=e})).next((()=>{if(!a.result)return this.ss(e,t,r,n).next((e=>{a.result=e}))})).next((()=>{if(a.result)return;const n=new Hu;return this._s(e,t,n).next((r=>{if(a.result=r,this.Xi)return this.us(e,t,n,r.size)}))})).next((()=>a.result))}us(e,t,n,r){return n.documentReadCount<this.es?(ns()<=ht.$b.DEBUG&&rs("QueryEngine","SDK will not create cache indexes for query:",dl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Ks.resolve()):(ns()<=ht.$b.DEBUG&&rs("QueryEngine","Query:",dl(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ts*r?(ns()<=ht.$b.DEBUG&&rs("QueryEngine","The SDK decides to create cache indexes for query:",dl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,il(t))):Ks.resolve())}rs(e,t){if(rl(t))return Ks.resolve(null);let n=il(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=cl(t,null,"F"),n=il(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const a=Nl(...r);return this.ns.getDocuments(e,a).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.cs(t,r);return this.ls(t,s,a,n.readTime)?this.rs(e,cl(t,null,"F")):this.hs(e,s,t,n)}))))})))))}ss(e,t,n,r){return rl(t)||r.isEqual(Ps.min())?Ks.resolve(null):this.ns.getDocuments(e,n).next((a=>{const s=this.cs(t,a);return this.ls(t,s,n,r)?Ks.resolve(null):(ns()<=ht.$b.DEBUG&&rs("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),dl(t)),this.hs(e,s,t,Bs(r,Us)).next((e=>e)))}))}cs(e,t){let n=new Mi(ml(e));return t.forEach(((t,r)=>{fl(e,r)&&(n=n.add(r))})),n}ls(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}_s(e,t,n){return ns()<=ht.$b.DEBUG&&rs("QueryEngine","Using full collection scan to execute query:",dl(t)),this.ns.getDocumentsMatchingQuery(e,t,$s.min(),n)}hs(e,t,n,r){return this.ns.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const qu="LocalStore";class Gu{constructor(e,t,n,r){this.persistence=e,this.Ps=t,this.serializer=r,this.Ts=new Pi(ks),this.Is=new vl((e=>Qo(e)),Jo),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Au(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ts)))}}function Ku(e,t,n,r){return new Gu(e,t,n,r)}async function Xu(e,t){const n=cs(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((a=>(r=a,n.As(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const a=[],s=[];let i=Nl();for(const e of r){a.push(e.batchId);for(const t of e.mutations)i=i.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)i=i.add(t.key)}return n.localDocuments.getDocuments(e,i).next((e=>({Rs:e,removedBatchIds:a,addedBatchIds:s})))}))}))}function Yu(e){const t=cs(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Hr.getLastRemoteSnapshotVersion(e)))}function Qu(e,t,n){let r=Nl(),a=Nl();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=bl();return n.forEach(((n,s)=>{const i=e.get(n);s.isFoundDocument()!==i.isFoundDocument()&&(a=a.add(n)),s.isNoDocument()&&s.version.isEqual(Ps.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!i.isValidDocument()||s.version.compareTo(i.version)>0||0===s.version.compareTo(i.version)&&i.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):rs(qu,"Ignoring outdated watch update for ",n,". Current version:",i.version," Watch version:",s.version)})),{Vs:r,fs:a}}))}function Ju(e,t){const n=cs(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=Js),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Zu(e,t){const n=cs(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Hr.getTargetData(e,t).next((a=>a?(r=a,Ks.resolve(r)):n.Hr.allocateTargetId(e).next((a=>(r=new uu(t,a,"TargetPurposeListen",e.currentSequenceNumber),n.Hr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(e.targetId,e),n.Is.set(t,e.targetId)),e}))}async function eh(e,t,n){const r=cs(e),a=r.Ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,a)))}catch(e){if(!Ys(e))throw e;rs(qu,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ts=r.Ts.remove(t),r.Is.delete(a.target)}function th(e,t,n){const r=cs(e);let a=Ps.min(),s=Nl();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=cs(e),a=r.Is.get(n);return void 0!==a?Ks.resolve(r.Ts.get(a)):r.Hr.getTargetData(t,n)}(r,e,il(t)).next((t=>{if(t)return a=t.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Ps.getDocumentsMatchingQuery(e,t,n?a:Ps.min(),n?s:Nl()))).next((e=>(nh(r,pl(t),e),{documents:e,gs:s})))))}function nh(e,t,n){let r=e.Es.get(t)||Ps.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Es.set(t,r)}class rh{constructor(){this.activeTargetIds=Il()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ah{constructor(){this.ho=new rh,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new rh,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class sh{To(e){}shutdown(){}}const ih="ConnectivityMonitor";class oh{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){rs(ih,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){rs(ih,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let lh=null;function ch(){return null===lh?lh=268435456+Math.round(2147483648*Math.random()):lh++,"0x"+lh.toString(16)}const uh="RestConnection",hh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dh{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${r}`,this.wo=this.databaseId.database===Ji?`project_id=${n}`:`project_id=${n}&database_id=${r}`}So(e,t,n,r,a){const s=ch(),i=this.bo(e,t.toUriEncodedString());rs(uh,`Sending RPC '${e}' ${s}:`,i,n);const o={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(o,r,a),this.vo(e,i,o,n).then((t=>(rs(uh,`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw ss(uh,`RPC '${e}' ${s} failed with error: `,t,"url: ",i,"request:",n),t}))}Co(e,t,n,r,a,s){return this.So(e,t,n,r,a)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+es,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=hh[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}class fh{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}const ph="WebChannelConnection";class mh extends dh{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,r){const a=ch();return new Promise(((s,i)=>{const o=new Ba;o.setWithCredentials(!0),o.listenOnce($a.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Ha.NO_ERROR:const t=o.getResponseJson();rs(ph,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(t)),s(t);break;case Ha.TIMEOUT:rs(ph,`RPC '${e}' ${a} timed out`),i(new hs(us.DEADLINE_EXCEEDED,"Request time out"));break;case Ha.HTTP_ERROR:const n=o.getStatus();if(rs(ph,`RPC '${e}' ${a} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(us).indexOf(t)>=0?t:us.UNKNOWN}(t.status);i(new hs(e,t.message))}else i(new hs(us.UNKNOWN,"Server responded with status "+o.getStatus()))}else i(new hs(us.UNAVAILABLE,"Connection failed."));break;default:os()}}finally{rs(ph,`RPC '${e}' ${a} completed.`)}}));const l=JSON.stringify(r);rs(ph,`RPC '${e}' ${a} sending request:`,r),o.send(t,"POST",l,n,15)}))}Wo(e,t,n){const r=ch(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Ka(),i=Ga(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Do(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=a.join("");rs(ph,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=s.createWebChannel(c,o);let h=!1,d=!1;const f=new fh({Fo:t=>{d?rs(ph,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(rs(ph,`Opening RPC '${e}' stream ${r} transport.`),u.open(),h=!0),rs(ph,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Mo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,za.EventType.OPEN,(()=>{d||(rs(ph,`RPC '${e}' stream ${r} transport opened.`),f.Qo())})),p(u,za.EventType.CLOSE,(()=>{d||(d=!0,rs(ph,`RPC '${e}' stream ${r} transport closed`),f.Uo())})),p(u,za.EventType.ERROR,(t=>{d||(d=!0,ss(ph,`RPC '${e}' stream ${r} transport errored:`,t),f.Uo(new hs(us.UNAVAILABLE,"The operation could not be completed")))})),p(u,za.EventType.MESSAGE,(t=>{var n;if(!d){const a=t.data[0];ls(!!a);const s=a,i=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(i){rs(ph,`RPC '${e}' stream ${r} received error:`,i);const t=i.status;let n=function(e){const t=fc[e];if(void 0!==t)return gc(t)}(t),a=i.message;void 0===n&&(n=us.INTERNAL,a="Unknown error status: "+t+" with message "+i.message),d=!0,f.Uo(new hs(n,a)),u.close()}else rs(ph,`RPC '${e}' stream ${r} received:`,a),f.Ko(a)}})),p(i,qa.STAT_EVENT,(t=>{t.stat===Wa.PROXY?rs(ph,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Wa.NOPROXY&&rs(ph,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.$o()}),0),f}}function gh(){return"undefined"!=typeof document?document:null}function vh(e){return new Mc(e,!0)}class yh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Ti=e,this.timerId=t,this.Go=n,this.zo=r,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),r=Math.max(0,t-n);r>0&&rs("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}const bh="PersistentStream";class xh{constructor(e,t,n,r,a,s,i,o){this.Ti=e,this.n_=n,this.r_=r,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=i,this.listener=o,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new yh(e,t)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,4!==e?this.a_.reset():t&&t.code===us.RESOURCE_EXHAUSTED?(as(t.toString()),as("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===us.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.i_===t&&this.V_(n,r)}),(t=>{e((()=>{const e=new hs(us.UNKNOWN,"Fetching auth token failed: "+t.message);return this.m_(e)}))}))}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((e=>{n((()=>this.m_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.__?this.g_(e):this.onNext(e)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return rs(bh,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget((()=>this.i_===e?t():(rs(bh,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wh extends xh{constructor(e,t,n,r,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:os()}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(ls(void 0===t||"string"==typeof t),Ui.fromBase64String(t||"")):(ls(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Ui.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),i=t.targetChange.cause,o=i&&function(e){const t=void 0===e.code?us.UNKNOWN:gc(e.code);return new hs(t,e.message||"")}(i);n=new Cc(r,a,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=Wc(e,r.document.name),s=Vc(r.document.updateTime),i=r.document.createTime?Vc(r.document.createTime):Ps.min(),o=new ko({mapValue:{fields:r.document.fields}}),l=_o.newFoundDocument(a,s,i,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Sc(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=Wc(e,r.document),s=r.readTime?Vc(r.readTime):Ps.min(),i=_o.newNoDocument(a,s),o=r.removedTargetIds||[];n=new Sc([],o,i.key,i)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=Wc(e,r.document),s=r.removedTargetIds||[];n=new Sc([],s,a,null)}else{if(!("filter"in t))return os();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:a}=e,s=new dc(r,a),i=e.targetId;n=new _c(i,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ps.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Ps.min():t.readTime?Vc(t.readTime):Ps.min()}(e);return this.listener.p_(t,n)}y_(e){const t={};t.database=Kc(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Zo(r)?{documents:Jc(e,r)}:{query:Zc(e,r).ht},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Fc(e,t.resumeToken);const r=jc(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Ps.min())>0){n.readTime=Lc(e,t.snapshotVersion.toTimestamp());const r=jc(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return os()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.I_(t)}w_(e){const t={};t.database=Kc(this.serializer),t.removeTarget=e,this.I_(t)}}class Eh extends xh{constructor(e,t,n,r,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return ls(!!e.streamToken),this.lastStreamToken=e.streamToken,ls(!e.writeResults||0===e.writeResults.length),this.listener.D_()}onNext(e){ls(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=function(e,t){return e&&e.length>0?(ls(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Vc(e.updateTime):Vc(t);return n.isEqual(Ps.min())&&(n=Vc(t)),new Gl(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Vc(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=Kc(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Qc(this.serializer,e)))};this.I_(t)}}class Th{}class kh extends Th{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new hs(us.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((a=>{let[s,i]=a;return this.connection.So(e,zc(t,n),r,s,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===us.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new hs(us.UNKNOWN,e.toString())}))}Co(e,t,n,r,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[i,o]=s;return this.connection.Co(e,zc(t,n),r,i,o,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===us.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new hs(us.UNKNOWN,e.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class Sh{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,"Online"===e&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(as(t),this.N_=!1):rs("OnlineStateTracker",t)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}const _h="RemoteStore";class Ch{constructor(e,t,n,r,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To((e=>{n.enqueueAndForget((async()=>{jh(this)&&(rs(_h,"Restarting streams for network reachability change."),await async function(e){const t=cs(e);t.W_.add(4),await Ah(t),t.j_.set("Unknown"),t.W_.delete(4),await Nh(t)}(this))}))})),this.j_=new Sh(n,r)}}async function Nh(e){if(jh(e))for(const t of e.G_)await t(!0)}async function Ah(e){for(const t of e.G_)await t(!1)}function Ih(e,t){const n=cs(e);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),Mh(n)?Dh(n):td(n).c_()&&Ph(n,t))}function Rh(e,t){const n=cs(e),r=td(n);n.K_.delete(t),r.c_()&&Oh(n,t),0===n.K_.size&&(r.c_()?r.P_():jh(n)&&n.j_.set("Unknown"))}function Ph(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ps.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}td(e).y_(t)}function Oh(e,t){e.H_.Ne(t),td(e).w_(t)}function Dh(e){e.H_=new Ac({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.K_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),td(e).start(),e.j_.B_()}function Mh(e){return jh(e)&&!td(e).u_()&&e.K_.size>0}function jh(e){return 0===cs(e).W_.size}function Lh(e){e.H_=void 0}async function Fh(e){e.j_.set("Online")}async function Uh(e){e.K_.forEach(((t,n)=>{Ph(e,t)}))}async function Vh(e,t){Lh(e),Mh(e)?(e.j_.q_(t),Dh(e)):e.j_.set("Unknown")}async function Bh(e,t,n){if(e.j_.set("Online"),t instanceof Cc&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.K_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.K_.delete(r),e.H_.removeTarget(r))}(e,t)}catch(n){rs(_h,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await zh(e,n)}else if(t instanceof Sc?e.H_.We(t):t instanceof _c?e.H_.Ze(t):e.H_.je(t),!n.isEqual(Ps.min()))try{const t=await Yu(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.H_.ot(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const a=e.K_.get(r);a&&e.K_.set(r,a.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.K_.get(t);if(!r)return;e.K_.set(t,r.withResumeToken(Ui.EMPTY_BYTE_STRING,r.snapshotVersion)),Oh(e,t);const a=new uu(r.target,t,n,r.sequenceNumber);Ph(e,a)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){rs(_h,"Failed to raise snapshot:",t),await zh(e,t)}}async function zh(e,t,n){if(!Ys(t))throw t;e.W_.add(1),await Ah(e),e.j_.set("Offline"),n||(n=()=>Yu(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{rs(_h,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await Nh(e)}))}function $h(e,t){return t().catch((n=>zh(e,n,t)))}async function Hh(e){const t=cs(e),n=nd(t);let r=t.U_.length>0?t.U_[t.U_.length-1].batchId:Js;for(;Wh(t);)try{const e=await Ju(t.localStore,r);if(null===e){0===t.U_.length&&n.P_();break}r=e.batchId,qh(t,e)}catch(e){await zh(t,e)}Gh(t)&&Kh(t)}function Wh(e){return jh(e)&&e.U_.length<10}function qh(e,t){e.U_.push(t);const n=nd(e);n.c_()&&n.S_&&n.b_(t.mutations)}function Gh(e){return jh(e)&&!nd(e).u_()&&e.U_.length>0}function Kh(e){nd(e).start()}async function Xh(e){nd(e).C_()}async function Yh(e){const t=nd(e);for(const n of e.U_)t.b_(n.mutations)}async function Qh(e,t,n){const r=e.U_.shift(),a=uc.from(r,t,n);await $h(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await Hh(e)}async function Jh(e,t){t&&nd(e).S_&&await async function(e,t){if(function(e){return mc(e)&&e!==us.ABORTED}(t.code)){const n=e.U_.shift();nd(e).h_(),await $h(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Hh(e)}}(e,t),Gh(e)&&Kh(e)}async function Zh(e,t){const n=cs(e);n.asyncQueue.verifyOperationInProgress(),rs(_h,"RemoteStore received new credentials");const r=jh(n);n.W_.add(3),await Ah(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Nh(n)}async function ed(e,t){const n=cs(e);t?(n.W_.delete(2),await Nh(n)):t||(n.W_.add(2),await Ah(n),n.j_.set("Unknown"))}function td(e){return e.J_||(e.J_=function(e,t,n){const r=cs(e);return r.M_(),new wh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:Fh.bind(null,e),No:Uh.bind(null,e),Lo:Vh.bind(null,e),p_:Bh.bind(null,e)}),e.G_.push((async t=>{t?(e.J_.h_(),Mh(e)?Dh(e):e.j_.set("Unknown")):(await e.J_.stop(),Lh(e))}))),e.J_}function nd(e){return e.Y_||(e.Y_=function(e,t,n){const r=cs(e);return r.M_(),new Eh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:Xh.bind(null,e),Lo:Jh.bind(null,e),D_:Yh.bind(null,e),v_:Qh.bind(null,e)}),e.G_.push((async t=>{t?(e.Y_.h_(),await Hh(e)):(await e.Y_.stop(),e.U_.length>0&&(rs(_h,`Stopping write stream with ${e.U_.length} pending writes`),e.U_=[]))}))),e.Y_}class rd{constructor(e,t,n,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=a,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,a){const s=Date.now()+n,i=new rd(e,t,s,r,a);return i.start(n),i}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new hs(us.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ad(e,t){if(as("AsyncQueue",`${t}: ${e}`),Ys(e))return new hs(us.UNAVAILABLE,`${t}: ${e}`);throw e}class sd{static emptySet(e){return new sd(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Fs.comparator(t.key,n.key):(e,t)=>Fs.comparator(e.key,t.key),this.keyedMap=wl(),this.sortedSet=new Pi(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sd))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new sd;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class id{constructor(){this.Z_=new Pi(Fs.comparator)}track(e){const t=e.doc.key,n=this.Z_.get(t);n?0!==e.type&&3===n.type?this.Z_=this.Z_.insert(t,e):3===e.type&&1!==n.type?this.Z_=this.Z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Z_=this.Z_.remove(t):1===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):os():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class od{constructor(e,t,n,r,a,s,i,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=i,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,a){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new od(e,t,sd.emptySet(t),s,n,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ul(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class ld{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((e=>e.ra()))}}class cd{constructor(){this.queries=ud(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(e,t){const n=cs(e),r=n.queries;n.queries=ud(),r.forEach(((e,n)=>{for(const r of n.ta)r.onError(t)}))}(this,new hs(us.ABORTED,"Firestore shutting down"))}}function ud(){return new vl((e=>hl(e)),ul)}async function hd(e,t){const n=cs(e);let r=3;const a=t.query;let s=n.queries.get(a);s?!s.na()&&t.ra()&&(r=2):(s=new ld,r=t.ra()?0:1);try{switch(r){case 0:s.ea=await n.onListen(a,!0);break;case 1:s.ea=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(e){const n=ad(e,`Initialization of query '${dl(t.query)}' failed`);return void t.onError(n)}n.queries.set(a,s),s.ta.push(t),t.sa(n.onlineState),s.ea&&t.oa(s.ea)&&md(n)}async function dd(e,t){const n=cs(e),r=t.query;let a=3;const s=n.queries.get(r);if(s){const e=s.ta.indexOf(t);e>=0&&(s.ta.splice(e,1),0===s.ta.length?a=t.ra()?0:1:!s.na()&&t.ra()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function fd(e,t){const n=cs(e);let r=!1;for(const a of t){const e=a.query,t=n.queries.get(e);if(t){for(const e of t.ta)e.oa(a)&&(r=!0);t.ea=a}}r&&md(n)}function pd(e,t,n){const r=cs(e),a=r.queries.get(t);if(a)for(const s of a.ta)s.onError(n);r.queries.delete(t)}function md(e){e.ia.forEach((e=>{e.next()}))}var gd,vd;(vd=gd||(gd={}))._a="default",vd.Cache="cache";class yd{constructor(e,t,n){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new od(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache)return!0;if(!this.ra())return!0;const n="Offline"!==t;return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Pa(e){e=od.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==gd.Cache}}class bd{constructor(e){this.key=e}}class xd{constructor(e){this.key=e}}class wd{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Nl(),this.mutatedKeys=Nl(),this.ya=ml(e),this.wa=new sd(this.ya)}get Sa(){return this.fa}ba(e,t){const n=t?t.Da:new id,r=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,s=r,i=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=fl(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.va(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.ya(u,o)>0||l&&this.ya(u,l)<0)&&(i=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(i=!0)),f&&(u?(s=s.add(u),a=d?a.add(e):a.delete(e)):(s=s.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),a=a.delete(e.key),n.track({type:1,doc:e})}return{wa:s,Da:n,ls:i,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const s=e.Da.X_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return os()}};return n(e)-n(t)}(e.type,t.type)||this.ya(e.doc,t.doc))),this.Ca(n),r=null!=r&&r;const i=t&&!r?this.Fa():[],o=0===this.pa.size&&this.current&&!r?1:0,l=o!==this.ga;return this.ga=o,0!==s.length||l?{snapshot:new od(this.query,e.wa,a,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:i}:{Ma:i}}sa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({wa:this.wa,Da:new id,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach((e=>this.fa=this.fa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.fa=this.fa.delete(e))),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Nl(),this.wa.forEach((e=>{this.xa(e.key)&&(this.pa=this.pa.add(e.key))}));const t=[];return e.forEach((e=>{this.pa.has(e)||t.push(new xd(e))})),this.pa.forEach((n=>{e.has(n)||t.push(new bd(n))})),t}Oa(e){this.fa=e.gs,this.pa=Nl();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return od.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,0===this.ga,this.hasCachedResults)}}const Ed="SyncEngine";class Td{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class kd{constructor(e){this.key=e,this.Ba=!1}}class Sd{constructor(e,t,n,r,a,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new vl((e=>hl(e)),ul),this.qa=new Map,this.Qa=new Set,this.$a=new Pi(Fs.comparator),this.Ua=new Map,this.Ka=new Ou,this.Wa={},this.Ga=new Map,this.za=bu.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}async function _d(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Gd(e);let a;const s=r.ka.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.Na()):a=await Nd(r,t,n,!0),a}async function Cd(e,t){const n=Gd(e);await Nd(n,t,!0,!1)}async function Nd(e,t,n,r){const a=await Zu(e.localStore,il(t)),s=a.targetId,i=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await Ad(e,t,s,"current"===i,a.resumeToken)),e.isPrimaryClient&&n&&Ih(e.remoteStore,a),o}async function Ad(e,t,n,r,a){e.Ha=(t,n,r)=>async function(e,t,n,r){let a=t.view.ba(n);a.ls&&(a=await th(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ba(n,a)})));const s=r&&r.targetChanges.get(t.targetId),i=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(a,e.isPrimaryClient,s,i);return Bd(e,t.targetId,o.Ma),o.snapshot}(e,t,n,r);const s=await th(e.localStore,t,!0),i=new wd(t,s.gs),o=i.ba(s.documents),l=kc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,a),c=i.applyChanges(o,e.isPrimaryClient,l);Bd(e,n,c.Ma);const u=new Td(t,n,i);return e.ka.set(t,u),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),c.snapshot}async function Id(e,t,n){const r=cs(e),a=r.ka.get(t),s=r.qa.get(a.targetId);if(s.length>1)return r.qa.set(a.targetId,s.filter((e=>!ul(e,t)))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await eh(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Rh(r.remoteStore,a.targetId),Ud(r,a.targetId)})).catch(Gs)):(Ud(r,a.targetId),await eh(r.localStore,a.targetId,!0))}async function Rd(e,t){const n=cs(e),r=n.ka.get(t),a=n.qa.get(r.targetId);n.isPrimaryClient&&1===a.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Rh(n.remoteStore,r.targetId))}async function Pd(e,t){const n=cs(e);try{const e=await function(e,t){const n=cs(e),r=t.snapshotVersion;let a=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.ds.newChangeBuffer({trackRemovals:!0});a=n.Ts;const i=[];t.targetChanges.forEach(((s,o)=>{const l=a.get(o);if(!l)return;i.push(n.Hr.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.Hr.addMatchingKeys(e,s.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Ui.EMPTY_BYTE_STRING,Ps.min()).withLastLimboFreeSnapshotVersion(Ps.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),a=a.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&i.push(n.Hr.updateTargetData(e,c))}));let o=bl(),l=Nl();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&i.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),i.push(Qu(e,s,t.documentUpdates).next((e=>{o=e.Vs,l=e.fs}))),!r.isEqual(Ps.min())){const t=n.Hr.getLastRemoteSnapshotVersion(e).next((t=>n.Hr.setTargetsMetadata(e,e.currentSequenceNumber,r)));i.push(t)}return Ks.waitFor(i).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.Ts=a,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ua.get(t);r&&(ls(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ba=!0:e.modifiedDocuments.size>0?ls(r.Ba):e.removedDocuments.size>0&&(ls(r.Ba),r.Ba=!1))})),await Hd(n,e,t)}catch(e){await Gs(e)}}function Od(e,t,n){const r=cs(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ka.forEach(((n,r)=>{const a=r.view.sa(t);a.snapshot&&e.push(a.snapshot)})),function(e,t){const n=cs(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const a of n.ta)a.sa(t)&&(r=!0)})),r&&md(n)}(r.eventManager,t),e.length&&r.La.p_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Dd(e,t,n){const r=cs(e);r.sharedClientState.updateQueryState(t,"rejected",n);const a=r.Ua.get(t),s=a&&a.key;if(s){let e=new Pi(Fs.comparator);e=e.insert(s,_o.newNoDocument(s,Ps.min()));const n=Nl().add(s),a=new Tc(Ps.min(),new Map,new Pi(ks),e,n);await Pd(r,a),r.$a=r.$a.remove(s),r.Ua.delete(t),$d(r)}else await eh(r.localStore,t,!1).then((()=>Ud(r,t,n))).catch(Gs)}async function Md(e,t){const n=cs(e),r=t.batch.batchId;try{const e=await function(e,t){const n=cs(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),a=n.ds.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const a=n.batch,s=a.keys();let i=Ks.resolve();return s.forEach((e=>{i=i.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);ls(null!==s),t.version.compareTo(s)<0&&(a.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),i.next((()=>e.mutationQueue.removeMutationBatch(t,a)))}(n,e,t,a).next((()=>a.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Nl();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Fd(n,r,null),Ld(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hd(n,e)}catch(e){await Gs(e)}}async function jd(e,t,n){const r=cs(e);try{const e=await function(e,t){const n=cs(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(ls(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Fd(r,t,n),Ld(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Hd(r,e)}catch(n){await Gs(n)}}function Ld(e,t){(e.Ga.get(t)||[]).forEach((e=>{e.resolve()})),e.Ga.delete(t)}function Fd(e,t,n){const r=cs(e);let a=r.Wa[r.currentUser.toKey()];if(a){const e=a.get(t);e&&(n?e.reject(n):e.resolve(),a=a.remove(t)),r.Wa[r.currentUser.toKey()]=a}}function Ud(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.qa.get(t))e.ka.delete(r),n&&e.La.Ja(r,n);e.qa.delete(t),e.isPrimaryClient&&e.Ka.br(t).forEach((t=>{e.Ka.containsKey(t)||Vd(e,t)}))}function Vd(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);null!==n&&(Rh(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ua.delete(n),$d(e))}function Bd(e,t,n){for(const r of n)r instanceof bd?(e.Ka.addReference(r.key,t),zd(e,r)):r instanceof xd?(rs(Ed,"Document no longer in limbo: "+r.key),e.Ka.removeReference(r.key,t),e.Ka.containsKey(r.key)||Vd(e,r.key)):os()}function zd(e,t){const n=t.key,r=n.path.canonicalString();e.$a.get(n)||e.Qa.has(r)||(rs(Ed,"New document in limbo: "+n),e.Qa.add(r),$d(e))}function $d(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new Fs(Ms.fromString(t)),r=e.za.next();e.Ua.set(r,new kd(n)),e.$a=e.$a.insert(n,r),Ih(e.remoteStore,new uu(il(nl(n.path)),r,"TargetPurposeLimboResolution",Qs.ae))}}async function Hd(e,t,n){const r=cs(e),a=[],s=[],i=[];r.ka.isEmpty()||(r.ka.forEach(((e,o)=>{i.push(r.Ha(o,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const a=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,a?"current":"not-current")}if(e){a.push(e);const t=$u.Yi(o.targetId,e);s.push(t)}})))})),await Promise.all(i),r.La.p_(a),await async function(e,t){const n=cs(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Ks.forEach(t,(t=>Ks.forEach(t.Hi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Ks.forEach(t.Ji,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Ys(e))throw e;rs(qu,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ts.get(e),r=t.snapshotVersion,a=t.withLastLimboFreeSnapshotVersion(r);n.Ts=n.Ts.insert(e,a)}}}(r.localStore,s))}async function Wd(e,t){const n=cs(e);if(!n.currentUser.isEqual(t)){rs(Ed,"User change. New user:",t.toKey());const e=await Xu(n.localStore,t);n.currentUser=t,function(e,t){e.Ga.forEach((e=>{e.forEach((e=>{e.reject(new hs(us.CANCELLED,t))}))})),e.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Hd(n,e.Rs)}}function qd(e,t){const n=cs(e),r=n.Ua.get(t);if(r&&r.Ba)return Nl().add(r.key);{let e=Nl();const r=n.qa.get(t);if(!r)return e;for(const t of r){const r=n.ka.get(t);e=e.unionWith(r.view.Sa)}return e}}function Gd(e){const t=cs(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Pd.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=qd.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Dd.bind(null,t),t.La.p_=fd.bind(null,t.eventManager),t.La.Ja=pd.bind(null,t.eventManager),t}function Kd(e){const t=cs(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Md.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=jd.bind(null,t),t}class Xd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return Ku(this.persistence,new Wu,e.initialUser,this.serializer)}Xa(e){return new Uu(Bu.ri,this.serializer)}Za(e){return new ah}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xd.provider={build:()=>new Xd};class Yd extends Xd{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){ls(this.persistence.referenceDelegate instanceof zu);const n=this.persistence.referenceDelegate.garbageCollector;return new ku(n,e.asyncQueue,t)}Xa(e){const t=void 0!==this.cacheSizeBytes?yu.withCacheSize(this.cacheSizeBytes):yu.DEFAULT;return new Uu((e=>zu.ri(e,t)),this.serializer)}}class Qd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Od(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Wd.bind(null,this.syncEngine),await ed(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new cd}createDatastore(e){const t=vh(e.databaseInfo.databaseId),n=function(e){return new mh(e)}(e.databaseInfo);return function(e,t,n,r){return new kh(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,a){return new Ch(e,t,n,r,a)}(this.localStore,this.datastore,e.asyncQueue,(e=>Od(this.syncEngine,e,0)),oh.D()?new oh:new sh)}createSyncEngine(e,t){return function(e,t,n,r,a,s,i){const o=new Sd(e,t,n,r,a,s);return i&&(o.ja=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=cs(e);rs(_h,"RemoteStore shutting down."),t.W_.add(5),await Ah(t),t.z_.shutdown(),t.j_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Qd.provider={build:()=>new Qd};class Jd{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):as("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Zd="FirestoreClient";class ef{constructor(e,t,n,r,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Za.UNAUTHENTICATED,this.clientId=Ts.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async e=>{rs(Zd,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(rs(Zd,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(Om){const n=ad(Om,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function tf(e,t){e.asyncQueue.verifyOperationInProgress(),rs(Zd,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Xu(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function nf(e,t){e.asyncQueue.verifyOperationInProgress();const n=await rf(e);rs(Zd,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Zh(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Zh(t.remoteStore,n))),e._onlineComponents=t}async function rf(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){rs(Zd,"Using user provided OfflineComponentProvider");try{await tf(e,e._uninitializedComponentsProvider._offline)}catch(Om){const n=Om;if(!function(e){return"FirebaseError"===e.name?e.code===us.FAILED_PRECONDITION||e.code===us.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;ss("Error using user provided cache. Falling back to memory cache: "+n),await tf(e,new Xd)}}else rs(Zd,"Using default OfflineComponentProvider"),await tf(e,new Yd(void 0));return e._offlineComponents}async function af(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(rs(Zd,"Using user provided OnlineComponentProvider"),await nf(e,e._uninitializedComponentsProvider._online)):(rs(Zd,"Using default OnlineComponentProvider"),await nf(e,new Qd))),e._onlineComponents}function sf(e){return af(e).then((e=>e.syncEngine))}async function of(e){const t=await af(e),n=t.eventManager;return n.onListen=_d.bind(null,t.syncEngine),n.onUnlisten=Id.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Cd.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Rd.bind(null,t.syncEngine),n}function lf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ds;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,a){const s=new Jd({next:o=>{s.su(),t.enqueueAndForget((()=>dd(e,i)));const l=o.docs.has(n);!l&&o.fromCache?a.reject(new hs(us.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?a.reject(new hs(us.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):a.resolve(o)},error:e=>a.reject(e)}),i=new yd(nl(n.path),s,{includeMetadataChanges:!0,Ta:!0});return hd(e,i)}(await of(e),e.asyncQueue,t,n,r))),r.promise}function cf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ds;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,a){const s=new Jd({next:n=>{s.su(),t.enqueueAndForget((()=>dd(e,i))),n.fromCache&&"server"===r.source?a.reject(new hs(us.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):a.resolve(n)},error:e=>a.reject(e)}),i=new yd(n,s,{includeMetadataChanges:!0,Ta:!0});return hd(e,i)}(await of(e),e.asyncQueue,t,n,r))),r.promise}function uf(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const hf=new Map;function df(e,t,n){if(!n)throw new hs(us.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function ff(e){if(!Fs.isDocumentKey(e))throw new hs(us.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function pf(e){if(Fs.isDocumentKey(e))throw new hs(us.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function mf(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":os()}function gf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new hs(us.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mf(e);throw new hs(us.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}const vf="firestore.googleapis.com",yf=!0;class bf{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new hs(us.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vf,this.ssl=yf}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:yf;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=vu;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<wu)throw new hs(us.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new hs(us.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uf(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new hs(us.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new hs(us.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new hs(us.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xf{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new hs(us.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new hs(us.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bf(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ps;switch(e.type){case"firstParty":return new ys(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new hs(us.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=hf.get(e);t&&(rs("ComponentProvider","Removing Datastore"),hf.delete(e),t.terminate())}(this),Promise.resolve()}}class wf{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new wf(this.firestore,e,this._query)}}class Ef{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ef(this.firestore,e,this._key)}}class Tf extends wf{constructor(e,t,n){super(e,t,nl(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ef(this.firestore,null,new Fs(e))}withConverter(e){return new Tf(this.firestore,e,this._path)}}function kf(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=(0,ut.Ku)(e),df("collection","path",t),e instanceof xf){const n=Ms.fromString(t,...r);return pf(n),new Tf(e,null,n)}{if(!(e instanceof Ef||e instanceof Tf))throw new hs(us.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ms.fromString(t,...r));return pf(n),new Tf(e.firestore,null,n)}}function Sf(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=(0,ut.Ku)(e),1===arguments.length&&(t=Ts.newId()),df("doc","path",t),e instanceof xf){const n=Ms.fromString(t,...r);return ff(n),new Ef(e,null,new Fs(n))}{if(!(e instanceof Ef||e instanceof Tf))throw new hs(us.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ms.fromString(t,...r));return ff(n),new Ef(e.firestore,e instanceof Tf?e.converter:null,new Fs(n))}}const _f="AsyncQueue";class Cf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new yh(this,"async_queue_retry"),this.Su=()=>{const e=gh();e&&rs(_f,"Visibility state changed to "+e.visibilityState),this.a_.t_()},this.bu=e;const t=gh();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=gh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const t=new ds;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(0!==this.Vu.length){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(Pm){if(!Ys(Pm))throw Pm;rs(_f,"Operation failed with retryable error: "+Pm)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const t=this.bu.then((()=>(this.pu=!0,e().catch((e=>{this.gu=e,this.pu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw as("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.pu=!1,e))))));return this.bu=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const r=rd.createAndSchedule(this,e,t,n,(e=>this.Fu(e)));return this.fu.push(r),r}Du(){this.gu&&os()}verifyOperationInProgress(){}async Mu(){let e;do{e=this.bu,await e}while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.fu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function Nf(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Af extends xf{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Cf,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Cf(e),this._firestoreClient=void 0,await e}}}function If(e){if(e._terminated)throw new hs(us.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Rf(e),e._firestoreClient}function Rf(e){var t,n,r;const a=e._freezeSettings(),s=function(e,t,n,r){return new Qi(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,uf(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||(null===(n=a.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=a.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new ef(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Pf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pf(Ui.fromBase64String(e))}catch(e){throw new hs(us.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Pf(Ui.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Of{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new hs(us.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ls(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Df{constructor(e){this._methodName=e}}class Mf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new hs(us.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new hs(us.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ks(this._lat,e._lat)||ks(this._long,e._long)}}class jf{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Lf=/^__.*__$/;class Ff{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new rc(e,this.data,this.fieldMask,t,this.fieldTransforms):new nc(e,this.data,t,this.fieldTransforms)}}class Uf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new rc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Vf(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw os()}}class Bf{constructor(e,t,n,r,a,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===a&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Bf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.$u(e),r}Uu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.Bu(),r}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return rp(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(0===e.length)throw this.Wu("Document fields must not be empty");if(Vf(this.Lu)&&Lf.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class zf{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||vh(e)}ju(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Bf({Lu:e,methodName:t,zu:n,path:Ls.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $f(e){const t=e._freezeSettings(),n=vh(e._databaseId);return new zf(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Hf(e,t,n,r,a){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const i=e.ju(s.merge||s.mergeFields?2:0,t,n,a);Zf("Data must be an object, but it was:",i,r);const o=Qf(r,i);let l,c;if(s.merge)l=new Li(i.fieldMask),c=i.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const a=ep(t,r,n);if(!i.contains(a))throw new hs(us.INVALID_ARGUMENT,`Field '${a}' is specified in your field mask but missing from your input data.`);ap(e,a)||e.push(a)}l=new Li(e),c=i.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=i.fieldTransforms;return new Ff(new ko(o),l,c)}class Wf extends Df{_toFieldTransform(e){if(2!==e.Lu)throw 1===e.Lu?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wf}}class qf extends Df{_toFieldTransform(e){return new ql(e.path,new Fl)}isEqual(e){return e instanceof qf}}function Gf(e,t,n,r){const a=e.ju(1,t,n);Zf("Data must be an object, but it was:",a,r);const s=[],i=ko.empty();Ii(r,((e,r)=>{const o=np(t,e,n);r=(0,ut.Ku)(r);const l=a.Uu(o);if(r instanceof Wf)s.push(o);else{const e=Yf(r,l);null!=e&&(s.push(o),i.set(o,e))}}));const o=new Li(s);return new Uf(i,o,a.fieldTransforms)}function Kf(e,t,n,r,a,s){const i=e.ju(1,t,n),o=[ep(t,r,n)],l=[a];if(s.length%2!=0)throw new hs(us.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)o.push(ep(t,s[d])),l.push(s[d+1]);const c=[],u=ko.empty();for(let d=o.length-1;d>=0;--d)if(!ap(c,o[d])){const e=o[d];let t=l[d];t=(0,ut.Ku)(t);const n=i.Uu(e);if(t instanceof Wf)c.push(e);else{const r=Yf(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new Li(c);return new Uf(u,h,i.fieldTransforms)}function Xf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Yf(n,e.ju(r?4:3,t))}function Yf(e,t){if(Jf(e=(0,ut.Ku)(e)))return Zf("Unsupported field value:",t,e),Qf(e,t);if(e instanceof Df)return function(e,t){if(!Vf(t.Lu))throw t.Wu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Wu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&4!==t.Lu)throw t.Wu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const a of e){let e=Yf(a,t.Ku(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,ut.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ol(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Rs.fromDate(e);return{timestampValue:Lc(t.serializer,n)}}if(e instanceof Rs){const n=new Rs(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Lc(t.serializer,n)}}if(e instanceof Mf)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Pf)return{bytesValue:Fc(t.serializer,e._byteString)};if(e instanceof Ef){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Wu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Bc(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof jf)return function(e,t){return{mapValue:{fields:{[eo]:{stringValue:ro},[ao]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Wu("VectorValues must only contain numeric values.");return Rl(t.serializer,e)}))}}}}}}(e,t);throw t.Wu(`Unsupported field value: ${mf(e)}`)}(e,t)}function Qf(e,t){const n={};return Ri(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ii(e,((e,r)=>{const a=Yf(r,t.qu(e));null!=a&&(n[e]=a)})),{mapValue:{fields:n}}}function Jf(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Rs||e instanceof Mf||e instanceof Pf||e instanceof Ef||e instanceof Df||e instanceof jf)}function Zf(e,t,n){if(!Jf(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=mf(n);throw"an object"===r?t.Wu(e+" a custom object"):t.Wu(e+" "+r)}}function ep(e,t,n){if((t=(0,ut.Ku)(t))instanceof Of)return t._internalPath;if("string"==typeof t)return np(e,t);throw rp("Field path arguments must be of type string or ",e,!1,void 0,n)}const tp=new RegExp("[~\\*/\\[\\]]");function np(e,t,n){if(t.search(tp)>=0)throw rp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Of(...t.split("."))._internalPath}catch(r){throw rp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function rp(e,t,n,r,a){const s=r&&!r.isEmpty(),i=void 0!==a;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||i)&&(l+=" (found",s&&(l+=` in field ${r}`),i&&(l+=` in document ${a}`),l+=")"),new hs(us.INVALID_ARGUMENT,o+e+l)}function ap(e,t){return e.some((e=>e.isEqual(t)))}class sp{constructor(e,t,n,r,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ef(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ip(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(op("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ip extends sp{data(){return super.data()}}function op(e,t){return"string"==typeof t?np(e,t):t instanceof Of?t._internalPath:t._delegate._internalPath}function lp(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new hs(us.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cp{}class up extends cp{}function hp(e,t){let n=[];for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];t instanceof cp&&n.push(t),n=n.concat(a),function(e){const t=e.filter((e=>e instanceof pp)).length,n=e.filter((e=>e instanceof dp)).length;if(t>1||t>0&&n>0)throw new hs(us.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)e=i._apply(e);return e}class dp extends up{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new dp(e,t,n)}_apply(e){const t=this._parse(e);return bp(e._query,t),new wf(e.firestore,e.converter,ll(e._query,t))}_parse(e){const t=$f(e.firestore),n=function(e,t,n,r,a,s,i){let o;if(a.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new hs(us.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){yp(i,s);const t=[];for(const n of i)t.push(vp(r,e,n));o={arrayValue:{values:t}}}else o=vp(r,e,i)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||yp(i,s),o=Xf(n,t,i,"in"===s||"not-in"===s);return Oo.create(a,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function fp(e,t,n){const r=t,a=op("where",e);return dp._create(a,r,n)}class pp extends cp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new pp(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Do.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const a of r)bp(n,a),n=ll(n,a)}(e._query,t),new wf(e.firestore,e.converter,ll(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class mp extends up{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new mp(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new hs(us.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new hs(us.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Io(t,n)}(e._query,this._field,this._direction);return new wf(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new el(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function gp(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=op("orderBy",e);return mp._create(n,t)}function vp(e,t,n){if("string"==typeof(n=(0,ut.Ku)(n))){if(""===n)throw new hs(us.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!al(t)&&-1!==n.indexOf("/"))throw new hs(us.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Ms.fromString(n));if(!Fs.isDocumentKey(r))throw new hs(us.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mo(e,new Fs(r))}if(n instanceof Ef)return mo(e,n._key);throw new hs(us.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mf(n)}.`)}function yp(e,t){if(!Array.isArray(e)||0===e.length)throw new hs(us.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function bp(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new hs(us.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new hs(us.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class xp{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(so(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw os()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Ii(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const a=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[ao].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>zi(e.doubleValue)));return new jf(a)}convertGeoPoint(e){return new Mf(zi(e.latitude),zi(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Xi(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Yi(e));default:return null}}convertTimestamp(e){const t=Bi(e);return new Rs(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ms.fromString(e);ls(cu(n));const r=new Zi(n.get(1),n.get(3)),a=new Fs(n.popFirst(5));return r.isEqual(t)||as(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function wp(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Ep{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Tp extends sp{constructor(e,t,n,r,a,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new kp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(op("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class kp extends Tp{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Sp{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ep(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new kp(this._firestore,this._userDataWriter,n.key,n,new Ep(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new hs(us.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new kp(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Ep(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new kp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ep(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let a=-1,s=-1;return 0!==t.type&&(a=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:_p(t.type),doc:r,oldIndex:a,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function _p(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return os()}}class Cp extends xp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ef(this.firestore,null,t)}}function Np(e){e=gf(e,wf);const t=gf(e.firestore,Af),n=If(t),r=new Cp(t);return lp(e._query),cf(n,e._query).then((n=>new Sp(t,r,e,n)))}function Ap(e,t,n){e=gf(e,Ef);const r=gf(e.firestore,Af),a=wp(e.converter,t,n);return Dp(r,[Hf($f(r),"setDoc",e._key,a,null!==e.converter,n).toMutation(e._key,Kl.none())])}function Ip(e,t,n){e=gf(e,Ef);const r=gf(e.firestore,Af),a=$f(r);let s;for(var i=arguments.length,o=new Array(i>3?i-3:0),l=3;l<i;l++)o[l-3]=arguments[l];return s="string"==typeof(t=(0,ut.Ku)(t))||t instanceof Of?Kf(a,"updateDoc",e._key,t,n,o):Gf(a,"updateDoc",e._key,t),Dp(r,[s.toMutation(e._key,Kl.exists(!0))])}function Rp(e){return Dp(gf(e.firestore,Af),[new oc(e._key,Kl.none())])}function Pp(e,t){const n=gf(e.firestore,Af),r=Sf(e),a=wp(e.converter,t);return Dp(n,[Hf($f(e.firestore),"addDoc",r._key,a,null!==e.converter,{}).toMutation(r._key,Kl.exists(!1))]).then((()=>r))}function Op(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a,s,i;e=(0,ut.Ku)(e);let o={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||Nf(n[l])||(o=n[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Nf(n[l])){const e=n[l];n[l]=null===(a=e.next)||void 0===a?void 0:a.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let u,h,d;if(e instanceof Ef)h=gf(e.firestore,Af),d=nl(e._key.path),u={next:t=>{n[l]&&n[l](Mp(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=gf(e,wf);h=gf(t.firestore,Af),d=t._query;const r=new Cp(h);u={next:e=>{n[l]&&n[l](new Sp(h,r,t,e))},error:n[l+1],complete:n[l+2]},lp(e._query)}return function(e,t,n,r){const a=new Jd(r),s=new yd(t,a,n);return e.asyncQueue.enqueueAndForget((async()=>hd(await of(e),s))),()=>{a.su(),e.asyncQueue.enqueueAndForget((async()=>dd(await of(e),s)))}}(If(h),d,c,u)}function Dp(e,t){return function(e,t){const n=new ds;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Kd(e);try{const e=await function(e,t){const n=cs(e),r=Rs.now(),a=t.reduce(((e,t)=>e.add(t.key)),Nl());let s,i;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=bl(),l=Nl();return n.ds.getEntries(e,a).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((a=>{s=a;const i=[];for(const e of t){const t=ec(e,s.get(e.key).overlayedDocument);null!=t&&i.push(new rc(e.key,t,So(t.value.mapValue),Kl.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,i,t)})).next((t=>{i=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:i.batchId,changes:El(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Wa[e.currentUser.toKey()];r||(r=new Pi(ks)),r=r.insert(t,n),e.Wa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Hd(r,e.changes),await Hh(r.remoteStore)}catch(e){const t=ad(e,"Failed to persist write");n.reject(t)}}(await sf(e),t,n))),n.promise}(If(e),t)}function Mp(e,t,n){const r=n.docs.get(t._key),a=new Cp(e);return new Tp(e,a,t._key,r,new Ep(n.hasPendingWrites,n.fromCache),t.converter)}function jp(){return new qf("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){es=e}(ct.MF),(0,ct.om)(new ft.uA("firestore",((e,n)=>{let{instanceIdentifier:r,options:a}=n;const s=e.getProvider("app").getImmediate(),i=new Af(new gs(e.getProvider("auth-internal")),new xs(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new hs(us.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zi(e.options.projectId,t)}(s,r),s);return a=Object.assign({useFetchStreams:t},a),i._setSettings(a),i}),"PUBLIC").setMultipleInstances(!0)),(0,ct.KO)(Qa,Ja,e),(0,ct.KO)(Qa,Ja,"esm2017")}();const Lp="firebasestorage.googleapis.com",Fp="storageBucket";class Up extends ut.g{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(zp(e),`Firebase Storage: ${t} (${zp(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Up.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return zp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var Vp,Bp;function zp(e){return"storage/"+e}function $p(){return new Up(Vp.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Hp(){return new Up(Vp.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Wp(){return new Up(Vp.CANCELED,"User canceled the upload/download.")}function qp(e){return new Up(Vp.INVALID_ARGUMENT,e)}function Gp(){return new Up(Vp.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Vp||(Vp={}));class Kp{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Kp.makeFromUrl(e,t)}catch(Pm){return new Kp(e,"")}if(""===n.path)return n;throw r=e,new Up(Vp.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const a=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const i=t.replace(/[.]/g,"\\."),o=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${i}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp(`^https?://${t===Lp?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let a=r[t.indices.path];a||(a=""),n=new Kp(e,a),t.postModify(n);break}}if(null==n)throw function(e){return new Up(Vp.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Xp{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Yp(e,t,n,r){if(r<t)throw qp(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw qp(`Invalid value for '${e}'. Expected ${n} or less.`)}function Qp(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Jp(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),a=-1!==t.indexOf(e);return n||r||a}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Bp||(Bp={}));class Zp{constructor(e,t,n,r,a,s,i,o,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=i,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new em(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Bp.NO_ERROR,a=n.getStatus();if(!t||Jp(a,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Bp.ABORT;return void e(!1,new em(!1,null,t))}const s=-1!==this.successCodes_.indexOf(a);e(!0,new em(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,a=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(a,a.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(Pm){r(Pm)}else if(null!==a){const e=$p();e.serverResponse=a.getErrorText(),this.errorCallback_?r(this.errorCallback_(a,e)):r(e)}else if(t.canceled){r(this.appDelete_?Gp():Wp())}else{r(Hp())}};this.canceled_?t(0,new em(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,a=null,s=null,i=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){a=setTimeout((()=>{a=null,e(f,l())}),t)}function d(){s&&clearTimeout(s)}function f(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(e)return d(),void u.call(null,e,...n);if(l()||i)return d(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===o?(o=2,s=0):s=1e3*(r+Math.random()),h(s)}let p=!1;function m(e){p||(p=!0,d(),c||(null!==a?(e||(o=2),clearTimeout(a),h(0)):e||(o=1)))}return h(0),s=setTimeout((()=>{i=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class em{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function tm(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class nm{constructor(e,t){this._service=e,this._location=t instanceof Kp?t:Kp.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new nm(e,t)}get root(){const e=new Kp(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return tm(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Kp(this._location.bucket,e);return new nm(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Up(Vp.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function rm(e,t){const n=null===t||void 0===t?void 0:t[Fp];return null==n?null:Kp.makeFromBucketSpec(n,e)}class am{constructor(e,t,n,r,a){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=a,this._bucket=null,this._host=Lp,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Kp.makeFromBucketSpec(r,this._host):rm(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Kp.makeFromBucketSpec(this._url,e):this._bucket=rm(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Yp("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Yp("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if((0,ct.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new nm(this,e)}_makeRequest(e,t,n,r){let a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Xp(Gp());{const s=function(e,t,n,r,a,s){let i=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=Qp(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new Zp(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a,i)}(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const sm="@firebase/storage",im="0.13.7",om="storage";function lm(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),a=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new am(r,a,s,n,ct.MF)}(0,ct.om)(new ft.uA(om,lm,"PUBLIC").setMultipleInstances(!0)),(0,ct.KO)(sm,im,""),(0,ct.KO)(sm,im,"esm2017");const cm=(0,ct.Wp)({apiKey:"AIzaSyDn6hkVqCHSecXOJQjAVLVff03ZrJf6vUs",authDomain:"estoque-34b5b.firebaseapp.com",projectId:"estoque-34b5b",storageBucket:"estoque-34b5b.appspot.com",messagingSenderId:"264063633115",appId:"1:264063633115:web:fef555193143a80be0aefe",measurementId:"G-W16FF9Z5PS"}),um=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ct.Sx)();const t=(0,ct.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,ct.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,ut.bD)(r,null!==t&&void 0!==t?t:{}))return e;bt(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Ia,persistence:[Vr,xr,Sr]}),r=(0,ut.XA)("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(a=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Da)return;const r=null===t||void 0===t?void 0:t.token;Ma!==r&&(Ma=r,await fetch(a,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){(0,ut.Ku)(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){(0,ut.Ku)(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var a;const s=(0,ut.Tj)("auth");return s&&Vn(n,`http://${s}`),n}(cm),hm=function(e,t){const n="object"==typeof e?e:(0,ct.Sx)(),r="string"==typeof e?e:t||Ji,a=(0,ct.j6)(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const e=(0,ut.yU)("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var a;const s=(e=gf(e,xf))._getSettings(),i=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),o=`${t}:${n}`;s.host!==vf&&s.host!==o&&ss("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},s),{host:o,ssl:!1,emulatorOptions:r});if(!(0,ut.bD)(l,i)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Za.MOCK_USER;else{t=(0,ut.Fy)(r.mockUserToken,null===(a=e._app)||void 0===a?void 0:a.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new hs(us.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Za(s)}e._authCredentials=new ms(new fs(t,n))}}(a,...e)}return a}(cm);!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,ct.Sx)(),t=arguments.length>1?arguments[1]:void 0;e=(0,ut.Ku)(e);const n=(0,ct.j6)(e,om).getImmediate({identifier:t}),r=(0,ut.yU)("storage");r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:a}=r;a&&(e._overrideAuthToken="string"===typeof a?a:(0,ut.Fy)(a,e.app.options.projectId))}(e,t,n,r)}(n,...r)}(cm);mr(um,xr).catch((e=>{console.error("Persist\xeancia de autentica\xe7\xe3o falhou:",e)})),"undefined"!==typeof window&&n.e(437).then(n.bind(n,437)).then((e=>{let{getAnalytics:t,isSupported:n}=e;return n().then((e=>e&&t(cm)))})).catch((()=>{}));var dm=n(579);const fm=new rr;function pm(){const[e,t]=(0,r.useState)(""),[n,a]=(0,r.useState)(""),[s,i]=(0,r.useState)(""),[o,l]=(0,r.useState)(!1),c=te();return(0,dm.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4",children:(0,dm.jsxs)("div",{className:"bg-white p-10 rounded-xl shadow-xl w-full max-w-md space-y-6",children:[(0,dm.jsx)("div",{className:"flex justify-center mb-4",children:(0,dm.jsx)("img",{src:"/logo-vtex.png",alt:"VTEX Logo",className:"h-20"})}),(0,dm.jsx)("h1",{className:"text-2xl font-bold text-center text-pink-600",children:"Login"}),(0,dm.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),l(!0),i("");try{await mr(um,xr),await function(e,t,n){return(0,ct.xZ)(e.app)?Promise.reject(Et(e)):fr((0,ut.Ku)(e),Zn.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&pr(e),t}))}(um,e,n),c("/")}catch(r){console.error("Erro ao logar com e-mail:",r.message),i("E-mail ou senha inv\xe1lidos.")}finally{l(!1)}},className:"space-y-4",children:[(0,dm.jsxs)("div",{children:[(0,dm.jsx)("label",{className:"text-sm text-gray-700",children:"E-mail"}),(0,dm.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),required:!0,className:"w-full mt-1 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-pink-400"})]}),(0,dm.jsxs)("div",{children:[(0,dm.jsx)("label",{className:"text-sm text-gray-700",children:"Senha"}),(0,dm.jsx)("input",{type:"password",value:n,onChange:e=>a(e.target.value),required:!0,className:"w-full mt-1 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-pink-400"})]}),s&&(0,dm.jsx)("p",{className:"text-red-500 text-sm",children:s}),(0,dm.jsx)("button",{type:"submit",disabled:o,className:"w-full bg-pink-600 text-white py-2 rounded-lg hover:bg-pink-700 transition",children:o?"Entrando...":"Entrar"})]}),(0,dm.jsxs)("div",{className:"relative my-4 text-center",children:[(0,dm.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,dm.jsx)("span",{className:"bg-white px-2 text-sm text-gray-500",children:"ou"})}),(0,dm.jsx)("hr",{className:"border-gray-300"})]}),(0,dm.jsxs)("button",{onClick:async()=>{i("");try{await mr(um,xr);const e=await async function(e,t,n){if((0,ct.xZ)(e.app))return Promise.reject(xt(e,"operation-not-supported-in-this-environment"));const r=Nn(e);Tt(e,t,er);const a=qr(r,n);return new Zr(r,"signInViaPopup",t,a).executeNotNull()}(um,fm);if(!e.user.email.endsWith("@vtex.com"))return i("Apenas e-mails @vtex.com s\xe3o permitidos."),void await um.signOut();c("/")}catch(e){console.error("Erro ao logar com Google:",e.message),i("Erro ao fazer login com o Google.")}},className:"w-full border border-gray-300 rounded-lg flex items-center justify-center gap-3 py-2 hover:shadow transition",children:[(0,dm.jsx)("img",{src:"/google-icon.svg",alt:"Google",className:"w-5 h-5"}),(0,dm.jsx)("span",{className:"text-gray-700 font-medium",children:"Entrar com Google"})]})]})})}const mm=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,((e,t,n)=>n?n.toUpperCase():t.toLowerCase())))(e);return t.charAt(0).toUpperCase()+t.slice(1)},gm=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t)).join(" ").trim()};var vm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ym=(0,r.forwardRef)(((e,t)=>{let{color:n="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:c,...u}=e;return(0,r.createElement)("svg",{ref:t,...vm,width:a,height:a,stroke:n,strokeWidth:i?24*Number(s)/Number(a):s,className:gm("lucide",o),...u},[...c.map((e=>{let[t,n]=e;return(0,r.createElement)(t,n)})),...Array.isArray(l)?l:[l]])})),bm=(e,t)=>{const n=(0,r.forwardRef)(((n,a)=>{let{className:s,...i}=n;return(0,r.createElement)(ym,{ref:a,iconNode:t,className:gm(`lucide-${o=mm(e),o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,s),...i});var o}));return n.displayName=mm(e),n},xm=bm("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),wm=bm("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Em=bm("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),Tm=bm("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),km=bm("mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Sm=bm("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),_m=bm("cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);function Cm(e){let{ok:t,children:n}=e;return(0,dm.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-xs font-semibold "+(t?"bg-green-500/15 text-green-400":"bg-red-500/15 text-red-400"),children:[t?(0,dm.jsx)(xm,{className:"w-3.5 h-3.5"}):(0,dm.jsx)(wm,{className:"w-3.5 h-3.5"}),n]})}const Nm=e=>{try{return e?"function"===typeof(null===e||void 0===e?void 0:e.toDate)?e.toDate().toLocaleString("pt-BR"):"string"===typeof e?new Date(e).toLocaleString("pt-BR"):String(e):"\u2014"}catch{return"\u2014"}};function Am(e){let{open:t,onClose:n,notebook:r={},onEdit:a}=e;if(!t)return null;const{modelo:s,serial:i,status:o,email:l,observacao:c,createdAt:u,createdBy:h,updatedAt:d,updatedBy:f,movimentacao:p}=r||{},m=(o||"").toString().toLowerCase().includes("dispon");return(0,dm.jsx)("div",{className:"fixed inset-0 z-[100] bg-black/70 backdrop-blur-sm flex items-center justify-center p-4",children:(0,dm.jsxs)("div",{className:"w-full max-w-3xl modal-card overflow-hidden",children:[(0,dm.jsxs)("div",{className:"modal-head px-6 py-4 flex items-center justify-between",children:[(0,dm.jsxs)("div",{className:"min-w-0",children:[(0,dm.jsx)("h2",{className:"text-xl font-bold truncate",children:s||"Notebook"}),(0,dm.jsxs)("p",{className:"text-[var(--text-muted)] text-xs mt-1 flex items-center gap-2",children:[(0,dm.jsx)(Em,{className:"w-4 h-4"}),(0,dm.jsxs)("span",{className:"truncate",children:["Serial:"," ",(0,dm.jsx)("span",{className:"text-[var(--accent)]",children:i||"\u2014"})]})]})]}),(0,dm.jsx)("button",{onClick:n,className:"px-3 py-2 rounded-lg border border-transparent text-[var(--text-muted)] hover:text-white hover:bg-white/5 hover:border-[var(--line)] transition",title:"Fechar",children:(0,dm.jsx)(Tm,{className:"w-4 h-4"})})]}),(0,dm.jsxs)("div",{className:"px-6 py-5 space-y-5",children:[(0,dm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,dm.jsxs)("div",{className:"rounded-xl border border-[var(--line)] bg-[var(--bg-card)] p-4",children:[(0,dm.jsx)("div",{className:"text-xs text-[var(--text-muted)] mb-1",children:"Status"}),(0,dm.jsx)("div",{className:"flex items-center gap-2",children:(0,dm.jsx)(Cm,{ok:m,children:m?"Dispon\xedvel":o||"Indispon\xedvel"})})]}),(0,dm.jsxs)("div",{className:"rounded-xl border border-[var(--line)] bg-[var(--bg-card)] p-4",children:[(0,dm.jsx)("div",{className:"text-xs text-[var(--text-muted)] mb-1",children:"E-mail"}),(0,dm.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,dm.jsx)(km,{className:"w-4 h-4 text-[var(--text-muted)]"}),(0,dm.jsx)("span",{className:"truncate",children:l||"\u2014"})]})]})]}),(0,dm.jsxs)("div",{className:"space-y-4",children:[(0,dm.jsxs)("div",{className:"rounded-xl border border-[var(--line)] bg-[var(--bg-card)] p-4",children:[(0,dm.jsxs)("div",{className:"text-xs text-[var(--text-muted)] uppercase tracking-wide font-semibold flex items-center gap-2",children:[(0,dm.jsx)(Sm,{className:"w-4 h-4 text-[var(--accent)]"}),"Observa\xe7\xe3o"]}),(0,dm.jsx)("p",{className:"text-sm mt-2 text-[var(--text)] whitespace-pre-wrap",children:c||"\u2014"})]}),(0,dm.jsxs)("div",{className:"rounded-xl border border-[var(--line)] bg-[var(--bg-card)] p-4",children:[(0,dm.jsxs)("div",{className:"text-xs text-[var(--text-muted)] uppercase tracking-wide font-semibold flex items-center gap-2",children:[(0,dm.jsx)(_m,{className:"w-4 h-4 text-[var(--accent)]"}),"Movimenta\xe7\xe3o"]}),(0,dm.jsx)("p",{className:"text-sm mt-2 text-[var(--text)] whitespace-pre-wrap",children:p||"\u2014"})]})]}),(0,dm.jsx)("div",{className:"rounded-xl border border-[var(--line)] bg-[var(--bg-card)] p-4 text-xs text-[var(--text-muted)]",children:(0,dm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[(0,dm.jsxs)("div",{children:[(0,dm.jsx)("span",{className:"font-semibold text-[var(--text)]",children:"Criado em:"})," ",Nm(u)," ",(0,dm.jsxs)("span",{className:"ml-2",children:["por:"," ",(0,dm.jsx)("span",{className:"text-[var(--text)]",children:h||"\u2014"})]})]}),(0,dm.jsxs)("div",{children:[(0,dm.jsx)("span",{className:"font-semibold text-[var(--text)]",children:"Atualizado em:"})," ",Nm(d)," ",(0,dm.jsxs)("span",{className:"ml-2",children:["por:"," ",(0,dm.jsx)("span",{className:"text-[var(--text)]",children:f||"\u2014"})]})]})]})})]}),(0,dm.jsxs)("div",{className:"px-6 py-4 border-t border-[var(--line)] bg-[var(--bg-soft)]/60 flex justify-end gap-2",children:[(0,dm.jsx)("button",{onClick:n,className:"px-4 py-2 rounded-lg border border-[var(--line)] text-[var(--text)] hover:bg-white/5 transition",children:"Fechar"}),"function"===typeof a&&(0,dm.jsx)("button",{onClick:()=>a(r),className:"px-4 py-2 rounded-lg border border-[var(--line)] text-white bg-[var(--accent)] hover:brightness-105 transition disabled:opacity-40 disabled:cursor-not-allowed",children:"Editar"})]})]})})}const Im=bm("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Rm=bm("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);let Pm={data:""},Om=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Pm,Dm=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Mm=/\/\*[^]*?\*\/|  +/g,jm=/\n+/g,Lm=(e,t)=>{let n="",r="",a="";for(let s in e){let i=e[s];"@"==s[0]?"i"==s[1]?n=s+" "+i+";":r+="f"==s[1]?Lm(i,s):s+"{"+Lm(i,"k"==s[1]?"":t)+"}":"object"==typeof i?r+=Lm(i,t?t.replace(/([^,])+/g,(e=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):s):null!=i&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Lm.p?Lm.p(s,i):s+":"+i+";")}return n+(t&&a?t+"{"+a+"}":a)+r},Fm={},Um=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+Um(e[n]);return t}return e},Vm=(e,t,n,r,a)=>{let s=Um(e),i=Fm[s]||(Fm[s]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(s));if(!Fm[i]){let t=s!==e?e:(e=>{let t,n,r=[{}];for(;t=Dm.exec(e.replace(Mm,""));)t[4]?r.shift():t[3]?(n=t[3].replace(jm," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(jm," ").trim();return r[0]})(e);Fm[i]=Lm(a?{["@keyframes "+i]:t}:t,n?"":"."+i)}let o=n&&Fm.g?Fm.g:null;return n&&(Fm.g=Fm[i]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(Fm[i],t,r,o),i};function Bm(e){let t=this||{},n=e.call?e(t.p):e;return Vm(n.unshift?n.raw?((e,t,n)=>e.reduce(((e,r,a)=>{let s=t[a];if(s&&s.call){let e=s(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;s=t?"."+t:e&&"object"==typeof e?e.props?"":Lm(e,""):!1===e?"":e}return e+r+(null==s?"":s)}),""))(n,[].slice.call(arguments,1),t.p):n.reduce(((e,n)=>Object.assign(e,n&&n.call?n(t.p):n)),{}):n,Om(t.target),t.g,t.o,t.k)}Bm.bind({g:1});let zm,$m,Hm,Wm=Bm.bind({k:1});function qm(e,t){let n=this||{};return function(){let r=arguments;function a(s,i){let o=Object.assign({},s),l=o.className||a.className;n.p=Object.assign({theme:$m&&$m()},o),n.o=/ *go\d+/.test(l),o.className=Bm.apply(n,r)+(l?" "+l:""),t&&(o.ref=i);let c=e;return e[0]&&(c=o.as||e,delete o.as),Hm&&c[0]&&Hm(o),zm(c,o)}return t?t(a):a}}var Gm=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,Km=(()=>{let e=0;return()=>(++e).toString()})(),Xm=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Ym=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case 2:let{toast:n}=t;return Ym(e,{type:e.toasts.find((e=>e.id===n.id))?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map((e=>e.id===r||void 0===r?{...e,dismissed:!0,visible:!1}:e))};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map((e=>({...e,pauseDuration:e.pauseDuration+a})))}}},Qm=[],Jm={toasts:[],pausedAt:void 0},Zm=e=>{Jm=Ym(Jm,e),Qm.forEach((e=>{e(Jm)}))},eg={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},tg=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return{createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||Km()}}(t,e,n);return Zm({type:2,toast:r}),r.id},ng=(e,t)=>tg("blank")(e,t);ng.error=tg("error"),ng.success=tg("success"),ng.loading=tg("loading"),ng.custom=tg("custom"),ng.dismiss=e=>{Zm({type:3,toastId:e})},ng.remove=e=>Zm({type:4,toastId:e}),ng.promise=(e,t,n)=>{let r=ng.loading(t.loading,{...n,...null==n?void 0:n.loading});return"function"==typeof e&&(e=e()),e.then((e=>{let a=t.success?Gm(t.success,e):void 0;return a?ng.success(a,{id:r,...n,...null==n?void 0:n.success}):ng.dismiss(r),e})).catch((e=>{let a=t.error?Gm(t.error,e):void 0;a?ng.error(a,{id:r,...n,...null==n?void 0:n.error}):ng.dismiss(r)})),e};var rg=(e,t)=>{Zm({type:1,toast:{id:e,height:t}})},ag=()=>{Zm({type:5,time:Date.now()})},sg=new Map,ig=e=>{let{toasts:t,pausedAt:n}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,n]=(0,r.useState)(Jm),a=(0,r.useRef)(Jm);(0,r.useEffect)((()=>(a.current!==Jm&&n(Jm),Qm.push(n),()=>{let e=Qm.indexOf(n);e>-1&&Qm.splice(e,1)})),[]);let s=t.toasts.map((t=>{var n,r,a;return{...e,...e[t.type],...t,removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||eg[t.type],style:{...e.style,...null==(a=e[t.type])?void 0:a.style,...t.style}}}));return{...t,toasts:s}}(e);(0,r.useEffect)((()=>{if(n)return;let e=Date.now(),r=t.map((t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout((()=>ng.dismiss(t.id)),n);t.visible&&ng.dismiss(t.id)}));return()=>{r.forEach((e=>e&&clearTimeout(e)))}}),[t,n]);let a=(0,r.useCallback)((()=>{n&&Zm({type:6,time:Date.now()})}),[n]),s=(0,r.useCallback)(((e,n)=>{let{reverseOrder:r=!1,gutter:a=8,defaultPosition:s}=n||{},i=t.filter((t=>(t.position||s)===(e.position||s)&&t.height)),o=i.findIndex((t=>t.id===e.id)),l=i.filter(((e,t)=>t<o&&e.visible)).length;return i.filter((e=>e.visible)).slice(...r?[l+1]:[0,l]).reduce(((e,t)=>e+(t.height||0)+a),0)}),[t]);return(0,r.useEffect)((()=>{t.forEach((e=>{if(e.dismissed)!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(sg.has(e))return;let n=setTimeout((()=>{sg.delete(e),Zm({type:4,toastId:e})}),t);sg.set(e,n)}(e.id,e.removeDelay);else{let t=sg.get(e.id);t&&(clearTimeout(t),sg.delete(e.id))}}))}),[t]),{toasts:t,handlers:{updateHeight:rg,startPause:ag,endPause:a,calculateOffset:s}}},og=Wm`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,lg=Wm`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,cg=Wm`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ug=qm("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${og} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${lg} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${cg} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,hg=Wm`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,dg=qm("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${hg} 1s linear infinite;
`,fg=Wm`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,pg=Wm`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,mg=qm("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${fg} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${pg} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,gg=qm("div")`
  position: absolute;
`,vg=qm("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,yg=Wm`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,bg=qm("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${yg} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,xg=e=>{let{toast:t}=e,{icon:n,type:a,iconTheme:s}=t;return void 0!==n?"string"==typeof n?r.createElement(bg,null,n):n:"blank"===a?null:r.createElement(vg,null,r.createElement(dg,{...s}),"loading"!==a&&r.createElement(gg,null,"error"===a?r.createElement(ug,{...s}):r.createElement(mg,{...s})))},wg=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,Eg=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,Tg=qm("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,kg=qm("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Sg=r.memo((e=>{let{toast:t,position:n,style:a,children:s}=e,i=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,a]=Xm()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[wg(n),Eg(n)];return{animation:t?`${Wm(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Wm(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(t.position||n||"top-center",t.visible):{opacity:0},o=r.createElement(xg,{toast:t}),l=r.createElement(kg,{...t.ariaProps},Gm(t.message,t));return r.createElement(Tg,{className:t.className,style:{...i,...a,...t.style}},"function"==typeof s?s({icon:o,message:l}):r.createElement(r.Fragment,null,o,l))}));!function(e,t,n,r){Lm.p=t,zm=e,$m=n,Hm=r}(r.createElement);var _g=e=>{let{id:t,className:n,style:a,onHeightUpdate:s,children:i}=e,o=r.useCallback((e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;s(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}}),[t,s]);return r.createElement("div",{ref:o,className:n,style:a},i)},Cg=Bm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ng=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:a,gutter:s,children:i,containerStyle:o,containerClassName:l}=e,{toasts:c,handlers:u}=ig(a);return r.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...o},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map((e=>{let a=e.position||n,o=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Xm()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...a}})(a,u.calculateOffset(e,{reverseOrder:t,gutter:s,defaultPosition:n}));return r.createElement(_g,{id:e.id,key:e.id,onHeightUpdate:u.updateHeight,className:e.visible?Cg:"",style:o},"custom"===e.type?Gm(e.message,e):i?i(e):r.createElement(Sg,{toast:e,position:a}))})))};const Ag=bm("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Ig={success:{Icon:Ag,border:"border-emerald-500/40",icon:"text-emerald-300"},error:{Icon:wm,border:"border-rose-500/40",icon:"text-rose-300"},info:{Icon:Sm,border:"border-sky-500/40",icon:"text-sky-300"}};const Rg=function(){let{message:e,description:t,type:n="success",duration:r=4e3}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e)return;const a=Ig[n]||Ig.info,{Icon:s,border:i,icon:o}=a;return ng.custom((n=>(0,dm.jsxs)("div",{className:["pointer-events-auto w-80 rounded-xl bg-[#0f0f17]/95 backdrop-blur border shadow-lg","px-4 py-3 text-sm text-white flex items-start gap-3 transition-all duration-200",i,n.visible?"translate-x-0 opacity-100":"translate-x-6 opacity-0"].join(" "),children:[(0,dm.jsx)("div",{className:["mt-0.5 rounded-full bg-white/5 p-1.5 flex-shrink-0",o].join(" "),children:(0,dm.jsx)(s,{className:"w-4 h-4"})}),(0,dm.jsxs)("div",{className:"flex-1",children:[(0,dm.jsx)("p",{className:"font-semibold text-sm leading-5",children:e}),t&&(0,dm.jsx)("p",{className:"mt-1 text-xs text-white/70 leading-4",children:t})]})]})),{position:"top-right",duration:r})},Pg=[{id:"disponivel",label:"Dispon\xedvel"},{id:"indisponivel",label:"Indispon\xedvel"}];function Og(e){let{value:t}=e;const n="disponivel"===(t||"").toString().toLowerCase().normalize("NFD").replace(/\p{Diacritic}/gu,""),r=n?xm:wm;return(0,dm.jsxs)("span",{className:["inline-flex items-center gap-1 text-xs font-semibold px-2 py-0.5 rounded-full",n?"bg-emerald-500/15 text-emerald-300":"bg-rose-500/15 text-rose-300"].join(" "),children:[(0,dm.jsx)(r,{className:"w-3.5 h-3.5"}),n?"Dispon\xedvel":"Indispon\xedvel"]})}function Dg(e){let{open:t,onClose:n,notebook:a,collectionName:s,onDelete:i,deleting:o=!1}=e;const[l,c]=(0,r.useState)(Pg),[u,h]=(0,r.useState)((()=>({modelo:(null===a||void 0===a?void 0:a.modelo)||"",status:(null===a||void 0===a?void 0:a.status)||Pg[0].label,email:(null===a||void 0===a?void 0:a.email)||"",observacao:(null===a||void 0===a?void 0:a.observacao)||(null===a||void 0===a?void 0:a.obs)||"",serial:(null===a||void 0===a?void 0:a.serial)||""}))),[d,f]=(0,r.useState)(!1);if((0,r.useEffect)((()=>{if(!t)return;const e=Op(Sf(hm,"appSettings","global"),(e=>{var t;const n=e.data()||{},r=Array.isArray(null===n||void 0===n||null===(t=n.inventory)||void 0===t?void 0:t.statuses)?n.inventory.statuses.map((e=>{if("string"===typeof e){const t=e.trim();if(!t)return null;return{id:t.toLowerCase().normalize("NFD").replace(/\p{Diacritic}/gu,"").replace(/\s+/g,"-")||t,label:t}}const t=((null===e||void 0===e?void 0:e.label)||(null===e||void 0===e?void 0:e.nome)||"").trim();return t?{id:(null===e||void 0===e?void 0:e.id)||t.toLowerCase().normalize("NFD").replace(/\p{Diacritic}/gu,"").replace(/\s+/g,"-"),label:t,system:Boolean(null===e||void 0===e?void 0:e.system)}:null})).filter(Boolean):[];r.length?c(r):c(Pg)}),(e=>{console.error("N\xe3o foi poss\xedvel carregar status configurados:",e),c(Pg)}));return()=>e()}),[t]),(0,r.useEffect)((()=>{var e,n;t&&h({modelo:(null===a||void 0===a?void 0:a.modelo)||"",status:(null===a||void 0===a?void 0:a.status)||(null===(e=l.find((e=>"Dispon\xedvel"===e.label)))||void 0===e?void 0:e.label)||(null===(n=l[0])||void 0===n?void 0:n.label)||"",email:(null===a||void 0===a?void 0:a.email)||"",observacao:(null===a||void 0===a?void 0:a.observacao)||(null===a||void 0===a?void 0:a.obs)||"",serial:(null===a||void 0===a?void 0:a.serial)||""})}),[t,a,l]),!t||null===a||void 0===a||!a.id)return null;const p=(e,t)=>{h((n=>({...n,[e]:t})))};return(0,dm.jsx)("div",{className:"fixed inset-0 z-[120] bg-black/70 backdrop-blur-sm flex items-center justify-center p-4",children:(0,dm.jsxs)("div",{className:"w-full max-w-3xl modal-card overflow-hidden",children:[(0,dm.jsxs)("div",{className:"modal-head px-6 py-4 flex items-center justify-between",children:[(0,dm.jsxs)("div",{children:[(0,dm.jsx)("h2",{className:"text-xl font-semibold text-[var(--text)]",children:"Editar Notebook"}),(0,dm.jsxs)("p",{className:"text-xs text-[var(--text-muted)] mt-1",children:["Serial atual:"," ",(0,dm.jsx)("span",{className:"font-mono text-[var(--accent)]",children:a.serial||"\u2014"})]})]}),(0,dm.jsx)("button",{onClick:n,className:"p-2 rounded-lg border border-transparent text-[var(--text-muted)] hover:text-white hover:bg-white/5 hover:border-[var(--line)] transition","aria-label":"Fechar",children:(0,dm.jsx)(Tm,{className:"w-5 h-5"})})]}),(0,dm.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t={modelo:u.modelo.trim(),status:u.status,email:u.email.trim(),observacao:u.observacao.trim(),serial:u.serial.trim(),updatedAt:jp()};if(t.modelo){f(!0);try{await Ip(Sf(hm,s,a.id),t),Rg({type:"success",message:"Notebook atualizado com sucesso."}),null===n||void 0===n||n()}catch(r){console.error(r),Rg({type:"error",message:"N\xe3o foi poss\xedvel atualizar notebook.",description:null===r||void 0===r?void 0:r.message})}finally{f(!1)}}else Rg({type:"error",message:"Informe o modelo do notebook.",duration:3e3})},className:"px-6 py-5 space-y-5 bg-[var(--bg-soft)]",children:[(0,dm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,dm.jsxs)("label",{className:"flex flex-col gap-1 text-sm text-[var(--text-muted)]",children:["Modelo",(0,dm.jsx)("input",{value:u.modelo,onChange:e=>p("modelo",e.target.value),className:"input-neon",placeholder:"Modelo do notebook",required:!0})]}),(0,dm.jsxs)("label",{className:"flex flex-col gap-1 text-sm text-[var(--text-muted)]",children:["Serial",(0,dm.jsx)("input",{value:u.serial,onChange:e=>p("serial",e.target.value),className:"input-neon",placeholder:"N\xfamero de s\xe9rie"})]}),(0,dm.jsxs)("label",{className:"flex flex-col gap-1 text-sm text-[var(--text-muted)]",children:["Status",(0,dm.jsx)("select",{value:u.status,onChange:e=>p("status",e.target.value),className:"input-neon",children:l.map((e=>(0,dm.jsx)("option",{value:e.label,children:e.label},e.id)))})]}),(0,dm.jsxs)("div",{className:"flex flex-col gap-1 text-sm text-[var(--text-muted)]",children:["Status atual",(0,dm.jsx)("div",{className:"input-neon flex items-center h-11",children:(0,dm.jsx)(Og,{value:u.status})})]}),(0,dm.jsxs)("label",{className:"flex flex-col gap-1 text-sm text-[var(--text-muted)]",children:["E-mail",(0,dm.jsx)("input",{type:"email",value:u.email,onChange:e=>p("email",e.target.value),className:"input-neon",placeholder:"email@empresa.com"})]}),(0,dm.jsxs)("label",{className:"flex flex-col gap-1 text-sm text-[var(--text-muted)] md:col-span-2",children:["Observa\xe7\xe3o",(0,dm.jsx)("textarea",{value:u.observacao,onChange:e=>p("observacao",e.target.value),className:"input-neon min-h-[90px]",placeholder:"Complementos, hist\xf3rico, localiza\xe7\xe3o..."})]})]}),(0,dm.jsxs)("div",{className:"flex flex-col gap-3 pt-2 border-t border-[var(--line)] sm:flex-row sm:items-center sm:justify-between",children:["function"===typeof i&&(0,dm.jsxs)("button",{type:"button",onClick:()=>{null===i||void 0===i||i(a),null===n||void 0===n||n()},disabled:d||o,className:"inline-flex items-center gap-2 rounded-lg border border-rose-500/60 px-4 py-2 text-sm font-semibold text-rose-300 transition hover:bg-rose-500/10 disabled:opacity-60 disabled:cursor-not-allowed",children:[(0,dm.jsx)(Im,{className:"w-4 h-4"}),o?"Excluindo...":"Excluir"]}),(0,dm.jsxs)("div",{className:"flex items-center justify-end gap-3 w-full sm:w-auto",children:[(0,dm.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 rounded-lg border border-[var(--line)] text-[var(--text)] hover:bg-white/5 transition",children:"Cancelar"}),(0,dm.jsx)("button",{type:"submit",disabled:d||o,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-[var(--accent)]/60 bg-[var(--accent)]/10 text-[var(--accent)] hover:bg-[var(--accent)]/20 transition disabled:opacity-40 disabled:cursor-not-allowed",children:d?(0,dm.jsxs)(dm.Fragment,{children:[(0,dm.jsx)("span",{className:"w-3 h-3 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Salvando..."]}):(0,dm.jsxs)(dm.Fragment,{children:[(0,dm.jsx)(Rm,{className:"w-4 h-4"}),"Salvar altera\xe7\xf5es"]})})]})]})]})]})})}const Mg=(0,r.createContext)({});function jg(e){const t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}const Lg="undefined"!==typeof window,Fg=Lg?r.useLayoutEffect:r.useEffect,Ug=(0,r.createContext)(null),Vg=(0,r.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Bg extends r.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=e instanceof HTMLElement&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function zg(e){let{children:t,isPresent:n,anchorX:a}=e;const s=(0,r.useId)(),i=(0,r.useRef)(null),o=(0,r.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=(0,r.useContext)(Vg);return(0,r.useInsertionEffect)((()=>{const{width:e,height:t,top:r,left:c,right:u}=o.current;if(n||!i.current||!e||!t)return;const h="left"===a?`left: ${c}`:`right: ${u}`;i.current.dataset.motionPopId=s;const d=document.createElement("style");return l&&(d.nonce=l),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`\n          [data-motion-pop-id="${s}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${t}px !important;\n            ${h}px !important;\n            top: ${r}px !important;\n          }\n        `),()=>{document.head.removeChild(d)}}),[n]),(0,dm.jsx)(Bg,{isPresent:n,childRef:i,sizeRef:o,children:r.cloneElement(t,{ref:i})})}const $g=e=>{let{children:t,initial:n,isPresent:a,onExitComplete:s,custom:i,presenceAffectsLayout:o,mode:l,anchorX:c}=e;const u=jg(Hg),h=(0,r.useId)(),d=(0,r.useCallback)((e=>{u.set(e,!0);for(const t of u.values())if(!t)return;s&&s()}),[u,s]),f=(0,r.useMemo)((()=>({id:h,initial:n,isPresent:a,custom:i,onExitComplete:d,register:e=>(u.set(e,!1),()=>u.delete(e))})),o?[Math.random(),d]:[a,d]);return(0,r.useMemo)((()=>{u.forEach(((e,t)=>u.set(t,!1)))}),[a]),r.useEffect((()=>{!a&&!u.size&&s&&s()}),[a]),"popLayout"===l&&(t=(0,dm.jsx)(zg,{isPresent:a,anchorX:c,children:t})),(0,dm.jsx)(Ug.Provider,{value:f,children:t})};function Hg(){return new Map}function Wg(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,r.useContext)(Ug);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:a,register:s}=t,i=(0,r.useId)();(0,r.useEffect)((()=>{if(e)return s(i)}),[e]);const o=(0,r.useCallback)((()=>e&&a&&a(i)),[i,a,e]);return!n&&a?[!1,o]:[!0]}const qg=e=>e.key||"";function Gg(e){const t=[];return r.Children.forEach(e,(e=>{(0,r.isValidElement)(e)&&t.push(e)})),t}const Kg=e=>{let{children:t,custom:n,initial:a=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:o="sync",propagate:l=!1,anchorX:c="left"}=e;const[u,h]=Wg(l),d=(0,r.useMemo)((()=>Gg(t)),[t]),f=l&&!u?[]:d.map(qg),p=(0,r.useRef)(!0),m=(0,r.useRef)(d),g=jg((()=>new Map)),[v,y]=(0,r.useState)(d),[b,x]=(0,r.useState)(d);Fg((()=>{p.current=!1,m.current=d;for(let e=0;e<b.length;e++){const t=qg(b[e]);f.includes(t)?g.delete(t):!0!==g.get(t)&&g.set(t,!1)}}),[b,f.length,f.join("-")]);const w=[];if(d!==v){let e=[...d];for(let t=0;t<b.length;t++){const n=b[t],r=qg(n);f.includes(r)||(e.splice(t,0,n),w.push(n))}return"wait"===o&&w.length&&(e=w),x(Gg(e)),y(d),null}const{forceRender:E}=(0,r.useContext)(Mg);return(0,dm.jsx)(dm.Fragment,{children:b.map((e=>{const t=qg(e),r=!(l&&!u)&&(d===b||f.includes(t));return(0,dm.jsx)($g,{isPresent:r,initial:!(p.current&&!a)&&void 0,custom:n,presenceAffectsLayout:i,mode:o,onExitComplete:r?void 0:()=>{if(!g.has(t))return;g.set(t,!0);let e=!0;g.forEach((t=>{t||(e=!1)})),e&&(E?.(),x(m.current),l&&h?.(),s&&s())},anchorX:c,children:e},t)}))})};function Xg(e,t){-1===e.indexOf(t)&&e.push(t)}function Yg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Qg={skipAnimations:!1,useManualTiming:!1};function Jg(e){let t;return()=>(void 0===t&&(t=e()),t)}const Zg=e=>e,ev=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};class tv{constructor(){this.subscriptions=[]}add(e){return Xg(this.subscriptions,e),()=>Yg(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let a=0;a<r;a++){const r=this.subscriptions[a];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const nv=e=>1e3*e,rv=e=>e/1e3;function av(e,t){return t?e*(1e3/t):0}new Set;function sv(e){if("undefined"===typeof Proxy)return e;const t=new Map;return new Proxy((function(){return e(...arguments)}),{get:(n,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}function iv(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function ov(e){const t=[{},{}];return e?.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function lv(e,t,n,r){if("function"===typeof t){const[a,s]=ov(r);t=t(void 0!==n?n:e.custom,a,s)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[a,s]=ov(r);t=t(void 0!==n?n:e.custom,a,s)}return t}function cv(e,t,n){const r=e.getProps();return lv(r,t,void 0!==n?n:r.custom,e)}const uv=Jg((()=>void 0!==window.ScrollTimeline));class hv{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map((e=>e.finished)))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map((n=>uv()&&n.attachTimeline?n.attachTimeline(e):"function"===typeof t?t(n):void 0));return()=>{n.forEach(((e,t)=>{e&&e(),this.animations[t].stop()}))}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach((t=>t[e]()))}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class dv extends hv{then(e,t){return this.finished.finally(e).then((()=>{}))}}new Set(["borderWidth","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderRadius","radius","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","width","maxWidth","height","maxHeight","top","right","bottom","left","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","margin","marginTop","marginRight","marginBottom","marginLeft","backgroundPositionX","backgroundPositionY"]);const fv={layout:0,mainThread:0,waapi:0},pv={value:null,addProjectionMetrics:null},mv=e=>Array.isArray(e)&&"number"===typeof e[0],gv={};function vv(e,t){const n=Jg(e);return()=>gv[t]??n()}const yv=vv((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(Pm){return!1}return!0}),"linearEasing"),bv=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const a=Math.max(Math.round(t/n),2);for(let s=0;s<a;s++)r+=e(s/(a-1))+", ";return`linear(${r.substring(0,r.length-2)})`},xv=e=>{let[t,n,r,a]=e;return`cubic-bezier(${t}, ${n}, ${r}, ${a})`},wv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:xv([0,.65,.55,1]),circOut:xv([.55,0,1,.45]),backIn:xv([.31,.01,.66,-.59]),backOut:xv([.33,1.53,.69,.99])};function Ev(e,t){return e?"function"===typeof e&&yv()?bv(e,t):mv(e)?xv(e):Array.isArray(e)?e.map((e=>Ev(e,t)||wv.easeOut)):wv[e]:void 0}function Tv(e,t,n){let{delay:r=0,duration:a=300,repeat:s=0,repeatType:i="loop",ease:o="easeInOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const u={[t]:n};l&&(u.offset=l);const h=Ev(o,a);Array.isArray(h)&&(u.easing=h),pv.value&&fv.waapi++;const d=e.animate(u,{delay:r,duration:a,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:"reverse"===i?"alternate":"normal",pseudoElement:c});return pv.value&&d.finished.finally((()=>{fv.waapi--})),d}new WeakMap;function kv(e,t){return e?.[t]??e?.default??e}const Sv=2e4;function _v(e){let t=0;let n=e.next(t);for(;!n.done&&t<Sv;)t+=50,n=e.next(t);return t>=Sv?1/0:t}function Cv(e){return"function"===typeof e&&"applyToOptions"in e}function Nv(e){return Boolean("function"===typeof e&&yv()||!e||"string"===typeof e&&(e in wv||yv())||mv(e)||Array.isArray(e)&&e.every(Nv))}function Av(e,t){e.timeline=t,e.onfinish=null}const Iv=["read","resolveKeyframes","update","preRender","render","postRender"];function Rv(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,i=Iv.reduce(((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,a=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){i.has(t)&&(u.schedule(t),e()),l++,t(o)}const u={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&a?n:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&i.add(e),t.has(e)||t.add(e),e},cancel:e=>{r.delete(e),i.delete(e)},process:e=>{o=e,a?s=!0:(a=!0,[n,r]=[r,n],n.forEach(c),t&&pv.value&&pv.value.frameloop[t].push(l),l=0,n.clear(),a=!1,s&&(s=!1,u.process(e)))}};return u}(s,t?n:void 0),e)),{}),{read:o,resolveKeyframes:l,update:c,preRender:u,render:h,postRender:d}=i,f=()=>{const s=Qg.useManualTiming?a.timestamp:performance.now();n=!1,Qg.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(s-a.timestamp,40),1)),a.timestamp=s,a.isProcessing=!0,o.process(a),l.process(a),c.process(a),u.process(a),h.process(a),d.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(f))},p=Iv.reduce(((t,s)=>{const o=i[s];return t[s]=function(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,a.isProcessing||e(f)),o.schedule(t,s,i)},t}),{});return{schedule:p,cancel:e=>{for(let t=0;t<Iv.length;t++)i[Iv[t]].cancel(e)},state:a,steps:i}}const{schedule:Pv,cancel:Ov,state:Dv,steps:Mv}=Rv("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Zg,!0),{schedule:jv,cancel:Lv}=Rv(queueMicrotask,!1);let Fv;function Uv(){Fv=void 0}const Vv={now:()=>(void 0===Fv&&Vv.set(Dv.isProcessing||Qg.useManualTiming?Dv.timestamp:performance.now()),Fv),set:e=>{Fv=e,queueMicrotask(Uv)}},Bv={x:!1,y:!1};function zv(){return Bv.x||Bv.y}function $v(e,t){const n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"===typeof e){let r=document;t&&(r=t.current);const a=n?.[e]??r.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function Hv(e){return!("touch"===e.pointerType||zv())}const Wv=(e,t)=>!!t&&(e===t||Wv(e,t.parentElement)),qv=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary,Gv=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const Kv=new WeakSet;function Xv(e){return t=>{"Enter"===t.key&&e(t)}}function Yv(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function Qv(e){return qv(e)&&!zv()}function Jv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,a,s]=$v(e,n),i=e=>{const r=e.currentTarget;if(!Qv(e)||Kv.has(r))return;Kv.add(r);const s=t(r,e),i=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),Qv(e)&&Kv.has(r)&&(Kv.delete(r),"function"===typeof s&&s(e,{success:t}))},o=e=>{i(e,r===window||r===document||n.useGlobalTarget||Wv(r,e.target))},l=e=>{i(e,!1)};window.addEventListener("pointerup",o,a),window.addEventListener("pointercancel",l,a)};return r.forEach((e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",i,a),e instanceof HTMLElement&&(e.addEventListener("focus",(e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=Xv((()=>{if(Kv.has(n))return;Yv(n,"down");const e=Xv((()=>{Yv(n,"up")}));n.addEventListener("keyup",e,t),n.addEventListener("blur",(()=>Yv(n,"cancel")),t)}));n.addEventListener("keydown",r,t),n.addEventListener("blur",(()=>n.removeEventListener("keydown",r)),t)})(e,a))),t=e,Gv.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))})),s}const Zv={current:void 0};class ey{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="12.6.5",this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=Vv.now();t.updatedAt!==r&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev&&t.events.change&&t.events.change.notify(t.current),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){var t;this.current=e,this.updatedAt=Vv.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new tv);const n=this.events[e].add(t);return"change"===e?()=>{n(),Pv.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Zv.current&&Zv.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Vv.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return av(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ty(e,t){return new ey(e,t)}Iv.reduce(((e,t)=>(e[t]=e=>Ov(e),e)),{});const ny=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ry=new Set(ny),ay=new Set(["width","height","top","left","right","bottom",...ny]),sy=e=>Array.isArray(e),iy=e=>sy(e)?e[e.length-1]||0:e;function oy(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ty(n))}const ly=e=>Boolean(e&&e.getVelocity);function cy(e,t){const n=e.getValue("willChange");if(r=n,Boolean(ly(r)&&r.add))return n.add(t);if(!n&&Qg.WillChange){const n=new Qg.WillChange("auto");e.addValue("willChange",n),n.add(t)}var r}const uy=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),hy="data-"+uy("framerAppearId");function dy(e){return e.props[hy]}const fy=!1,py=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function my(e,t,n,r){if(e===t&&n===r)return Zg;const a=t=>function(e,t,n,r,a){let s,i,o=0;do{i=t+(n-t)/2,s=py(i,r,a)-e,s>0?n=i:t=i}while(Math.abs(s)>1e-7&&++o<12);return i}(t,0,1,e,n);return e=>0===e||1===e?e:py(a(e),t,r)}const gy=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,vy=e=>t=>1-e(1-t),yy=my(.33,1.53,.69,.99),by=vy(yy),xy=gy(by),wy=e=>(e*=2)<1?.5*by(e):.5*(2-Math.pow(2,-10*(e-1))),Ey=e=>1-Math.sin(Math.acos(e)),Ty=vy(Ey),ky=gy(Ey),Sy=e=>/^0[^.\s]+$/u.test(e);const _y=(e,t,n)=>n>t?t:n<e?e:n,Cy={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},Ny={...Cy,transform:e=>_y(0,1,e)},Ay={...Cy,default:1},Iy=e=>Math.round(1e5*e)/1e5,Ry=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const Py=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Oy=(e,t)=>n=>Boolean("string"===typeof n&&Py.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),Dy=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[a,s,i,o]=r.match(Ry);return{[e]:parseFloat(a),[t]:parseFloat(s),[n]:parseFloat(i),alpha:void 0!==o?parseFloat(o):1}},My={...Cy,transform:e=>Math.round((e=>_y(0,255,e))(e))},jy={test:Oy("rgb","red"),parse:Dy("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:a=1}=e;return"rgba("+My.transform(t)+", "+My.transform(n)+", "+My.transform(r)+", "+Iy(Ny.transform(a))+")"}};const Ly={test:Oy("#"),parse:function(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}},transform:jy.transform},Fy=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),Uy=Fy("deg"),Vy=Fy("%"),By=Fy("px"),zy=Fy("vh"),$y=Fy("vw"),Hy={...Vy,parse:e=>Vy.parse(e)/100,transform:e=>Vy.transform(100*e)},Wy={test:Oy("hsl","hue"),parse:Dy("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:a=1}=e;return"hsla("+Math.round(t)+", "+Vy.transform(Iy(n))+", "+Vy.transform(Iy(r))+", "+Iy(Ny.transform(a))+")"}},qy={test:e=>jy.test(e)||Ly.test(e)||Wy.test(e),parse:e=>jy.test(e)?jy.parse(e):Wy.test(e)?Wy.parse(e):Ly.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?jy.transform(e):Wy.transform(e)},Gy=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const Ky="number",Xy="color",Yy=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Qy(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let s=0;const i=t.replace(Yy,(e=>(qy.test(e)?(r.color.push(s),a.push(Xy),n.push(qy.parse(e))):e.startsWith("var(")?(r.var.push(s),a.push("var"),n.push(e)):(r.number.push(s),a.push(Ky),n.push(parseFloat(e))),++s,"${}"))).split("${}");return{values:n,split:i,indexes:r,types:a}}function Jy(e){return Qy(e).values}function Zy(e){const{split:t,types:n}=Qy(e),r=t.length;return e=>{let a="";for(let s=0;s<r;s++)if(a+=t[s],void 0!==e[s]){const t=n[s];a+=t===Ky?Iy(e[s]):t===Xy?qy.transform(e[s]):e[s]}return a}}const eb=e=>"number"===typeof e?0:e;const tb={test:function(e){return isNaN(e)&&"string"===typeof e&&(e.match(Ry)?.length||0)+(e.match(Gy)?.length||0)>0},parse:Jy,createTransformer:Zy,getAnimatableNone:function(e){const t=Jy(e);return Zy(e)(t.map(eb))}},nb=new Set(["brightness","contrast","saturate","opacity"]);function rb(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(Ry)||[];if(!r)return e;const a=n.replace(r,"");let s=nb.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+a+")"}const ab=/\b([a-z-]*)\(.*?\)/gu,sb={...tb,getAnimatableNone:e=>{const t=e.match(ab);return t?t.map(rb).join(" "):e}},ib={borderWidth:By,borderTopWidth:By,borderRightWidth:By,borderBottomWidth:By,borderLeftWidth:By,borderRadius:By,radius:By,borderTopLeftRadius:By,borderTopRightRadius:By,borderBottomRightRadius:By,borderBottomLeftRadius:By,width:By,maxWidth:By,height:By,maxHeight:By,top:By,right:By,bottom:By,left:By,padding:By,paddingTop:By,paddingRight:By,paddingBottom:By,paddingLeft:By,margin:By,marginTop:By,marginRight:By,marginBottom:By,marginLeft:By,backgroundPositionX:By,backgroundPositionY:By},ob={rotate:Uy,rotateX:Uy,rotateY:Uy,rotateZ:Uy,scale:Ay,scaleX:Ay,scaleY:Ay,scaleZ:Ay,skew:Uy,skewX:Uy,skewY:Uy,distance:By,translateX:By,translateY:By,translateZ:By,x:By,y:By,z:By,perspective:By,transformPerspective:By,opacity:Ny,originX:Hy,originY:Hy,originZ:By},lb={...Cy,transform:Math.round},cb={...ib,...ob,zIndex:lb,size:By,fillOpacity:Ny,strokeOpacity:Ny,numOctaves:lb},ub={...cb,color:qy,backgroundColor:qy,outlineColor:qy,fill:qy,stroke:qy,borderColor:qy,borderTopColor:qy,borderRightColor:qy,borderBottomColor:qy,borderLeftColor:qy,filter:sb,WebkitFilter:sb},hb=e=>ub[e];function db(e,t){let n=hb(e);return n!==sb&&(n=tb),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const fb=new Set(["auto","none","0"]);const pb=e=>180*e/Math.PI,mb=e=>{const t=pb(Math.atan2(e[1],e[0]));return vb(t)},gb={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:mb,rotateZ:mb,skewX:e=>pb(Math.atan(e[1])),skewY:e=>pb(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},vb=e=>((e%=360)<0&&(e+=360),e),yb=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),bb=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),xb={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:yb,scaleY:bb,scale:e=>(yb(e)+bb(e))/2,rotateX:e=>vb(pb(Math.atan2(e[6],e[5]))),rotateY:e=>vb(pb(Math.atan2(-e[2],e[0]))),rotateZ:mb,rotate:mb,skewX:e=>pb(Math.atan(e[4])),skewY:e=>pb(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function wb(e){return e.includes("scale")?1:0}function Eb(e,t){if(!e||"none"===e)return wb(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=xb,a=n;else{const t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=gb,a=t}if(!a)return wb(t);const s=r[t],i=a[1].split(",").map(Tb);return"function"===typeof s?s(i):i[s]}function Tb(e){return parseFloat(e.trim())}const kb=e=>e===Cy||e===By,Sb=new Set(["x","y","z"]),_b=ny.filter((e=>!Sb.has(e)));const Cb={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:a="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(a)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:a="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(a)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return Eb(n,"x")},y:(e,t)=>{let{transform:n}=t;return Eb(n,"y")}};Cb.translateX=Cb.x,Cb.translateY=Cb.y;const Nb=new Set;let Ab=!1,Ib=!1;function Rb(){if(Ib){const e=Array.from(Nb).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return _b.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((t=>{let[n,r]=t;e.getValue(n)?.set(r)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}Ib=!1,Ab=!1,Nb.forEach((e=>e.complete())),Nb.clear()}function Pb(){Nb.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(Ib=!0)}))}class Ob{constructor(e,t,n,r,a){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=a,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Nb.add(this),Ab||(Ab=!0,Pv.read(Pb),Pv.resolveKeyframes(Rb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;for(let a=0;a<e.length;a++)if(null===e[a])if(0===a){const a=r?.get(),s=e[e.length-1];if(void 0!==a)e[0]=a;else if(n&&t){const r=n.readValue(t,s);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=s),r&&void 0===a&&r.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Nb.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Nb.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Db=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Mb=e=>t=>"string"===typeof t&&t.startsWith(e),jb=Mb("--"),Lb=Mb("var(--"),Fb=e=>!!Lb(e)&&Ub.test(e.split("/*")[0].trim()),Ub=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Vb=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Bb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const[r,a]=function(e){const t=Vb.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const e=s.trim();return Db(e)?parseFloat(e):e}return Fb(a)?Bb(a,t,n+1):a}const zb=e=>t=>t.test(e),$b=[Cy,By,Vy,Uy,$y,zy,{test:e=>"auto"===e,parse:e=>e}],Hb=e=>$b.find(zb(e));class Wb extends Ob{constructor(e,t,n,r,a){super(e,t,n,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let n=e[o];if("string"===typeof n&&(n=n.trim(),Fb(n))){const r=Bb(n,t.current);void 0!==r&&(e[o]=r),o===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!ay.has(n)||2!==e.length)return;const[r,a]=e,s=Hb(r),i=Hb(a);if(s!==i)if(kb(s)&&kb(i))for(let o=0;o<e.length;o++){const t=e[o];"string"===typeof t&&(e[o]=parseFloat(t))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let a=0;a<e.length;a++)("number"===typeof(r=e[a])?0===r:null===r||"none"===r||"0"===r||Sy(r))&&n.push(a);var r;n.length&&function(e,t,n){let r,a=0;for(;a<e.length&&!r;){const t=e[a];"string"===typeof t&&!fb.has(t)&&Qy(t).values.length&&(r=e[a]),a++}if(r&&n)for(const s of t)e[s]=db(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Cb[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const a=n.length-1,s=n[a];n[a]=Cb[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==s&&void 0===this.finalKeyframe&&(this.finalKeyframe=s),this.removedTransforms?.length&&this.removedTransforms.forEach((t=>{let[n,r]=t;e.getValue(n).set(r)})),this.resolveNoneKeyframes()}}const qb=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!tb.test(e)&&"0"!==e||e.startsWith("url(")));function Gb(e,t,n,r){const a=e[0];if(null===a)return!1;if("display"===t||"visibility"===t)return!0;const s=e[e.length-1],i=qb(a,t),o=qb(s,t);return!(!i||!o)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||Cv(n))&&r)}const Kb=e=>null!==e;function Xb(e,t,n){let{repeat:r,repeatType:a="loop"}=t;const s=e.filter(Kb),i=r&&"loop"!==a&&r%2===1?0:s.length-1;return i&&void 0!==n?n:s[i]}class Yb{constructor(e){let{autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:i="loop",...o}=e;this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Vv.now(),this.options={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:s,repeatType:i,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(Pb(),Rb()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Vv.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:a,delay:s,onComplete:i,onUpdate:o,isGenerator:l}=this.options;if(!l&&!Gb(e,n,r,a)){if(fy||!s)return o&&o(Xb(e,this.options,t)),i&&i(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(e,t);!1!==c&&(this._resolved={keyframes:e,finalKeyframe:t,...c},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise((e=>{this.resolveFinishedPromise=e}))}}const Qb=(e,t,n)=>e+(t-e)*n;function Jb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Zb(e,t){return n=>n>0?t:e}const ex=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},tx=[Ly,jy,Wy];function nx(e){const t=(e=>tx.find((t=>t.test(e))))(e);if(Boolean(t),!Boolean(t))return!1;let n=t.parse(e);return t===Wy&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:a}=e;t/=360,n/=100,r/=100;let s=0,i=0,o=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,a=2*r-e;s=Jb(a,e,t+1/3),i=Jb(a,e,t),o=Jb(a,e,t-1/3)}else s=i=o=r;return{red:Math.round(255*s),green:Math.round(255*i),blue:Math.round(255*o),alpha:a}}(n)),n}const rx=(e,t)=>{const n=nx(e),r=nx(t);if(!n||!r)return Zb(e,t);const a={...n};return e=>(a.red=ex(n.red,r.red,e),a.green=ex(n.green,r.green,e),a.blue=ex(n.blue,r.blue,e),a.alpha=Qb(n.alpha,r.alpha,e),jy.transform(a))},ax=(e,t)=>n=>t(e(n)),sx=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(ax)},ix=new Set(["none","hidden"]);function ox(e,t){return n=>Qb(e,t,n)}function lx(e){return"number"===typeof e?ox:"string"===typeof e?Fb(e)?Zb:qy.test(e)?rx:hx:Array.isArray(e)?cx:"object"===typeof e?qy.test(e)?rx:ux:Zb}function cx(e,t){const n=[...e],r=n.length,a=e.map(((e,n)=>lx(e)(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=a[t](e);return n}}function ux(e,t){const n={...e,...t},r={};for(const a in n)void 0!==e[a]&&void 0!==t[a]&&(r[a]=lx(e[a])(e[a],t[a]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const hx=(e,t)=>{const n=tb.createTransformer(t),r=Qy(e),a=Qy(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?ix.has(e)&&!a.values.length||ix.has(t)&&!r.values.length?function(e,t){return ix.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):sx(cx(function(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const s=t.types[a],i=e.indexes[s][r[s]],o=e.values[i]??0;n[a]=o,r[s]++}return n}(r,a),a.values),n):Zb(e,t)};function dx(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return Qb(e,t,n);return lx(e)(e,t)}function fx(e,t,n){const r=Math.max(t-5,0);return av(n-e(r),t-r)}const px={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},mx=.001;function gx(e){let t,n,{duration:r=px.duration,bounce:a=px.bounce,velocity:s=px.velocity,mass:i=px.mass}=e;nv(px.maxDuration);let o=1-a;o=_y(px.minDamping,px.maxDamping,o),r=_y(px.minDuration,px.maxDuration,rv(r)),o<1?(t=e=>{const t=e*o,n=t*r,a=t-s,i=yx(e,o),l=Math.exp(-n);return mx-a/i*l},n=e=>{const n=e*o*r,a=n*s+s,i=Math.pow(o,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=yx(Math.pow(e,2),o);return(-t(e)+mx>0?-1:1)*((a-i)*l)/c}):(t=e=>Math.exp(-e*r)*((e-s)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(s-e)));const l=function(e,t,n){let r=n;for(let a=1;a<vx;a++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=nv(r),isNaN(l))return{stiffness:px.stiffness,damping:px.damping,duration:r};{const e=Math.pow(l,2)*i;return{stiffness:e,damping:2*o*Math.sqrt(i*e),duration:r}}}const vx=12;function yx(e,t){return e*Math.sqrt(1-t*t)}const bx=["duration","bounce"],xx=["stiffness","damping","mass"];function wx(e,t){return t.some((t=>void 0!==e[t]))}function Ex(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:px.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:px.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const s=n.keyframes[0],i=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:h,velocity:d,isResolvedFromDuration:f}=function(e){let t={velocity:px.velocity,stiffness:px.stiffness,damping:px.damping,mass:px.mass,isResolvedFromDuration:!1,...e};if(!wx(e,xx)&&wx(e,bx))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),a=r*r,s=2*_y(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:px.mass,stiffness:a,damping:s}}else{const n=gx(e);t={...t,...n,mass:px.mass},t.isResolvedFromDuration=!0}return t}({...n,velocity:-rv(n.velocity||0)}),p=d||0,m=c/(2*Math.sqrt(l*u)),g=i-s,v=rv(Math.sqrt(l/u)),y=Math.abs(g)<5;let b;if(r||(r=y?px.restSpeed.granular:px.restSpeed.default),a||(a=y?px.restDelta.granular:px.restDelta.default),m<1){const e=yx(v,m);b=t=>{const n=Math.exp(-m*v*t);return i-n*((p+m*v*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>i-Math.exp(-v*e)*(g+(p+v*g)*e);else{const e=v*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*v*t),r=Math.min(e*t,300);return i-n*((p+m*v*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}const x={calculatedDuration:f&&h||null,next:e=>{const t=b(e);if(f)o.done=e>=h;else{let n=0;m<1&&(n=0===e?nv(p):fx(b,e,t));const s=Math.abs(n)<=r,l=Math.abs(i-t)<=a;o.done=s&&l}return o.value=o.done?i:t,o},toString:()=>{const e=Math.min(_v(x),Sv),t=bv((t=>x.next(e*t).value),e,30);return e+"ms "+t},toTransition:()=>{}};return x}function Tx(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:a=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:h}=e;const d=t[0],f={done:!1,value:d},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=d+m,v=void 0===o?g:o(g);v!==g&&(m=v-d);const y=e=>-m*Math.exp(-e/a),b=e=>v+y(e),x=e=>{const t=y(e),n=b(e);f.done=Math.abs(t)<=u,f.value=f.done?v:n};let w,E;const T=e=>{(e=>void 0!==l&&e<l||void 0!==c&&e>c)(f.value)&&(w=e,E=Ex({keyframes:[f.value,p(f.value)],velocity:fx(b,e,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:h}))};return T(0),{calculatedDuration:null,next:e=>{let t=!1;return E||void 0!==w||(t=!0,x(e),T(e)),void 0!==w&&e>=w?E.next(e-w):(!t&&x(e),f)}}}Ex.applyToOptions=e=>{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)({...e,keyframes:[0,t]}),r=Math.min(_v(n),Sv);return{type:"keyframes",ease:e=>n.next(r*e).value/t,duration:rv(r)}}(e,100,Ex);return e.ease=yv()?t.ease:"easeOut",e.duration=nv(t.duration),e.type="keyframes",e};const kx=my(.42,0,1,1),Sx=my(0,0,.58,1),_x=my(.42,0,.58,1),Cx={linear:Zg,easeIn:kx,easeInOut:_x,easeOut:Sx,circIn:Ey,circInOut:ky,circOut:Ty,backIn:by,backInOut:xy,backOut:yy,anticipate:wy},Nx=e=>{if(mv(e)){e.length;const[t,n,r,a]=e;return my(t,n,r,a)}return"string"===typeof e?Cx[e]:e};function Ax(e,t){let{clamp:n=!0,ease:r,mixer:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.length;if(t.length,1===s)return()=>t[0];if(2===s&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,n){const r=[],a=n||dx,s=e.length-1;for(let i=0;i<s;i++){let n=a(e[i],e[i+1]);if(t){const e=Array.isArray(t)?t[i]||Zg:t;n=sx(e,n)}r.push(n)}return r}(t,r,a),l=o.length,c=n=>{if(i&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const a=ev(e[r],e[r+1],n);return o[r](a)};return n?t=>c(_y(e[0],e[s-1],t)):c}function Ix(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=ev(0,t,r);e.push(Qb(n,1,a))}}(t,e.length-1),t}function Rx(e){let{duration:t=300,keyframes:n,times:r,ease:a="easeInOut"}=e;const s=(e=>Array.isArray(e)&&"number"!==typeof e[0])(a)?a.map(Nx):Nx(a),i={done:!1,value:n[0]},o=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:Ix(n),t),l=Ax(o,n,{ease:Array.isArray(s)?s:(c=n,u=s,c.map((()=>u||_x)).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(i.value=l(e),i.done=e>=t,i)}}const Px=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>Pv.update(t,!0),stop:()=>Ov(t),now:()=>Dv.isProcessing?Dv.timestamp:Vv.now()}},Ox={decay:Tx,inertia:Tx,tween:Rx,keyframes:Rx,spring:Ex},Dx=e=>e/100;class Mx extends Yb{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:t,motionValue:n,element:r,keyframes:a}=this.options,s=r?.KeyframeResolver||Ob;this.resolver=new s(a,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:a,velocity:s=0}=this.options,i=Cv(t)?t:Ox[t]||Rx;let o,l;i!==Rx&&"number"!==typeof e[0]&&(o=sx(Dx,dx(e[0],e[1])),e=[0,100]);const c=i({...this.options,keyframes:e});"mirror"===a&&(l=i({...this.options,keyframes:[...e].reverse(),velocity:-s})),null===c.calculatedDuration&&(c.calculatedDuration=_v(c));const{calculatedDuration:u}=c,h=u+r;return{generator:c,mirroredGenerator:l,mapPercentToKeyframes:o,calculatedDuration:u,resolvedDuration:h,totalDuration:h*(n+1)-r}}onPostResolved(){const{autoplay:e=!0}=this.options;fv.mainThread++,this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{resolved:n}=this;if(!n){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:r,generator:a,mirroredGenerator:s,mapPercentToKeyframes:i,keyframes:o,calculatedDuration:l,totalDuration:c,resolvedDuration:u}=n;if(null===this.startTime)return a.next(0);const{delay:h,repeat:d,repeatType:f,repeatDelay:p,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-h*(this.speed>=0?1:-1),v=this.speed>=0?g<0:g>c;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let y=this.currentTime,b=a;if(d){const e=Math.min(this.currentTime,c)/u;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,d+1);Boolean(t%2)&&("reverse"===f?(n=1-n,p&&(n-=p/u)):"mirror"===f&&(b=s)),y=_y(0,1,n)*u}const x=v?{done:!1,value:o[0]}:b.next(y);i&&(x.value=i(x.value));let{done:w}=x;v||null===l||(w=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const E=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return E&&void 0!==r&&(x.value=Xb(o,this.options,r)),m&&m(x.value),E&&this.finish(),x}get duration(){const{resolved:e}=this;return e?rv(e.calculatedDuration):0}get time(){return rv(this.currentTime)}set time(e){e=nv(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=rv(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=Px,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e((e=>this.tick(e)))),t&&t();const r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=n??this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){this._resolved?(this.state="paused",this.holdTime=this.currentTime??0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel(),fv.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}get finished(){return this.currentFinishedPromise}}const jx=new Set(["opacity","clipPath","filter","transform"]),Lx=Jg((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));const Fx={anticipate:wy,backInOut:xy,circInOut:ky};class Ux extends Yb{constructor(e){super(e);const{name:t,motionValue:n,element:r,keyframes:a}=this.options;this.resolver=new Wb(a,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:n=300,times:r,ease:a,type:s,motionValue:i,name:o,startTime:l}=this.options;if(!i.owner||!i.owner.current)return!1;var c;if("string"===typeof a&&yv()&&a in Fx&&(a=Fx[a]),Cv((c=this.options).type)||"spring"===c.type||!Nv(c.ease)){const{onComplete:t,onUpdate:i,motionValue:o,element:l,...c}=this.options,u=function(e,t){const n=new Mx({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const a=[];let s=0;for(;!r.done&&s<2e4;)r=n.sample(s),a.push(r.value),s+=10;return{times:void 0,keyframes:a,duration:s-10,ease:"linear"}}(e,c);1===(e=u.keyframes).length&&(e[1]=e[0]),n=u.duration,r=u.times,a=u.ease,s="keyframes"}const u=Tv(i.owner.current,o,e,{...this.options,duration:n,times:r,ease:a});return u.startTime=l??this.calcStartTime(),this.pendingTimeline?(Av(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:n}=this.options;i.set(Xb(e,this.options,t)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:n,times:r,type:s,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return rv(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return rv(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=nv(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}get finished(){return this.resolved.animation.finished}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return Zg;const{animation:n}=t;Av(n,e)}else this.pendingTimeline=e;return Zg}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:r,type:a,ease:s,times:i}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const{motionValue:e,onUpdate:t,onComplete:o,element:l,...c}=this.options,u=new Mx({...c,keyframes:n,duration:r,type:a,ease:s,times:i,isGenerator:!0}),h=nv(this.time);e.setWithVelocity(u.sample(h-10).value,u.sample(h).value,10)}const{onStop:o}=this.options;o&&o(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:a,damping:s,type:i}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return Lx()&&n&&jx.has(n)&&("transform"!==n||!l)&&!o&&!r&&"mirror"!==a&&0!==s&&"inertia"!==i}}const Vx={type:"spring",stiffness:500,damping:25,restSpeed:10},Bx={type:"keyframes",duration:.8},zx={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$x=(e,t)=>{let{keyframes:n}=t;return n.length>2?Bx:ry.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:Vx:zx};const Hx=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;return i=>{const o=kv(r,e)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c-=nv(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{i(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:s?void 0:a};(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:a,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...h}=e;return!!Object.keys(h).length})(o)||(u={...u,...$x(e,u)}),u.duration&&(u.duration=nv(u.duration)),u.repeatDelay&&(u.repeatDelay=nv(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let h=!1;if((!1===u.type||0===u.duration&&!u.repeatDelay)&&(u.duration=0,0===u.delay&&(h=!0)),(fy||Qg.skipAnimations)&&(h=!0,u.duration=0,u.delay=0),u.allowFlatten=!o.type&&!o.ease,h&&!s&&void 0!==t.get()){const e=Xb(u.keyframes,o);if(void 0!==e)return Pv.update((()=>{u.onUpdate(e),u.onComplete()})),new dv([])}return!s&&Ux.supports(u)?new Ux(u):new Mx(u)}};function Wx(e,t){let{protectedKeys:n,needsAnimating:r}=e;const a=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,a}function qx(e,t){let{delay:n=0,transitionOverride:r,type:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:s=e.getDefaultTransition(),transitionEnd:i,...o}=t;r&&(s=r);const l=[],c=a&&e.animationState&&e.animationState.getState()[a];for(const u in o){const t=e.getValue(u,e.latestValues[u]??null),r=o[u];if(void 0===r||c&&Wx(c,u))continue;const a={delay:n,...kv(s||{},u)};let i=!1;if(window.MotionHandoffAnimation){const t=dy(e);if(t){const e=window.MotionHandoffAnimation(t,u,Pv);null!==e&&(a.startTime=e,i=!0)}}cy(e,u),t.start(Hx(u,t,r,e.shouldReduceMotion&&ay.has(u)?{type:!1}:a,e,i));const h=t.animation;h&&l.push(h)}return i&&Promise.all(l).then((()=>{Pv.update((()=>{i&&function(e,t){const n=cv(e,t);let{transitionEnd:r={},transition:a={},...s}=n||{};s={...s,...r};for(const i in s)oy(e,i,iy(s[i]))}(e,i)}))})),l}function Gx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=cv(e,t,"exit"===n.type?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const s=r?()=>Promise.all(qx(e,r,n)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:s=0,staggerChildren:i,staggerDirection:o}=a;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5?arguments[5]:void 0;const i=[],o=(e.variantChildren.size-1)*r,l=1===a?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return o-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(Kx).forEach(((e,r)=>{e.notify("AnimationStart",t),i.push(Gx(e,t,{...s,delay:n+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(i)}(e,t,s+r,i,o,n)}:()=>Promise.resolve(),{when:o}=a;if(o){const[e,t]="beforeChildren"===o?[s,i]:[i,s];return e().then((()=>t()))}return Promise.all([s(),i(n.delay)])}function Kx(e,t){return e.sortNodePosition(t)}function Xx(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Yx(e){return"string"===typeof e||Array.isArray(e)}const Qx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Jx=["initial",...Qx],Zx=Jx.length;function ew(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&ew(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<Zx;n++){const r=Jx[n],a=e.props[r];(Yx(a)||!1===a)&&(t[r]=a)}return t}const tw=[...Qx].reverse(),nw=Qx.length;function rw(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const a=t.map((t=>Gx(e,t,r)));n=Promise.all(a)}else if("string"===typeof t)n=Gx(e,t,r);else{const a="function"===typeof t?cv(e,t,r.custom):t;n=Promise.all(qx(e,a,r))}return n.then((()=>{e.notify("AnimationComplete",t)}))}(e,n,r)})))}function aw(e){let t=rw(e),n=ow(),r=!0;const a=t=>(n,r)=>{const a=cv(e,r,"exit"===t?e.presenceContext?.custom:void 0);if(a){const{transition:e,transitionEnd:t,...r}=a;n={...n,...r,...t}}return n};function s(s){const{props:i}=e,o=ew(e.parent)||{},l=[],c=new Set;let u={},h=1/0;for(let t=0;t<nw;t++){const d=tw[t],f=n[d],p=void 0!==i[d]?i[d]:o[d],m=Yx(p),g=d===s?f.isActive:null;!1===g&&(h=t);let v=p===o[d]&&p!==i[d]&&m;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),f.protectedKeys={...u},!f.isActive&&null===g||!p&&!f.prevProp||iv(p)||"boolean"===typeof p)continue;const y=sw(f.prevProp,p);let b=y||d===s&&f.isActive&&!v&&m||t>h&&m,x=!1;const w=Array.isArray(p)?p:[p];let E=w.reduce(a(d),{});!1===g&&(E={});const{prevResolvedValues:T={}}=f,k={...T,...E},S=t=>{b=!0,c.has(t)&&(x=!0,c.delete(t)),f.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in k){const t=E[e],n=T[e];if(u.hasOwnProperty(e))continue;let r=!1;r=sy(t)&&sy(n)?!Xx(t,n):t!==n,r?void 0!==t&&null!==t?S(e):c.add(e):void 0!==t&&c.has(e)?S(e):f.protectedKeys[e]=!0}f.prevProp=p,f.prevResolvedValues=E,f.isActive&&(u={...u,...E}),r&&e.blockInitialAnimation&&(b=!1);b&&(!(v&&y)||x)&&l.push(...w.map((e=>({animation:e,options:{type:d}}))))}if(c.size){const t={};if("boolean"!==typeof i.initial){const n=cv(e,Array.isArray(i.initial)?i.initial[0]:i.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach((n=>{const r=e.getBaseTarget(n),a=e.getValue(n);a&&(a.liveStyle=!0),t[n]=r??null})),l.push({animation:t})}let d=Boolean(l.length);return!r||!1!==i.initial&&i.initial!==i.animate||e.manuallyAnimateOnMount||(d=!1),r=!1,d?t(l):Promise.resolve()}return{animateChanges:s,setActive:function(t,r){if(n[t].isActive===r)return Promise.resolve();e.variantChildren?.forEach((e=>e.animationState?.setActive(t,r))),n[t].isActive=r;const a=s(t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=ow(),r=!0}}}function sw(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!Xx(t,e)}function iw(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ow(){return{animate:iw(!0),whileInView:iw(),whileHover:iw(),whileTap:iw(),whileDrag:iw(),whileFocus:iw(),exit:iw()}}class lw{constructor(e){this.isMounted=!1,this.node=e}update(){}}let cw=0;const uw={animation:{Feature:class extends lw{constructor(e){super(e),e.animationState||(e.animationState=aw(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();iv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends lw{constructor(){super(...arguments),this.id=cw++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then((()=>{t(this.id)}))}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};function hw(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function dw(e){return{point:{x:e.pageX,y:e.pageY}}}function fw(e,t,n,r){return hw(e,t,(e=>t=>qv(t)&&e(t,dw(t)))(n),r)}function pw(e){let{top:t,left:n,right:r,bottom:a}=e;return{x:{min:n,max:r},y:{min:t,max:a}}}function mw(e){return e.max-e.min}function gw(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Qb(t.min,t.max,e.origin),e.scale=mw(n)/mw(t),e.translate=Qb(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function vw(e,t,n,r){gw(e.x,t.x,n.x,r?r.originX:void 0),gw(e.y,t.y,n.y,r?r.originY:void 0)}function yw(e,t,n){e.min=n.min+t.min,e.max=e.min+mw(t)}function bw(e,t,n){e.min=t.min-n.min,e.max=e.min+mw(t)}function xw(e,t,n){bw(e.x,t.x,n.x),bw(e.y,t.y,n.y)}const ww=()=>({x:{min:0,max:0},y:{min:0,max:0}});function Ew(e){return[e("x"),e("y")]}function Tw(e){return void 0===e||1===e}function kw(e){let{scale:t,scaleX:n,scaleY:r}=e;return!Tw(t)||!Tw(n)||!Tw(r)}function Sw(e){return kw(e)||_w(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function _w(e){return Cw(e.x)||Cw(e.y)}function Cw(e){return e&&"0%"!==e}function Nw(e,t,n){return n+t*(e-n)}function Aw(e,t,n,r,a){return void 0!==a&&(e=Nw(e,a,r)),Nw(e,n,r)+t}function Iw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;e.min=Aw(e.min,t,n,r,a),e.max=Aw(e.max,t,n,r,a)}function Rw(e,t){let{x:n,y:r}=t;Iw(e.x,n.translate,n.scale,n.originPoint),Iw(e.y,r.translate,r.scale,r.originPoint)}const Pw=.999999999999,Ow=1.0000000000001;function Dw(e,t){e.min=e.min+t,e.max=e.max+t}function Mw(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;Iw(e,t,n,Qb(e.min,e.max,a),r)}function jw(e,t){Mw(e.x,t.x,t.scaleX,t.scale,t.originX),Mw(e.y,t.y,t.scaleY,t.scale,t.originY)}function Lw(e,t){return pw(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const Fw=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null};function Uw(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}const Vw=(e,t)=>Math.abs(e-t);class Bw{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Hw(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Vw(e.x,t.x),r=Vw(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:a}=Dv;this.history.push({...r,timestamp:a});const{onStart:s,onMove:i}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),i&&i(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=zw(t,this.transformPagePoint),Pv.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:a}=this.handlers;if(this.dragSnapToOrigin&&a&&a(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=Hw("pointercancel"===e.type?this.lastMoveEventInfo:zw(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),r&&r(e,s)},!qv(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const s=zw(dw(e),this.transformPagePoint),{point:i}=s,{timestamp:o}=Dv;this.history=[{...i,timestamp:o}];const{onSessionStart:l}=t;l&&l(e,Hw(s,this.history)),this.removeListeners=sx(fw(this.contextWindow,"pointermove",this.handlePointerMove),fw(this.contextWindow,"pointerup",this.handlePointerUp),fw(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ov(this.updatePoint)}}function zw(e,t){return t?{point:t(e.point)}:e}function $w(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Hw(e,t){let{point:n}=e;return{point:n,delta:$w(n,qw(t)),offset:$w(n,Ww(t)),velocity:Gw(t,.1)}}function Ww(e){return e[0]}function qw(e){return e[e.length-1]}function Gw(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=qw(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>nv(t)));)n--;if(!r)return{x:0,y:0};const s=rv(a.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const i={x:(a.x-r.x)/s,y:(a.y-r.y)/s};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Kw(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Xw(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Yw=.35;function Qw(e,t,n){return{min:Jw(e,t),max:Jw(e,n)}}function Jw(e,t){return"number"===typeof e?e:e[t]||0}const Zw=new WeakMap;class eE{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new Bw(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(dw(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:a}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(s=n)||"y"===s?Bv[s]?null:(Bv[s]=!0,()=>{Bv[s]=!1}):Bv.x||Bv.y?null:(Bv.x=Bv.y=!0,()=>{Bv.x=Bv.y=!1}),!this.openDragLock))return;var s;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ew((e=>{let t=this.getAxisMotionValue(e).get()||0;if(Vy.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=mw(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),a&&Pv.postRender((()=>a(e,t))),cy(this.visualElement,"transform");const{animationState:i}=this.visualElement;i&&i.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:a,onDrag:s}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:i}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(i),void(null!==this.currentDirection&&a&&a(this.currentDirection));this.updateAxis("x",t.point,i),this.updateAxis("y",t.point,i),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>Ew((e=>"paused"===this.getAnimationState(e)&&this.getAxisMotionValue(e).animation?.play()))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:Fw(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:a}=this.getProps();a&&Pv.postRender((()=>a(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!tE(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,t,n){let{min:r,max:a}=t;return void 0!==r&&e<r?e=n?Qb(r,e,n.min):Math.max(e,r):void 0!==a&&e>a&&(e=n?Qb(a,e,n.max):Math.min(e,a)),e}(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&Uw(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!e||!n)&&function(e,t){let{top:n,left:r,bottom:a,right:s}=t;return{x:Kw(e.x,r,s),y:Kw(e.y,n,a)}}(n.layoutBox,e),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yw;return!1===e?e=0:!0===e&&(e=Yw),{x:Qw(e,"left","right"),y:Qw(e,"top","bottom")}}(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Ew((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(n.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Uw(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=function(e,t,n){const r=Lw(e,n),{scroll:a}=t;return a&&(Dw(r.x,a.offset.x),Dw(r.y,a.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:Xw(e.x,t.x),y:Xw(e.y,t.y)}}(r.layout.layoutBox,a);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=pw(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:i}=this.getProps(),o=this.constraints||{},l=Ew((i=>{if(!tE(i,t,this.currentDirection))return;let l=o&&o[i]||{};s&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,h={type:"inertia",velocity:n?e[i]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...a,...l};return this.startAxisValueAnimation(i,h)}));return Promise.all(l).then(i)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return cy(this.visualElement,e),n.start(Hx(e,n,0,t,this.visualElement,!1))}stopAnimation(){Ew((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){Ew((e=>this.getAxisMotionValue(e).animation?.pause()))}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Ew((t=>{const{drag:n}=this.getProps();if(!tE(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[t];a.set(e[t]-Qb(n,s,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Uw(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Ew((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=mw(e),a=mw(t);return a>r?n=ev(t.min,t.max-r,e.min):r>a&&(n=ev(e.min,e.max-a,t.min)),_y(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ew((t=>{if(!tE(t,e,null))return;const n=this.getAxisMotionValue(t),{min:a,max:s}=this.constraints[t];n.set(Qb(a,s,r[t]))}))}addListeners(){if(!this.visualElement.current)return;Zw.set(this.visualElement,this);const e=fw(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();Uw(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Pv.read(t);const a=hw(window,"resize",(()=>this.scalePositionWithinConstraints())),s=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(Ew((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{a(),e(),r(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:s=Yw,dragMomentum:i=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:a,dragElastic:s,dragMomentum:i}}}function tE(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const nE=e=>(t,n)=>{e&&Pv.postRender((()=>e(t,n)))};const rE=(0,r.createContext)({}),aE={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function sE(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const iE={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!By.test(e))return e;e=parseFloat(e)}return`${sE(e,t.target.x)}% ${sE(e,t.target.y)}%`}},oE={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const a=e,s=tb.parse(e);if(s.length>5)return a;const i=tb.createTransformer(e),o="number"!==typeof s[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;s[0+o]/=l,s[1+o]/=c;const u=Qb(l,c,.5);return"number"===typeof s[2+o]&&(s[2+o]/=u),"number"===typeof s[3+o]&&(s[3+o]/=u),i(s)}},lE={};class cE extends r.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:a}=e;!function(e){for(const t in e)lE[t]=e[t],jb(t)&&(lE[t].isCSSVariable=!0)}(hE),a&&(t.group&&t.group.add(a),n&&n.register&&r&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",(()=>{this.safeToRemove()})),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),aE.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:a}=this.props,s=n.projection;return s?(s.isPresent=a,r||e.layoutDependency!==t||void 0===t||e.isPresent!==a?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||Pv.postRender((()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),jv.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function uE(e){const[t,n]=Wg(),a=(0,r.useContext)(Mg);return(0,dm.jsx)(cE,{...e,layoutGroup:a,switchLayoutGroup:(0,r.useContext)(rE),isPresent:t,safeToRemove:n})}const hE={borderRadius:{...iE,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:iE,borderTopRightRadius:iE,borderBottomLeftRadius:iE,borderBottomRightRadius:iE,boxShadow:oE};const dE=(e,t)=>e.depth-t.depth;class fE{constructor(){this.children=[],this.isDirty=!1}add(e){Xg(this.children,e),this.isDirty=!0}remove(e){Yg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(dE),this.isDirty=!1,this.children.forEach(e)}}function pE(e,t){const n=Vv.now(),r=a=>{let{timestamp:s}=a;const i=s-n;i>=t&&(Ov(r),e(i-t))};return Pv.read(r,!0),()=>Ov(r)}function mE(e){const t=ly(e)?e.get():e;return(e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue))(t)?t.toValue():t}const gE=["TopLeft","TopRight","BottomLeft","BottomRight"],vE=gE.length,yE=e=>"string"===typeof e?parseFloat(e):e,bE=e=>"number"===typeof e||By.test(e);function xE(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const wE=TE(0,.5,Ty),EE=TE(.5,.95,Zg);function TE(e,t,n){return r=>r<e?0:r>t?1:n(ev(e,t,r))}function kE(e,t){e.min=t.min,e.max=t.max}function SE(e,t){kE(e.x,t.x),kE(e.y,t.y)}function _E(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function CE(e,t,n,r,a){return e=Nw(e-=t,1/n,r),void 0!==a&&(e=Nw(e,1/a,r)),e}function NE(e,t,n,r,a){let[s,i,o]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;Vy.test(t)&&(t=parseFloat(t),t=Qb(i.min,i.max,t/100)-i.min);if("number"!==typeof t)return;let o=Qb(s.min,s.max,r);e===s&&(o-=t),e.min=CE(e.min,t,n,o,a),e.max=CE(e.max,t,n,o,a)}(e,t[s],t[i],t[o],t.scale,r,a)}const AE=["x","scaleX","originX"],IE=["y","scaleY","originY"];function RE(e,t,n,r){NE(e.x,t,AE,n?n.x:void 0,r?r.x:void 0),NE(e.y,t,IE,n?n.y:void 0,r?r.y:void 0)}function PE(e){return 0===e.translate&&1===e.scale}function OE(e){return PE(e.x)&&PE(e.y)}function DE(e,t){return e.min===t.min&&e.max===t.max}function ME(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function jE(e,t){return ME(e.x,t.x)&&ME(e.y,t.y)}function LE(e){return mw(e.x)/mw(e.y)}function FE(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class UE{constructor(){this.members=[]}add(e){Xg(this.members,e),e.scheduleRender()}remove(e){if(Yg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const VE={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},BE=["","X","Y","Z"],zE={visibility:"hidden"};let $E=0;function HE(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function WE(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=dy(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Pv,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&WE(r)}function qE(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:a,resetTransform:s}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n?.();this.id=$E++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,pv.value&&(VE.nodes=VE.calculatedTargetDeltas=VE.calculatedProjections=0),this.nodes.forEach(XE),this.nodes.forEach(nT),this.nodes.forEach(rT),this.nodes.forEach(YE),pv.addProjectionMetrics&&pv.addProjectionMetrics(VE)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new fE)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new tv),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:a,layout:s,visualElement:i}=this.options;if(i&&!i.current&&i.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(s||a)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=pE(r,250),aE.hasAnimatedSinceResize&&(aE.hasAnimatedSinceResize=!1,this.nodes.forEach(tT))}))}a&&this.root.registerSharedNode(a,this),!1!==this.options.animate&&i&&(a||s)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:r,layout:a}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||i.getDefaultTransition()||cT,{onLayoutAnimationStart:o,onLayoutAnimationComplete:l}=i.getProps(),c=!this.targetLayout||!jE(this.targetLayout,a),u=!n&&r;if(this.options.layoutRoot||this.resumeFrom||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e={...kv(s,"layout"),onPlay:o,onComplete:l};(i.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||tT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=a}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ov(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aT),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&WE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let a=0;a<this.path.length;a++){const e=this.path[a];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(JE);this.isUpdating||this.nodes.forEach(ZE),this.isUpdating=!1,this.nodes.forEach(eT),this.nodes.forEach(GE),this.nodes.forEach(KE),this.clearAllSnapshots();const e=Vv.now();Dv.delta=_y(0,1e3/60,e-Dv.timestamp),Dv.timestamp=e,Dv.isProcessing=!0,Mv.update.process(Dv),Mv.preRender.process(Dv),Mv.render.process(Dv),Dv.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,jv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(QE),this.sharedNodes.forEach(sT)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pv.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pv.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||mw(this.snapshot.measuredBox.x)||mw(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){const t=a(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!s)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!OE(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,a=r!==this.prevTransformTemplateValue;e&&(t||Sw(this.latestValues)||a)&&(s(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),dT((r=n).x),dT(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(pT))){const{scroll:e}=this.root;e&&(Dw(t.x,e.offset.x),Dw(t.y,e.offset.y))}return t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};if(SE(t,e),this.scroll?.wasRoot)return t;for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:a,options:s}=r;r!==this.root&&a&&s.layoutScroll&&(a.wasRoot&&SE(t,e),Dw(t.x,a.offset.x),Dw(t.y,a.offset.y))}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};SE(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&jw(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Sw(e.latestValues)&&jw(n,e.latestValues)}return Sw(this.latestValues)&&jw(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};SE(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Sw(e.latestValues))continue;kw(e.latestValues)&&e.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};SE(r,e.measurePageBox()),RE(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return Sw(this.latestValues)&&RE(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Dv.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);const n=Boolean(this.resumingFrom)||this!==t;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:r,layoutId:a}=this.options;if(this.layout&&(r||a)){if(this.resolvedRelativeTargetAt=Dv.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},xw(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),SE(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var s,i,o;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s=this.target,i=this.relativeTarget,o=this.relativeParent.target,yw(s.x,i.x,o.x),yw(s.y,i.y,o.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):SE(this.target,this.layout.layoutBox),Rw(this.target,this.targetDelta)):SE(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},xw(this.relativeTargetOrigin,this.target,e.target),SE(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}pv.value&&VE.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!kw(this.parent.latestValues)&&!_w(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const e=this.getLead(),t=Boolean(this.resumingFrom)||this!==e;let n=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(n=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===Dv.timestamp&&(n=!1),n)return;const{layout:r,layoutId:a}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!r&&!a)return;SE(this.layoutCorrected,this.layout.layoutBox);const s=this.treeScale.x,i=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=n.length;if(!a)return;let s,i;t.x=t.y=1;for(let o=0;o<a;o++){s=n[o],i=s.projectionDelta;const{visualElement:a}=s.options;a&&a.props.style&&"contents"===a.props.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&jw(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,Rw(e,i)),r&&Sw(s.latestValues)&&jw(e,s.latestValues))}t.x<Ow&&t.x>Pw&&(t.x=1),t.y<Ow&&t.y>Pw&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,t),!e.layout||e.target||1===this.treeScale.x&&1===this.treeScale.y||(e.target=e.layout.layoutBox,e.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:o}=e;o?(this.projectionDelta&&this.prevProjectionDelta?(_E(this.prevProjectionDelta.x,this.projectionDelta.x),_E(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),vw(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.treeScale.x===s&&this.treeScale.y===i&&FE(this.projectionDelta.x,this.prevProjectionDelta.x)&&FE(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o)),pv.value&&VE.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.visualElement?.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},a={...this.latestValues},s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const i={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(lT));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;iT(s.x,e.x,n),iT(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xw(i,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){oT(e.x,t.x,n.x,r),oT(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,i,n),h&&function(e,t){return DE(e.x,t.x)&&DE(e.y,t.y)}(this.relativeTarget,h)&&(this.isProjectionDirty=!1),h||(h={x:{min:0,max:0},y:{min:0,max:0}}),SE(h,this.relativeTarget)),o&&(this.animationValues=a,function(e,t,n,r,a,s){a?(e.opacity=Qb(0,void 0!==n.opacity?n.opacity:1,wE(r)),e.opacityExit=Qb(void 0!==t.opacity?t.opacity:1,0,EE(r))):s&&(e.opacity=Qb(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let i=0;i<vE;i++){const a=`border${gE[i]}Radius`;let s=xE(t,a),o=xE(n,a);void 0===s&&void 0===o||(s||(s=0),o||(o=0),0===s||0===o||bE(s)===bE(o)?(e[a]=Math.max(Qb(yE(s),yE(o),r),0),(Vy.test(o)||Vy.test(s))&&(e[a]+="%")):e[a]=o)}(t.rotate||n.rotate)&&(e.rotate=Qb(t.rotate||0,n.rotate||0,r))}(a,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ov(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pv.update((()=>{aE.hasAnimatedSinceResize=!0,fv.layout++,this.currentAnimation=function(e,t,n){const r=ly(e)?e:ty(e);return r.start(Hx("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{fv.layout--},onComplete:()=>{fv.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:a}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&fT(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=mw(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=mw(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}SE(t,n),jw(t,a),vw(this.projectionDeltaWithTransform,this.layoutCorrected,t,a)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new UE);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){const{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){const{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&HE("z",e,r,this.animationValues);for(let a=0;a<BE.length;a++)HE(`rotate${BE[a]}`,e,r,this.animationValues),HE(`skew${BE[a]}`,e,r,this.animationValues);e.render();for(const a in r)e.setStaticValue(a,r[a]),this.animationValues&&(this.animationValues[a]=r[a]);e.scheduleRender()}getProjectionStyles(e){if(!this.instance||this.isSVG)return;if(!this.isVisible)return zE;const t={visibility:""},n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,t.opacity="",t.pointerEvents=mE(e?.pointerEvents)||"",t.transform=n?n(this.latestValues,""):"none",t;const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=mE(e?.pointerEvents)||""),this.hasProjected&&!Sw(this.latestValues)&&(t.transform=n?n({},""):"none",this.hasProjected=!1),t}const a=r.animationValues||r.latestValues;this.applyTransformsToTarget(),t.transform=function(e,t,n){let r="";const a=e.x.translate/t.x,s=e.y.translate/t.y,i=n?.z||0;if((a||s||i)&&(r=`translate3d(${a}px, ${s}px, ${i}px) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:a,rotateY:s,skewX:i,skewY:o}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),a&&(r+=`rotateX(${a}deg) `),s&&(r+=`rotateY(${s}deg) `),i&&(r+=`skewX(${i}deg) `),o&&(r+=`skewY(${o}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return 1===o&&1===l||(r+=`scale(${o}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,a),n&&(t.transform=n(a,t.transform));const{x:s,y:i}=this.projectionDelta;t.transformOrigin=`${100*s.origin}% ${100*i.origin}% 0`,r.animationValues?t.opacity=r===this?a.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:t.opacity=r===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const o in lE){if(void 0===a[o])continue;const{correct:e,applyTo:n,isCSSVariable:s}=lE[o],i="none"===t.transform?a[o]:e(a[o],r);if(n){const e=n.length;for(let r=0;r<e;r++)t[n[r]]=i}else s?this.options.visualElement.renderState.vars[o]=i:t[o]=i}return this.options.layoutId&&(t.pointerEvents=r===this?mE(e?.pointerEvents)||"":"none"),t}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>e.currentAnimation?.stop())),this.root.nodes.forEach(JE),this.root.sharedNodes.clear()}}}function GE(e){e.updateLayout()}function KE(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:a}=e.options,s=t.source!==e.layout.source;"size"===a?Ew((e=>{const r=s?t.measuredBox[e]:t.layoutBox[e],a=mw(r);r.min=n[e].min,r.max=r.min+a})):fT(a,t.layoutBox,n)&&Ew((r=>{const a=s?t.measuredBox[r]:t.layoutBox[r],i=mw(n[r]);a.max=a.min+i,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+i)}));const i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};vw(i,n,t.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?vw(o,e.applyTransform(r,!0),t.measuredBox):vw(o,n,t.layoutBox);const l=!OE(i);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:a,layout:s}=r;if(a&&s){const i={x:{min:0,max:0},y:{min:0,max:0}};xw(i,t.layoutBox,a.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};xw(o,n,s.layoutBox),jE(i,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=i,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:o,layoutDelta:i,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function XE(e){pv.value&&VE.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function YE(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function QE(e){e.clearSnapshot()}function JE(e){e.clearMeasurements()}function ZE(e){e.isLayoutDirty=!1}function eT(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function tT(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function nT(e){e.resolveTargetDelta()}function rT(e){e.calcProjection()}function aT(e){e.resetSkewAndRotation()}function sT(e){e.removeLeadSnapshot()}function iT(e,t,n){e.translate=Qb(t.translate,0,n),e.scale=Qb(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function oT(e,t,n,r){e.min=Qb(t.min,n.min,r),e.max=Qb(t.max,n.max,r)}function lT(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const cT={duration:.45,ease:[.4,0,.1,1]},uT=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),hT=uT("applewebkit/")&&!uT("chrome/")?Math.round:Zg;function dT(e){e.min=hT(e.min),e.max=hT(e.max)}function fT(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=LE(t),a=LE(n),s=.2,!(Math.abs(r-a)<=s));var r,a,s}function pT(e){return e!==e.root&&e.scroll?.wasRoot}const mT=qE({attachResizeListener:(e,t)=>hw(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gT={current:void 0},vT=qE({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!gT.current){const e=new mT({});e.mount(window),e.setOptions({layoutScroll:!0}),gT.current=e}return gT.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),yT={pan:{Feature:class extends lw{constructor(){super(...arguments),this.removePointerDownListener=Zg}onPointerDown(e){this.session=new Bw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Fw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:nE(e),onStart:nE(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Pv.postRender((()=>r(e,t)))}}}mount(){this.removePointerDownListener=fw(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends lw{constructor(e){super(e),this.removeGroupControls=Zg,this.removeListeners=Zg,this.controls=new eE(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zg}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:vT,MeasureLayout:uE}};function bT(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const a=r["onHover"+n];a&&Pv.postRender((()=>a(t,dw(t))))}function xT(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const a=r["onTap"+("End"===n?"":n)];a&&Pv.postRender((()=>a(t,dw(t))))}const wT=new WeakMap,ET=new WeakMap,TT=e=>{const t=wT.get(e.target);t&&t(e)},kT=e=>{e.forEach(TT)};function ST(e,t,n){const r=function(e){let{root:t,...n}=e;const r=t||document;ET.has(r)||ET.set(r,{});const a=ET.get(r),s=JSON.stringify(n);return a[s]||(a[s]=new IntersectionObserver(kT,{root:t,...n})),a[s]}(t);return wT.set(e,n),r.observe(e),()=>{wT.delete(e),r.unobserve(e)}}const _T={some:0,all:1};const CT={inView:{Feature:class extends lw{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:a}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:_T[r]};return ST(this.node.current,s,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,a&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=t?n:r;s&&s(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends lw{mount(){const{current:e}=this.node;e&&(this.unmount=Jv(e,((e,t)=>(xT(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return xT(this.node,e,n?"End":"Cancel")})),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends lw{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(Pm){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sx(hw(this.node.current,"focus",(()=>this.onFocus())),hw(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends lw{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,a,s]=$v(e,n),i=e=>{if(!Hv(e))return;const{target:n}=e,r=t(n,e);if("function"!==typeof r||!n)return;const s=e=>{Hv(e)&&(r(e),n.removeEventListener("pointerleave",s))};n.addEventListener("pointerleave",s,a)};return r.forEach((e=>{e.addEventListener("pointerenter",i,a)})),s}(e,((e,t)=>(bT(this.node,t,"Start"),e=>bT(this.node,e,"End")))))}unmount(){}}}},NT={layout:{ProjectionNode:vT,MeasureLayout:uE}},AT=(0,r.createContext)({strict:!1}),IT=(0,r.createContext)({});function RT(e){return iv(e.animate)||Jx.some((t=>Yx(e[t])))}function PT(e){return Boolean(RT(e)||e.variants)}function OT(e){const{initial:t,animate:n}=function(e,t){if(RT(e)){const{initial:t,animate:n}=e;return{initial:!1===t||Yx(t)?t:void 0,animate:Yx(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,r.useContext)(IT));return(0,r.useMemo)((()=>({initial:t,animate:n})),[DT(t),DT(n)])}function DT(e){return Array.isArray(e)?e.join(" "):e}const MT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jT={};for(const $ in MT)jT[$]={isEnabled:e=>MT[$].some((t=>!!e[t]))};const LT=Symbol.for("motionComponentSymbol");function FT(e,t,n){return(0,r.useCallback)((r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):Uw(n)&&(n.current=r))}),[t])}function UT(e,t,n,a,s){const{visualElement:i}=(0,r.useContext)(IT),o=(0,r.useContext)(AT),l=(0,r.useContext)(Ug),c=(0,r.useContext)(Vg).reducedMotion,u=(0,r.useRef)(null);a=a||o.renderer,!u.current&&a&&(u.current=a(e,{visualState:t,parent:i,props:n,presenceContext:l,blockInitialAnimation:!!l&&!1===l.initial,reducedMotionConfig:c}));const h=u.current,d=(0,r.useContext)(rE);!h||h.projection||!s||"html"!==h.type&&"svg"!==h.type||function(e,t,n,r){const{layoutId:a,layout:s,drag:i,dragConstraints:o,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:VT(e.parent)),e.projection.setOptions({layoutId:a,layout:s,alwaysMeasureLayout:Boolean(i)||o&&Uw(o),visualElement:e,animationType:"string"===typeof s?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}(u.current,n,s,d);const f=(0,r.useRef)(!1);(0,r.useInsertionEffect)((()=>{h&&f.current&&h.update(n,l)}));const p=n[hy],m=(0,r.useRef)(Boolean(p)&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return Fg((()=>{h&&(f.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),jv.render(h.render),m.current&&h.animationState&&h.animationState.animateChanges())})),(0,r.useEffect)((()=>{h&&(!m.current&&h.animationState&&h.animationState.animateChanges(),m.current&&(queueMicrotask((()=>{window.MotionHandoffMarkAsComplete?.(p)})),m.current=!1))})),h}function VT(e){if(e)return!1!==e.options.allowProjection?e.projection:VT(e.parent)}function BT(e){let{preloadedFeatures:t,createVisualElement:n,useRender:a,useVisualState:s,Component:i}=e;function o(e,t){let o;const l={...(0,r.useContext)(Vg),...e,layoutId:zT(e)},{isStatic:c}=l,u=OT(e),h=s(e,c);if(!c&&Lg){!function(){(0,r.useContext)(AT).strict;0}();const e=function(e){const{drag:t,layout:n}=jT;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);o=e.MeasureLayout,u.visualElement=UT(i,h,l,n,e.ProjectionNode)}return(0,dm.jsxs)(IT.Provider,{value:u,children:[o&&u.visualElement?(0,dm.jsx)(o,{visualElement:u.visualElement,...l}):null,a(i,e,FT(h,u.visualElement,t),h,c,u.visualElement)]})}t&&function(e){for(const t in e)jT[t]={...jT[t],...e[t]}}(t),o.displayName=`motion.${"string"===typeof i?i:`create(${i.displayName??i.name??""})`}`;const l=(0,r.forwardRef)(o);return l[LT]=i,l}function zT(e){let{layoutId:t}=e;const n=(0,r.useContext)(Mg).id;return n&&void 0!==t?n+"-"+t:t}function $T(e,t){let{layout:n,layoutId:r}=t;return ry.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!lE[e]||"opacity"===e)}const HT=(e,t)=>t&&"number"===typeof e?t.transform(e):e,WT={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qT=ny.length;function GT(e,t,n){const{style:r,vars:a,transformOrigin:s}=e;let i=!1,o=!1;for(const l in t){const e=t[l];if(ry.has(l))i=!0;else if(jb(l))a[l]=e;else{const t=HT(e,cb[l]);l.startsWith("origin")?(o=!0,s[l]=t):r[l]=t}}if(t.transform||(i||n?r.transform=function(e,t,n){let r="",a=!0;for(let s=0;s<qT;s++){const i=ny[s],o=e[i];if(void 0===o)continue;let l=!0;if(l="number"===typeof o?o===(i.startsWith("scale")?1:0):0===parseFloat(o),!l||n){const e=HT(o,cb[i]);l||(a=!1,r+=`${WT[i]||i}(${e}) `),n&&(t[i]=e)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:e="50%",originY:t="50%",originZ:n=0}=s;r.transformOrigin=`${e} ${t} ${n}`}}const KT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function XT(e,t,n){for(const r in t)ly(t[r])||$T(r,n)||(e[r]=t[r])}function YT(e,t){const n={};return XT(n,e.style||{},e),Object.assign(n,function(e,t){let{transformTemplate:n}=e;return(0,r.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return GT(e,t,n),Object.assign({},e.vars,e.style)}),[t])}(e,t)),n}function QT(e,t){const n={},r=YT(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const JT=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ZT(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||JT.has(e)}let ek=e=>!ZT(e);try{(tk=require("@emotion/is-prop-valid").default)&&(ek=e=>e.startsWith("on")?!ZT(e):tk(e))}catch{}var tk;const nk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rk(e){return"string"===typeof e&&!e.includes("-")&&!!(nk.indexOf(e)>-1||/[A-Z]/u.test(e))}const ak={offset:"stroke-dashoffset",array:"stroke-dasharray"},sk={offset:"strokeDashoffset",array:"strokeDasharray"};function ik(e,t,n){return"string"===typeof e?e:By.transform(t+n*e)}function ok(e,t,n,r){let{attrX:a,attrY:s,attrScale:i,originX:o,originY:l,pathLength:c,pathSpacing:u=1,pathOffset:h=0,...d}=t;if(GT(e,d,r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:m}=e;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(void 0!==o||void 0!==l||p.transform)&&(p.transformOrigin=function(e,t,n){return`${ik(t,e.x,e.width)} ${ik(n,e.y,e.height)}`}(m,void 0!==o?o:.5,void 0!==l?l:.5)),void 0!==a&&(f.x=a),void 0!==s&&(f.y=s),void 0!==i&&(f.scale=i),void 0!==c&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const s=a?ak:sk;e[s.offset]=By.transform(-r);const i=By.transform(t),o=By.transform(n);e[s.array]=`${i} ${o}`}(f,c,u,h,!1)}const lk=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),ck=e=>"string"===typeof e&&"svg"===e.toLowerCase();function uk(e,t,n,a){const s=(0,r.useMemo)((()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return ok(n,t,ck(a),e.transformTemplate),{...n.attrs,style:{...n.style}}}),[t]);if(e.style){const t={};XT(t,e.style,e),s.style={...t,...s.style}}return s}function hk(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,a,s,i)=>{let{latestValues:o}=s;const l=(rk(t)?uk:QT)(n,o,i,t),c=function(e,t,n){const r={};for(const a in e)"values"===a&&"object"===typeof e.values||(ek(a)||!0===n&&ZT(a)||!t&&!ZT(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}(n,"string"===typeof t,e),u=t!==r.Fragment?{...c,...l,ref:a}:{},{children:h}=n,d=(0,r.useMemo)((()=>ly(h)?h.get():h),[h]);return(0,r.createElement)(t,{...u,children:d})}}const dk=e=>(t,n)=>{const a=(0,r.useContext)(IT),s=(0,r.useContext)(Ug),i=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:a,createRenderState:s,onUpdate:i}=e;const o={latestValues:fk(t,n,r,a),renderState:s()};return i&&(o.onMount=e=>i({props:t,current:e,...o}),o.onUpdate=e=>i(e)),o}(e,t,a,s);return n?i():jg(i)};function fk(e,t,n,r){const a={},s=r(e,{});for(const d in s)a[d]=mE(s[d]);let{initial:i,animate:o}=e;const l=RT(e),c=PT(e);t&&c&&!l&&!1!==e.inherit&&(void 0===i&&(i=t.initial),void 0===o&&(o=t.animate));let u=!!n&&!1===n.initial;u=u||!1===i;const h=u?o:i;if(h&&"boolean"!==typeof h&&!iv(h)){const t=Array.isArray(h)?h:[h];for(let n=0;n<t.length;n++){const r=lv(e,t[n]);if(r){const{transitionEnd:e,transition:t,...n}=r;for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[u?e.length-1:0]}null!==e&&(a[r]=e)}for(const r in e)a[r]=e[r]}}}return a}function pk(e,t,n){const{style:r}=e,a={};for(const s in r)(ly(r[s])||t.style&&ly(t.style[s])||$T(s,e)||void 0!==n?.getValue(s)?.liveStyle)&&(a[s]=r[s]);return a}const mk={useVisualState:dk({scrapeMotionValuesFromProps:pk,createRenderState:KT})};function gk(e,t){try{t.dimensions="function"===typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(Pm){t.dimensions={x:0,y:0,width:0,height:0}}}function vk(e,t,n,r){let{style:a,vars:s}=t;Object.assign(e.style,a,r&&r.getProjectionStyles(n));for(const i in s)e.style.setProperty(i,s[i])}const yk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function bk(e,t,n,r){vk(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(yk.has(a)?a:uy(a),t.attrs[a])}function xk(e,t,n){const r=pk(e,t,n);for(const a in e)if(ly(e[a])||ly(t[a])){r[-1!==ny.indexOf(a)?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a]=e[a]}return r}const wk=["x","y","width","height","cx","cy","r"],Ek={useVisualState:dk({scrapeMotionValuesFromProps:xk,createRenderState:lk,onUpdate:e=>{let{props:t,prevProps:n,current:r,renderState:a,latestValues:s}=e;if(!r)return;let i=!!t.drag;if(!i)for(const l in s)if(ry.has(l)){i=!0;break}if(!i)return;let o=!n;if(n)for(let l=0;l<wk.length;l++){const e=wk[l];t[e]!==n[e]&&(o=!0)}o&&Pv.read((()=>{gk(r,a),Pv.render((()=>{ok(a,s,ck(r.tagName),t.transformTemplate),bk(r,a)}))}))}})};function Tk(e,t){return function(n){let{forwardMotionProps:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};return BT({...rk(n)?Ek:mk,preloadedFeatures:e,useRender:hk(r),createVisualElement:t,Component:n})}}const kk={current:null},Sk={current:!1};const _k=[...$b,qy,tb],Ck=new WeakMap;const Nk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ak{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:s,visualState:i}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ob,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Vv.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Pv.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=i;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=Boolean(s),this.isControllingVariants=RT(n),this.isVariantNode=PT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const e=d[f];void 0!==l[f]&&ly(e)&&e.set(l[f],!1)}}mount(e){this.current=e,Ck.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),Sk.current||function(){if(Sk.current=!0,Lg)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>kk.current=e.matches;e.addListener(t),t()}else kk.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||kk.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ov(this.notifyUpdate),Ov(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=ry.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&Pv.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),a=t.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{r(),a(),s&&s(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in jT){const t=jT[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Nk.length;n++){const t=Nk[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const a=t[r],s=n[r];if(ly(a))e.addValue(r,a);else if(ly(s))e.addValue(r,ty(a,{owner:e}));else if(s!==a)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(a):t.hasAnimated||t.set(a)}else{const t=e.getStaticValue(r);e.addValue(r,ty(void 0!==t?t:a,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=ty(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return void 0!==n&&null!==n&&("string"===typeof n&&(Db(n)||Sy(n))?n=parseFloat(n):!(e=>_k.find(zb(e)))(n)&&tb.test(t)&&(n=db(e,t)),this.setBaseTarget(e,ly(n)?n.get():n)),ly(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"===typeof t||"object"===typeof t){const r=lv(this.props,t,this.presenceContext?.custom);r&&(n=r[e])}if(t&&void 0!==n)return n;const r=this.getBaseTargetFromProps(this.props,e);return void 0===r||ly(r)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:r}on(e,t){return this.events[e]||(this.events[e]=new tv),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class Ik extends Ak{constructor(){super(...arguments),this.KeyframeResolver=Wb}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ly(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent=`${e}`)})))}}class Rk extends Ik{constructor(){super(...arguments),this.type="html",this.renderInstance=vk}readValueFromInstance(e,t){if(ry.has(t))return((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Eb(n,t)})(e,t);{const r=(n=e,window.getComputedStyle(n)),a=(jb(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof a?a.trim():a}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return Lw(e,n)}build(e,t,n){GT(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return pk(e,t,n)}}class Pk extends Ik{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ww,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&gk(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(ry.has(t)){const e=hb(t);return e&&e.default||0}return t=yk.has(t)?t:uy(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return xk(e,t,n)}onBindTransform(){this.current&&!this.renderState.dimensions&&Pv.postRender(this.updateDimensions)}build(e,t,n){ok(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,r){bk(e,t,0,r)}mount(e){this.isSVGTag=ck(e.tagName),super.mount(e)}}const Ok=sv(Tk({...uw,...CT,...yT,...NT},((e,t)=>rk(e)?new Pk(t):new Rk(t,{allowProjection:e!==r.Fragment})))),Dk=["Saida","Entrada"],Mk=["Pendente","Finalizado"],jk=["Dispon\xedvel","Indispon\xedvel"],Lk=["MacBook Air M1","Dell Latitude 5420","Lenovo ThinkPad L14"],Fk=e=>(e||"").toString().trim().toUpperCase(),Uk=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{if(!e)return"\u2014";if("function"===typeof(null===e||void 0===e?void 0:e.toDate))return t?e.toDate().toLocaleString("pt-BR"):e.toDate().toLocaleDateString("pt-BR");const n=new Date(e);return Number.isNaN(n.getTime())?String(e):t?n.toLocaleString("pt-BR"):n.toLocaleDateString("pt-BR")}catch{return String(null!==e&&void 0!==e?e:"\u2014")}};function Vk(e){let{open:t,onClose:n,office:a,usuario:s,numeroSerie:i,editMovement:o,variant:l="movement"}=e;const[c,u]=(0,r.useState)(""),[h,d]=(0,r.useState)("Saida"),[f,p]=(0,r.useState)(""),[m,g]=(0,r.useState)(i||""),[v,y]=(0,r.useState)((null===s||void 0===s?void 0:s.email)||""),[b,x]=(0,r.useState)(a),[w,E]=(0,r.useState)(""),[T,k]=(0,r.useState)("Pendente"),[S,_]=(0,r.useState)("Dispon\xedvel"),[C,N]=(0,r.useState)(""),[A,I]=(0,r.useState)(!1),[R,P]=(0,r.useState)([]),[O,D]=(0,r.useState)(Lk),M=(0,r.useRef)(),j=O.length>0;(0,r.useEffect)((()=>{const e=Op(Sf(hm,"appSettings","global"),(e=>{var t;const n=e.data()||{},r=[...Array.isArray(null===n||void 0===n||null===(t=n.inventory)||void 0===t?void 0:t.models)?n.inventory.models.map((e=>"string"===typeof e?e:(null===e||void 0===e?void 0:e.nome)||(null===e||void 0===e?void 0:e.label)||"")):[],...Lk,...null!==o&&void 0!==o&&o.modelo?[String(o.modelo||"").trim()]:[]].map((e=>String(e||"").trim())).filter((e=>e.length>0));D(Array.from(new Set(r)))}),(e=>{console.error("N\xe3o foi poss\xedvel carregar modelos configurados:",e);const t=[...Lk,...null!==o&&void 0!==o&&o.modelo?[String(o.modelo||"").trim()]:[]].map((e=>String(e||"").trim())).filter((e=>e.length>0));D(Array.from(new Set(t)))}));return()=>e()}),[null===o||void 0===o?void 0:o.modelo]),(0,r.useEffect)((()=>{if(o)u(o.data||""),d(o.tipo||"Saida"),p(o.modelo?String(o.modelo).trim():""),g(o.numeroSerie?Fk(o.numeroSerie):""),y(o.responsavel||(null===s||void 0===s?void 0:s.email)||""),x(o.local||a),E(o.obs||""),k(o.status||"Pendente"),_(o.disponibilidade||"Dispon\xedvel"),N(o.email||"");else{const e=(new Date).toISOString().split("T")[0];u("inventory"===l?e:""),d("inventory"===l?"Entrada":"Saida"),p(""),g(i?Fk(i):""),y((null===s||void 0===s?void 0:s.email)||""),x(a),E(""),k("Pendente"),_("Dispon\xedvel"),N("")}}),[o,i,s,a,l]),(0,r.useEffect)((()=>{t&&M.current&&M.current.focus();const e=e=>"Escape"===e.key&&(null===n||void 0===n?void 0:n());return t&&window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[t,n]),(0,r.useEffect)((()=>{const e=Fk(m);if(e){const t=Op(hp(kf(hm,"equipment-movements"),fp("numeroSerie","==",e)),(e=>{P(e.docs.map((e=>({id:e.id,...e.data()}))))}));return()=>t()}P([])}),[m]);const L=(0,r.useMemo)((()=>{const e=[],t=(t,n)=>{if(!t)return;const r={...t};delete r.historico,e.push({...r,numeroSerie:r.numeroSerie||(null===n||void 0===n?void 0:n.numeroSerie)||Fk(m),registradoEm:r.registradoEm||r.criadoEm||(null===n||void 0===n?void 0:n.criadoEm),responsavel:r.responsavel||(null===n||void 0===n?void 0:n.responsavel),local:r.local||(null===n||void 0===n?void 0:n.local),modelo:r.modelo||(null===n||void 0===n?void 0:n.modelo),usuario:r.usuario||(null===n||void 0===n?void 0:n.usuario),tipo:r.tipo||(null===n||void 0===n?void 0:n.tipo),status:r.status||(null===n||void 0===n?void 0:n.status),disponibilidade:r.disponibilidade||(null===n||void 0===n?void 0:n.disponibilidade),obs:r.obs||(null===n||void 0===n?void 0:n.obs)})};R.forEach((e=>{const n=Array.isArray(e.historico)?e.historico:[];n.length?n.forEach((n=>t(n,e))):t({data:e.data,tipo:e.tipo,modelo:e.modelo,numeroSerie:e.numeroSerie,responsavel:e.responsavel,local:e.local,obs:e.obs,status:e.status,disponibilidade:e.disponibilidade,email:e.email,registradoEm:e.criadoEm},e)}));const n=e=>"function"===typeof(null===e||void 0===e?void 0:e.toMillis)?e.toMillis():"function"===typeof(null===e||void 0===e?void 0:e.toDate)?e.toDate().getTime():e?new Date(e).getTime():0;return e.sort(((e,t)=>n(t.registradoEm)-n(e.registradoEm))).slice(0,6)}),[R,m]),F=e=>"S\xe3o Paulo"===e?"sao-paulo":"Rio de Janeiro"===e?"rio-de-janeiro":"Jo\xe3o Pessoa"===e?"joao-pessoa":"outros";return t?(0,dm.jsx)(Kg,{children:(0,dm.jsx)(Ok.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,dm.jsxs)(Ok.div,{initial:{scale:.95,y:30},animate:{scale:1,y:0},exit:{scale:.95,y:30},transition:{type:"spring",stiffness:300,damping:24},className:"modal-card w-full max-w-3xl overflow-hidden",children:[(0,dm.jsxs)("div",{className:"modal-head px-6 py-4 flex items-center justify-between",children:[(0,dm.jsxs)("div",{children:[(0,dm.jsx)("h2",{className:"text-xl font-bold text-[var(--text)]",children:o?"Editar Cadastro":"Cadastro"}),m&&(0,dm.jsxs)("p",{className:"text-sm text-[var(--text-muted)] mt-0.5",children:["N\xba de S\xe9rie:"," ",(0,dm.jsx)("button",{className:"underline",onClick:()=>{return e=m,navigator.clipboard.writeText(e),void Rg({message:"Copiado!",type:"success",duration:2e3});var e},children:m})]})]}),(0,dm.jsx)("button",{onClick:n,className:"p-2 rounded-lg border border-[var(--line)] hover:bg-white/5 transition text-[var(--text)]","aria-label":"Fechar",children:(0,dm.jsx)(Tm,{className:"w-5 h-5 text-pink-300"})})]}),(0,dm.jsxs)("div",{className:"p-6 space-y-6 bg-[var(--bg-soft)]",children:[(0,dm.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),I(!0);try{const e=f.trim();if(!e)return Rg({type:"error",message:"Informe o modelo antes de salvar.",duration:3e3}),void I(!1);const u=Fk(m);if(!u)return Rg({type:"error",message:"Informe o n\xfamero de s\xe9rie.",duration:3e3}),void I(!1);u!==m&&g(u);const d=null!==o&&void 0!==o&&o.numeroSerie?Fk(o.numeroSerie):null,p=(null===o||void 0===o?void 0:o.tipo)||null,y=(null===o||void 0===o?void 0:o.local)||a,x=F(y),E=F(b||a),k=Sf(hm,E,u),_="inventory"===l||"Saida"!==h;let N=null;const A="Saida"!==p&&Boolean(d),R=A&&d===u&&x===E,P="Dispon\xedvel"===S?"Disponivel":"Indisponivel";if(_){if(A&&!R)try{await Rp(Sf(hm,x,d))}catch(i){const e=hp(kf(hm,x),fp("serial","==",d)),t=await Np(e);await Promise.all(t.docs.map((e=>Rp(e.ref))))}if(N=await function(e){e=gf(e,Ef);const t=gf(e.firestore,Af);return lf(If(t),e._key).then((n=>Mp(t,e,n)))}(k),N.exists()&&!R)return Rg({type:"error",message:"Este n\xfamero de s\xe9rie j\xe1 est\xe1 em estoque. Verifique o cadastro."}),void I(!1)}else if(A)try{await Rp(Sf(hm,x,d))}catch(i){const e=hp(kf(hm,x),fp("serial","==",d)),t=await Np(e);await Promise.all(t.docs.map((e=>Rp(e.ref))))}const O=(w||"").trim(),D=(null===o||void 0===o?void 0:o.criadoEm)||(null===o||void 0===o?void 0:o.createdAt)||Rs.now(),M={data:c,tipo:h,modelo:e,numeroSerie:u,responsavel:v,local:b,obs:O,disponibilidade:S,criadoEm:D,...C?{email:C}:{},status:"inventory"!==l?T:"Dispon\xedvel"===S?"Dispon\xedvel":"Indispon\xedvel"},j={...M,status:M.status,registradoEm:Rs.now(),usuario:(null===s||void 0===s?void 0:s.email)||v,acao:o?"Atualiza\xe7\xe3o":"Cadastro"};if(o){const e=Array.isArray(o.historico)?o.historico:[];await Ip(Sf(hm,"equipment-movements",o.id),{...M,historico:[...e,j]})}else"inventory"!==l&&await Pp(kf(hm,"equipment-movements"),{...M,historico:[j]});if(_){var t,r;const n=null!==(t=N)&&void 0!==t&&t.exists()&&(null===(r=N.data())||void 0===r?void 0:r.createdAt)||Rs.now();await Ap(k,{serial:u,modelo:e,status:P,email:(null===s||void 0===s?void 0:s.email)||v,createdBy:(null===s||void 0===s?void 0:s.email)||v,updatedBy:(null===s||void 0===s?void 0:s.email)||v,observacao:O,createdAt:n,updatedAt:Rs.now()})}else try{await Rp(k)}catch(i){const e=hp(kf(hm,E),fp("serial","==",u)),t=await Np(e);await Promise.all(t.docs.map((e=>Rp(e.ref))))}Rg({type:"success",message:o?"Cadastro atualizado com sucesso.":"Cadastro salvo com sucesso."}),o||("Entrada"===h&&"Dispon\xedvel"===S?Rg({type:"success",message:"Equipamento adicionado ao estoque.",duration:4500}):"Saida"===h&&Rg({type:"info",message:"Equipamento removido do estoque.",duration:4500})),null===n||void 0===n||n()}catch(i){console.error(i),Rg({type:"error",message:"Erro ao salvar cadastro.",description:(null===i||void 0===i?void 0:i.message)||"Tente novamente em instantes."})}finally{I(!1)}},className:"space-y-5",children:[(0,dm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,dm.jsxs)("div",{children:[(0,dm.jsx)("label",{className:"block mb-1 text-sm text-[var(--text-muted)]",children:"Data"}),(0,dm.jsx)("input",{ref:M,type:"date",className:"input-neon w-full",value:c,onChange:e=>u(e.target.value),required:!0})]}),"inventory"!==l&&(0,dm.jsxs)("div",{children:[(0,dm.jsx)("label",{className:"block mb-1 text-sm text-[var(--text-muted)]",children:"Tipo de Movimento"}),(0,dm.jsx)("select",{className:"input-neon w-full",value:h,onChange:e=>d(e.target.value),required:!0,children:Dk.map((e=>(0,dm.jsx)("option",{value:e,children:e},e)))})]}),(0,dm.jsxs)("div",{children:[(0,dm.jsx)("label",{className:"block mb-1 text-sm text-[var(--text-muted)]",children:"Modelo"}),j?(0,dm.jsxs)("select",{className:"input-neon w-full",value:f,onChange:e=>p(e.target.value),required:!0,children:[(0,dm.jsx)("option",{value:"",children:"Selecione um modelo"}),O.map((e=>(0,dm.jsx)("option",{value:e,children:e},e)))]}):(0,dm.jsx)("input",{className:"input-neon w-full",value:f,onChange:e=>p(e.target.value),required:!0})]}),(0,dm.jsxs)("div",{children:[(0,dm.jsx)("label",{className:"block mb-1 text-sm text-[var(--text-muted)]",children:"N\xfamero de S\xe9rie"}),(0,dm.jsx)("input",{className:"input-neon w-full",value:m,onChange:e=>g(e.target.value),required:!0})]}),(0,dm.jsxs)("div",{children:[(0,dm.jsx)("label",{className:"block mb-1 text-sm text-[var(--text-muted)]",children:"Respons\xe1vel"}),(0,dm.jsx)("input",{className:"input-neon w-full",value:v,disabled:!0})]}),(0,dm.jsxs)("div",{children:[(0,dm.jsx)("label",{className:"block mb-1 text-sm text-[var(--text-muted)]",children:"E-mail (opcional)"}),(0,dm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dm.jsx)(km,{className:"w-4 h-4 text-pink-300 shrink-0","aria-hidden":"true"}),(0,dm.jsx)("input",{type:"email",placeholder:"nome@empresa.com",className:"input-neon w-full",value:C,onChange:e=>N(e.target.value)})]})]}),(0,dm.jsxs)("div",{children:[(0,dm.jsx)("label",{className:"block mb-1 text-sm text-[var(--text-muted)]",children:"Local de recebimento/Destino"}),(0,dm.jsx)("input",{className:"input-neon w-full",value:b,onChange:e=>x(e.target.value),required:!0})]}),(0,dm.jsxs)("div",{className:"md:col-span-2",children:[(0,dm.jsx)("label",{className:"block mb-1 text-sm text-[var(--text-muted)]",children:"Observa\xe7\xf5es"}),(0,dm.jsx)("textarea",{className:"input-neon w-full min-h-[120px] resize-y",value:w,onChange:e=>E(e.target.value),rows:4,placeholder:"Detalhes adicionais sobre o equipamento"})]}),"inventory"!==l&&(0,dm.jsxs)(dm.Fragment,{children:[(0,dm.jsxs)("div",{children:[(0,dm.jsx)("label",{className:"block mb-1 text-sm text-[var(--text-muted)]",children:"Envio de novo termo"}),(0,dm.jsx)("select",{className:"input-neon w-full",value:T,onChange:e=>k(e.target.value),required:!0,children:Mk.map((e=>(0,dm.jsx)("option",{value:e,children:e},e)))})]}),(0,dm.jsxs)("div",{children:[(0,dm.jsx)("label",{className:"block mb-1 text-sm text-[var(--text-muted)]",children:"Disponibilidade"}),(0,dm.jsx)("select",{className:"input-neon w-full",value:S,onChange:e=>_(e.target.value),required:!0,children:jk.map((e=>(0,dm.jsx)("option",{value:e,children:e},e)))})]})]})]}),(0,dm.jsx)("button",{type:"submit",disabled:A,className:"btn-neon",children:A?"Salvando...":"Salvar"})]}),(0,dm.jsxs)("div",{className:"space-y-3",children:[(0,dm.jsx)("h3",{className:"text-sm font-semibold text-pink-300",children:"Hist\xf3rico de movimenta\xe7\xf5es"}),(0,dm.jsx)("div",{className:"bg-[var(--bg-card)] rounded-lg p-4 max-h-72 overflow-y-auto border border-[var(--line)]",children:0===L.length?(0,dm.jsx)("div",{className:"text-[var(--text-muted)]",children:"Nenhuma movimenta\xe7\xe3o encontrada."}):(0,dm.jsx)("div",{className:"space-y-3",children:L.map(((e,t)=>{const n="Entrada"===e.tipo;return(0,dm.jsxs)("div",{className:"flex items-start gap-3 border border-[var(--line)] rounded-xl px-3 py-2 bg-[var(--bg-soft)]",children:[(0,dm.jsx)("div",{className:"mt-1 w-2 h-2 rounded-full "+(n?"bg-emerald-400":"bg-rose-400")}),(0,dm.jsxs)("div",{className:"flex-1 text-xs text-[var(--text)] space-y-1",children:[(0,dm.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,dm.jsx)("span",{className:"font-semibold text-sm",children:Uk(e.registradoEm||e.criadoEm,!0)}),(0,dm.jsx)("span",{className:"px-2 py-0.5 rounded text-[10px] font-semibold "+(n?"bg-emerald-500/15 text-emerald-300":"bg-rose-500/15 text-rose-300"),children:e.tipo||"Movimenta\xe7\xe3o"}),(0,dm.jsx)("span",{className:"px-2 py-0.5 rounded text-[10px] font-semibold "+("Finalizado"===e.status?"bg-emerald-500/15 text-emerald-300":"bg-amber-500/15 text-amber-300"),children:e.status||"Pendente"}),(0,dm.jsx)("span",{className:"px-2 py-0.5 rounded text-[10px] font-semibold "+((e.disponibilidade||"").toLowerCase().includes("dispon")?"bg-emerald-500/15 text-emerald-300":"bg-rose-500/15 text-rose-300"),children:e.disponibilidade||"\u2014"})]}),(0,dm.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-[var(--text)]/90",children:[(0,dm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dm.jsx)("span",{className:"text-[var(--text-muted)]",children:"Modelo:"}),(0,dm.jsx)("span",{children:e.modelo||"\u2014"})]}),(0,dm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dm.jsx)("span",{className:"text-[var(--text-muted)]",children:"Local:"}),(0,dm.jsx)("span",{children:e.local||"\u2014"})]}),(0,dm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dm.jsx)("span",{className:"text-[var(--text-muted)]",children:"Respons\xe1vel:"}),(0,dm.jsx)("span",{children:e.responsavel||"\u2014"})]}),e.usuario&&(0,dm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dm.jsx)("span",{className:"text-[var(--text-muted)]",children:"Registrado por:"}),(0,dm.jsx)("span",{children:e.usuario})]})]}),e.obs&&(0,dm.jsxs)("div",{className:"text-[var(--text-muted)]",children:["Obs: ",e.obs]})]})]},(e._originId||e.numeroSerie||t)+t)}))})})]})]}),(0,dm.jsx)("div",{className:"px-6 py-3 border-t border-[var(--line)] bg-[var(--bg-card)] flex items-center justify-end",children:(0,dm.jsx)("button",{onClick:n,className:"px-4 py-2 rounded-lg border border-[var(--line)] text-[var(--text)] hover:bg-white/5 transition",children:"Fechar"})})]})})}):null}const Bk=bm("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),zk=bm("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),$k=bm("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Hk=bm("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),Wk=bm("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),qk=bm("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Gk=(0,r.createContext)();function Kk(e){let{children:t}=e;const[n,a]=(0,r.useState)(null),[s,i]=(0,r.useState)(!0),o=te();return(0,r.useEffect)((()=>{const e=function(e,t,n,r){return(0,ut.Ku)(e).onAuthStateChanged(t,n,r)}(um,(e=>{a(e),i(!1),e||"/login"===window.location.pathname||o("/login")}));return()=>e()}),[o]),(0,dm.jsx)(Gk.Provider,{value:{usuario:n},children:!s&&t})}function Xk(){return(0,r.useContext)(Gk)}const Yk=(0,r.createContext)({collapsed:!1,toggle:()=>{},setCollapsed:()=>{},theme:"dark",setTheme:()=>{}});function Qk(){return(0,r.useContext)(Yk)}const Jk={"Rio de Janeiro":"rio-de-janeiro","S\xe3o Paulo":"sao-paulo","Jo\xe3o Pessoa":"joao-pessoa",Outros:"outros"},Zk={"/rio":"Rio de Janeiro","/sp":"S\xe3o Paulo","/jp":"Jo\xe3o Pessoa","/ou":"Outros"},eS=[{nome:"S\xe3o Paulo",path:"/sp",colecao:"sao-paulo"},{nome:"Rio de Janeiro",path:"/rio",colecao:"rio-de-janeiro"},{nome:"Jo\xe3o Pessoa",path:"/jp",colecao:"joao-pessoa"},{nome:"Outros",path:"/ou",colecao:"outros"}];function tS(e){var t;let{office:n,collectionName:a}=e;const{office:s,collectionName:i}=function(e,t){const n=J(),r=new URLSearchParams(n.search);let a=e||null,s=t||null;if(!a){const e=r.get("office");e&&Jk[e]&&(a=e)}if(!a){const e="/"+n.pathname.split("/")[1];Zk[e]&&(a=Zk[e])}return!s&&a&&Jk[a]&&(s=Jk[a]),{office:a,collectionName:s}}(n,a),[o,l]=(0,r.useState)([]),[c,u]=(0,r.useState)(""),[h,d]=(0,r.useState)(!1),[f,p]=(0,r.useState)(null),[m,g]=(0,r.useState)(!1),[v,y]=(0,r.useState)(null),[b,x]=(0,r.useState)(null),[w,E]=(0,r.useState)(null),{usuario:T}=Xk(),k=Qk(),S=null!==(t=null===k||void 0===k?void 0:k.collapsed)&&void 0!==t&&t?"max-w-[calc(100vw-8rem)]":"max-w-[calc(100vw-22rem)]",[_,C]=(0,r.useState)((()=>Object.fromEntries(eS.map((e=>[e.nome,{total:0,disponiveis:0}])))));(0,r.useEffect)((()=>{if(i)return;const e=eS.map((e=>{let{nome:t,colecao:n}=e;return Op(kf(hm,n),(e=>{const n=e.size,r=e.docs.reduce(((e,t)=>{var n;return e+("disponivel"===String((null===(n=t.data())||void 0===n?void 0:n.status)||"").toLowerCase()?1:0)}),0);C((e=>({...e,[t]:{total:n,disponiveis:r}})))}))}));return()=>e.forEach((e=>e&&e()))}),[i]),(0,r.useEffect)((()=>{if(!i)return;const e=Op(hp(kf(hm,i),gp("createdAt","desc")),(e=>{l(e.docs.map((e=>({id:e.id,...e.data()}))))}));return()=>e()}),[i]);const N=(0,r.useMemo)((()=>{const e=c.trim().toLowerCase();return e?o.filter((t=>`${t.serial} ${t.modelo} ${t.email}`.toLowerCase().includes(e))):o}),[o,c]);return i?(0,dm.jsxs)("div",{className:`mx-auto w-full px-4 transition-all duration-200 ${S}`,children:[(0,dm.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-6",children:[(0,dm.jsxs)("h2",{className:"text-2xl font-semibold text-[var(--text)]",children:[(0,dm.jsx)("span",{className:"text-[var(--accent)]",children:s})," ",(0,dm.jsx)("span",{className:"text-[var(--text-muted)]",children:"- Notebooks"})]}),(0,dm.jsxs)("div",{className:"flex items-center flex-wrap gap-3",children:[(0,dm.jsxs)("span",{className:"text-sm text-pink-300/90",children:[N.length," encontrado",1!==N.length?"s":""]}),(0,dm.jsx)("input",{value:c,onChange:e=>u(e.target.value),placeholder:"Buscar\u2026",className:"px-3 py-1.5 rounded-lg bg-[var(--bg-card)] border border-[var(--line)] text-[var(--text)] placeholder:text-[var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--accent)]"}),(0,dm.jsxs)("button",{onClick:()=>{const e=["Serial","Modelo","Status","E-mail","Observa\xe7\xe3o","Criado em"].join(","),t=N.map((e=>{var t,n,r,a;return[e.serial,e.modelo,e.status||"",e.email||"",e.observacao||"",(null===(t=e.createdAt)||void 0===t||null===(n=t.toDate)||void 0===n||null===(r=n.call(t))||void 0===r||null===(a=r.toLocaleDateString)||void 0===a?void 0:a.call(r,"pt-BR"))||""].map((e=>`"${String(null!==e&&void 0!==e?e:"")}"`)).join(",")})),n=[e,...t].join("\n"),r=URL.createObjectURL(new Blob([n],{type:"text/csv;charset=utf-8;"})),a=document.createElement("a");a.href=r,a.download=`inventory_${(s||"geral").toLowerCase().replace(/\s+/g,"-")}_${(new Date).toISOString().split("T")[0]}.csv`,a.click(),URL.revokeObjectURL(r)},className:"text-sm text-emerald-300/90 border border-emerald-400/40 px-3 py-1.5 rounded-lg hover:bg-emerald-400/10 transition inline-flex items-center gap-1",children:[(0,dm.jsx)(zk,{className:"w-4 h-4"}),"Exportar"]}),(0,dm.jsxs)("button",{onClick:()=>g(!0),className:"inline-flex items-center gap-1 text-sm px-3 py-1.5 rounded-lg bg-[var(--accent)]/10 text-[var(--accent)] border border-[var(--accent)]/50 hover:bg-[var(--accent)]/20 transition",children:[(0,dm.jsx)($k,{className:"w-4 h-4"}),"Cadastro"]})]})]}),(0,dm.jsx)("div",{className:"overflow-hidden rounded-xl border border-[var(--line)] bg-[var(--bg-card)]",children:(0,dm.jsxs)("table",{className:"min-w-full text-sm",children:[(0,dm.jsx)("thead",{className:"bg-[var(--accent-weak)]/40 text-[var(--text)]",children:(0,dm.jsxs)("tr",{className:"text-left",children:[(0,dm.jsx)("th",{className:"p-3",children:"N\xba de S\xe9rie"}),(0,dm.jsx)("th",{className:"p-3",children:"Modelo"}),(0,dm.jsx)("th",{className:"p-3",children:"Status"}),(0,dm.jsx)("th",{className:"p-3",children:"E-mail"}),(0,dm.jsx)("th",{className:"p-3",children:"Observa\xe7\xe3o"}),(0,dm.jsx)("th",{className:"p-3",children:"Criado em"}),(0,dm.jsx)("th",{className:"p-3 text-center",children:"A\xe7\xf5es"})]})}),(0,dm.jsx)("tbody",{children:0===N.length?(0,dm.jsx)("tr",{children:(0,dm.jsx)("td",{colSpan:7,className:"p-4 text-center text-[var(--text-muted)]",children:"Nenhum notebook encontrado."})}):N.map((e=>{var t,n,r,a;return(0,dm.jsxs)("tr",{onClick:()=>{p(e),d(!0)},className:"border-t border-[var(--line)] hover:bg-[var(--rowHover)] transition cursor-pointer",children:[(0,dm.jsx)("td",{className:"p-3",children:e.serial}),(0,dm.jsx)("td",{className:"p-3",children:e.modelo}),(0,dm.jsx)("td",{className:"p-3",children:(0,dm.jsxs)("span",{className:"inline-flex items-center gap-2",children:[(0,dm.jsx)("span",{className:"w-2 h-2 rounded-full "+("disponivel"===String(e.status||"").toLowerCase()?"bg-emerald-400":"bg-rose-400")}),"disponivel"===String(e.status||"").toLowerCase()?"Dispon\xedvel":"Indispon\xedvel"]})}),(0,dm.jsx)("td",{className:"p-3",children:e.email||"\u2014"}),(0,dm.jsx)("td",{className:"p-3",children:e.observacao||"\u2014"}),(0,dm.jsx)("td",{className:"p-3",children:(null===(t=e.createdAt)||void 0===t||null===(n=t.toDate)||void 0===n||null===(r=n.call(t))||void 0===r||null===(a=r.toLocaleDateString)||void 0===a?void 0:a.call(r,"pt-BR"))||"\u2014"}),(0,dm.jsx)("td",{className:"p-3 text-center",onClick:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),children:(0,dm.jsxs)("button",{onClick:()=>y(e),className:"inline-flex items-center gap-1 px-2 py-1 rounded-lg border border-[var(--line)] text-[var(--text)] hover:bg-white/5 transition",children:[(0,dm.jsx)(Hk,{className:"w-4 h-4 text-[var(--accent)]"}),"Editar"]})})]},e.id||e.serial)}))})]})}),h&&f&&(0,dm.jsx)(Am,{open:h,onClose:()=>{d(!1),p(null)},notebook:f,onEdit:e=>{y(e),d(!1)}}),(0,dm.jsx)(Vk,{open:m,onClose:()=>g(!1),office:s,usuario:T,numeroSerie:"",editMovement:null,variant:"inventory"}),v&&(0,dm.jsx)(Dg,{open:Boolean(v),notebook:v,onClose:()=>y(null),collectionName:i,onDelete:e=>{y(null),x(e)},deleting:Boolean(w)}),b&&(0,dm.jsx)("div",{className:"fixed inset-0 z-[140] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4",children:(0,dm.jsxs)("div",{className:"w-full max-w-md rounded-2xl border border-[var(--line)] bg-[var(--bg-card)] shadow-xl",children:[(0,dm.jsxs)("div",{className:"px-5 py-4 border-b border-[var(--line)] flex items-center gap-3",children:[(0,dm.jsx)("div",{className:"p-2 rounded-full bg-rose-500/15 text-rose-300",children:(0,dm.jsx)(Wk,{className:"w-5 h-5"})}),(0,dm.jsxs)("div",{children:[(0,dm.jsx)("h3",{className:"text-lg font-semibold text-[var(--text)]",children:"Confirmar exclus\xe3o"}),(0,dm.jsxs)("p",{className:"text-xs text-[var(--text-muted)]",children:["Esta a\xe7\xe3o remove o notebook do estoque de ",s,"."]})]})]}),(0,dm.jsxs)("div",{className:"px-5 py-4 space-y-3 text-sm",children:[(0,dm.jsxs)("p",{className:"text-[var(--text)]",children:["Deseja remover"," ",(0,dm.jsx)("span",{className:"font-semibold",children:b.modelo||"Notebook"})," ",b.serial&&(0,dm.jsxs)(dm.Fragment,{children:["(serial"," ",(0,dm.jsx)("span",{className:"font-mono text-[var(--accent)]",children:b.serial}),")"]})," ","do estoque?"]}),(0,dm.jsx)("p",{className:"text-xs text-[var(--text-muted)]",children:"O hist\xf3rico de movimenta\xe7\xf5es permanece dispon\xedvel."})]}),(0,dm.jsxs)("div",{className:"px-5 py-4 border-t border-[var(--line)] flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,dm.jsx)("button",{onClick:async()=>{if(null!==b&&void 0!==b&&b.id&&!w){E(b.id);try{await Rp(Sf(hm,i,b.id)),Rg({type:"success",message:"Notebook removido do estoque."}),p((e=>(null===e||void 0===e?void 0:e.id)===b.id?null:e)),d(!1)}catch(e){console.error(e),Rg({type:"error",message:"N\xe3o foi poss\xedvel remover notebook.",description:null===e||void 0===e?void 0:e.message})}finally{E(null),x(null)}}},className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-rose-500/40 text-white bg-rose-600 hover:bg-rose-500/80 transition disabled:opacity-40 disabled:cursor-not-allowed",disabled:Boolean(w),children:w?(0,dm.jsxs)(dm.Fragment,{children:[(0,dm.jsx)(qk,{className:"w-4 h-4 animate-spin"}),"Excluindo..."]}):"Excluir"}),(0,dm.jsx)("div",{className:"flex items-center justify-end gap-3",children:(0,dm.jsx)("button",{onClick:()=>{w||x(null)},className:"px-4 py-2 rounded-lg border border-[var(--line)] text-[var(--text)] hover:bg-white/5 transition disabled:opacity-40 disabled:cursor-not-allowed",disabled:Boolean(w),children:"Cancelar"})})]})]})})]}):(0,dm.jsxs)("div",{className:"mx-auto w-full p-6 transition-all duration-200 max-w-6xl",children:[(0,dm.jsxs)("div",{className:"flex items-center justify-center gap-2 text-[var(--text)] text-3xl font-bold mb-8",children:[(0,dm.jsx)("span",{className:"text-[var(--accent)] drop-shadow",children:"Notebook Stock"}),(0,dm.jsx)(Bk,{className:"w-8 h-8 text-pink-400"})]}),(0,dm.jsx)("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:eS.map(((e,t)=>{const{total:n,disponiveis:r}=_[e.nome]||{total:0,disponiveis:0};return(0,dm.jsxs)(Ok.div,{initial:{opacity:0,y:14},animate:{opacity:1,y:0},transition:{delay:.08*t},whileHover:{scale:1.02},className:"group relative rounded-2xl border border-[var(--line)] bg-[var(--bg-card)] hover:border-[var(--accent)] transition-all duration-200 shadow-xl",children:[(0,dm.jsx)("span",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 transition shadow-[0_0_24px_0_rgba(225,29,116,0.25),0_0_60px_0_rgba(225,29,116,0.18)]"}),(0,dm.jsxs)(tt,{to:e.path,className:"relative flex items-center gap-4 p-6",children:[(0,dm.jsx)("div",{className:"bg-pink-100/10 ring-1 ring-pink-500/30 text-pink-300 p-3 rounded-full group-hover:ring-pink-500/60 transition",children:(0,dm.jsx)(Bk,{className:"w-6 h-6"})}),(0,dm.jsxs)("div",{className:"min-w-0",children:[(0,dm.jsx)("h3",{className:"text-xl font-semibold text-[var(--text)]",children:e.nome}),(0,dm.jsxs)("p",{className:"text-sm text-[var(--text-muted)]",children:[n," Registered Notebook",1!==n?"s":""]}),(0,dm.jsxs)("p",{className:"text-sm text-[var(--text-muted)]",children:[r," Available"]})]}),(0,dm.jsx)("div",{className:"ml-auto w-2 h-2 rounded-full bg-pink-400/70 group-hover:bg-pink-400"})]})]},e.nome)}))})]})}function nS(){return(0,dm.jsx)(tS,{office:"S\xe3o Paulo",collectionName:"sao-paulo"})}function rS(){return(0,dm.jsx)(tS,{office:"Rio de Janeiro",collectionName:"rio-de-janeiro"})}function aS(){return(0,dm.jsx)(tS,{office:"Jo\xe3o Pessoa",collectionName:"joao-pessoa"})}function sS(){return(0,dm.jsx)(tS,{office:"Outros",collectionName:"outros"})}const iS=bm("laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]),oS=bm("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),lS=bm("log-out",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);function cS(){const e=te(),{usuario:t}=Xk(),[n,a]=(0,r.useState)(!1);return(0,dm.jsx)("header",{className:"h-14 w-full border-b border-[var(--line)] bg-[var(--bg-soft)] text-[var(--text)]",children:(0,dm.jsxs)("div",{className:"h-full max-w-7xl mx-auto px-4 flex items-center justify-between",children:[(0,dm.jsxs)(tt,{to:"/",className:"flex items-center gap-2 font-semibold tracking-wide hover:opacity-90",children:[(0,dm.jsx)(iS,{className:"w-5 h-5 text-[var(--accent)]"}),(0,dm.jsx)("span",{children:"IT Operations"})]}),t?(0,dm.jsxs)("div",{className:"flex items-center gap-3",children:[(0,dm.jsxs)("div",{className:"flex items-center gap-2 text-sm bg-[var(--bg-card)] border border-[var(--line)] px-3 py-1.5 rounded-full",children:[!n&&t.photoURL?(0,dm.jsx)("img",{src:t.photoURL,alt:"Foto de perfil",onError:()=>a(!0),className:"w-6 h-6 rounded-full object-cover",loading:"lazy"}):(0,dm.jsx)(oS,{className:"w-4 h-4 text-[var(--accent)]"}),(0,dm.jsx)("span",{className:"text-[var(--text)]",children:t.email})]}),(0,dm.jsxs)("button",{onClick:async()=>{try{await function(e){return(0,ut.Ku)(e).signOut()}(um),e("/login")}catch(t){console.error("Erro ao sair:",t)}},className:"inline-flex items-center gap-2 text-sm px-2.5 py-1.5 rounded-lg border border-[var(--accent)] text-[var(--accent)] hover:bg-[var(--accent)]/10 transition",children:[(0,dm.jsx)(lS,{className:"w-4 h-4"}),"Sair"]})]}):(0,dm.jsx)("span",{className:"text-[var(--text-muted)] text-sm",children:"N\xe3o autenticado"})]})})}const uS=bm("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),hS=bm("boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]),dS=bm("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),fS=bm("list-checks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),pS=bm("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),mS=bm("key-round",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]),gS=bm("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);function vS(e){let{collapsed:t=!1}=e;const[n,a]=(0,r.useState)([]);(0,r.useEffect)((()=>{const e=Op(Sf(hm,"appSettings","global"),(e=>{const t=e.data(),n=Array.isArray(null===t||void 0===t?void 0:t.offices)?t.offices.map((e=>{const t=((null===e||void 0===e?void 0:e.nome)||(null===e||void 0===e?void 0:e.label)||"").trim();if(!t)return null;const n=(null===e||void 0===e?void 0:e.slug)||t.toLowerCase().normalize("NFD").replace(/\p{Diacritic}/gu,"").replace(/\s+/g,"-");return{nome:t,slug:n}})).filter(Boolean):[];a(n)}),(()=>{a([])}));return()=>e()}),[]);const s=[{to:"/",label:"In\xedcio",icon:uS},{to:"/inventory",label:"Notebook Stock",icon:iS},{to:"/peripherals",label:"Peripherals",icon:hS},{to:"/onboarding",label:"Onboarding",icon:dS},{to:"/docs",label:"Documentation",icon:dS},{to:"/weekly-tasks",label:"Weekly Tasks",icon:fS},{to:"/equipment-movement",label:"Equipment Movement",icon:pS}],i=[{to:"/licenses",label:"Licen\xe7as",icon:mS},{to:"/downloads",label:"Downloads",icon:zk},{to:"/settings",label:"Configura\xe7\xf5es",icon:gS}],o=e=>{let{to:n,label:r,Icon:a}=e;return(0,dm.jsxs)(nt,{to:n,title:t?r:void 0,end:!0,className:e=>{let{isActive:n}=e;return["group flex items-center gap-3 mx-2 rounded-xl border transition-colors","border-transparent text-[var(--text)] hover:bg-white/[.04]",t?"justify-center px-0 py-2":"px-3 py-2",n?"bg-[var(--accent-weak)]/40 border-[var(--accent-weak)] text-white":""].join(" ")},children:[(0,dm.jsx)(a,{className:"w-5 h-5 text-pink-400 shrink-0"}),!t&&(0,dm.jsx)("span",{className:"text-[15px] font-medium truncate",children:r})]})};return(0,dm.jsxs)("nav",{className:"py-4",children:[(0,dm.jsx)("div",{className:["px-4 pb-2 text-xs tracking-wide text-[var(--text-muted)] select-none transition-opacity",t?"opacity-0 h-0 overflow-hidden":"opacity-100"].join(" "),children:"PRINCIPAL"}),(0,dm.jsx)("ul",{className:"space-y-1 mb-3",children:s.map((e=>(0,dm.jsx)("li",{children:(0,dm.jsx)(o,{to:e.to,label:e.label,Icon:e.icon})},e.to)))}),n.length>0&&(0,dm.jsxs)(dm.Fragment,{children:[(0,dm.jsx)("div",{className:["px-4 pb-2 text-xs tracking-wide text-[var(--text-muted)] select-none transition-opacity",t?"opacity-0 h-0 overflow-hidden":"opacity-100"].join(" "),children:"OFFICES"}),(0,dm.jsx)("ul",{className:"space-y-1 mb-3",children:n.map((e=>(0,dm.jsx)("li",{children:(0,dm.jsx)(o,{to:"sao-paulo"===e.slug?"/sp":"rio-de-janeiro"===e.slug?"/rio":"joao-pessoa"===e.slug?"/jp":"outros"===e.slug?"/ou":`/inventory?office=${encodeURIComponent(e.nome)}`,label:e.nome,Icon:Bk})},e.slug)))})]}),(0,dm.jsx)("div",{className:["px-4 pb-2 text-xs tracking-wide text-[var(--text-muted)] select-none transition-opacity",t?"opacity-0 h-0 overflow-hidden":"opacity-100"].join(" "),children:"OUTROS"}),(0,dm.jsx)("ul",{className:"space-y-1",children:i.map((e=>(0,dm.jsx)("li",{children:(0,dm.jsx)(o,{to:e.to,label:e.label,Icon:e.icon})},e.to)))})]})}const yS=[{to:"/inventory",title:"Notebook Stock",subtitle:"Manage the notebooks",Icon:iS},{to:"/peripherals",title:"Peripherals",subtitle:"Manage peripherals",Icon:hS},{to:"/onboarding",title:"Onboarding Nacional",subtitle:"National Shipping",Icon:dS},{to:"/weekly-tasks",title:"Weekly Tasks",subtitle:"Weekly team tasks",Icon:fS},{to:"/equipment-movement",title:"Equipment Movement",subtitle:"Manage movements",Icon:pS}];function bS(){return(0,dm.jsxs)("div",{className:"mx-auto max-w-6xl p-6",children:[(0,dm.jsx)("div",{className:"flex items-center justify-center gap-2 mb-8",children:(0,dm.jsx)("h1",{className:"text-3xl font-semibold text-[var(--text)] drop-shadow",children:"Menu Principal"})}),(0,dm.jsx)("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:yS.map(((e,t)=>{let{to:n,title:r,subtitle:a,Icon:s}=e;return(0,dm.jsxs)(Ok.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.08*t},whileHover:{y:-4,scale:1.02},className:"group relative rounded-2xl border border-[var(--line)] bg-[var(--bg-card)] hover:border-[var(--accent)]/60 transition duration-200 shadow-lg",children:[(0,dm.jsx)("span",{className:"pointer-events-none absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 transition shadow-[0_0_24px_0_rgba(225,29,116,0.25),0_0_60px_0_rgba(225,29,116,0.15)]"}),(0,dm.jsxs)(tt,{to:n,className:"relative flex items-center gap-4 p-6",children:[(0,dm.jsx)("div",{className:"bg-[var(--accent)]/15 text-[var(--accent)] p-3 rounded-full border border-[var(--accent)]/30 group-hover:border-[var(--accent)]/60 transition",children:(0,dm.jsx)(s,{className:"w-6 h-6"})}),(0,dm.jsxs)("div",{className:"min-w-0",children:[(0,dm.jsx)("h2",{className:"text-lg font-semibold text-[var(--text)]",children:r}),(0,dm.jsx)("p",{className:"text-sm text-[var(--text-muted)]",children:a})]})]})]},n)}))}),(0,dm.jsx)("div",{className:"mt-10",children:(0,dm.jsxs)(Ok.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-2xl border border-[var(--line)] bg-[var(--bg-card)] shadow-lg p-5 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,dm.jsxs)("div",{className:"flex items-center gap-3 text-sm text-[var(--text-muted)]",children:[(0,dm.jsx)(gS,{className:"w-5 h-5 text-[var(--accent)]"}),(0,dm.jsxs)("span",{children:["Personalize escrit\xf3rios, acessos e apar\xeancia em"," ",(0,dm.jsx)("span",{className:"text-[var(--accent)] font-semibold",children:"Configura\xe7\xf5es"}),"."]})]}),(0,dm.jsx)(tt,{to:"/settings",className:"inline-flex items-center gap-2 rounded-xl border border-[var(--accent)]/60 px-4 py-2 text-sm font-medium bg-[var(--accent)]/10 text-[var(--accent)] hover:bg-[var(--accent)]/20 transition",children:"Abrir Configura\xe7\xf5es"})]})})]})}const xS=bm("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),wS=bm("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ES=bm("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);function TS(e){let{estrutura:t={},onSelect:n,diaSelecionado:a}=e;const[s,i]=(0,r.useState)({}),[o,l]=(0,r.useState)({}),c={janeiro:1,fevereiro:2,marco:3,abril:4,maio:5,junho:6,julho:7,agosto:8,setembro:9,outubro:10,novembro:11,dezembro:12},u=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase();return(0,dm.jsxs)("aside",{className:"w-48 sm:w-56 border-r border-gray-200 p-3 bg-white shadow rounded-lg text-sm",children:[(0,dm.jsxs)("h3",{className:"text-base font-semibold text-pink-700 mb-4 flex items-center gap-2",children:[(0,dm.jsx)(xS,{className:"w-5 h-5"})," Onboardings"]}),(0,dm.jsx)("div",{className:"space-y-2",children:Object.entries(t).sort(((e,t)=>t[0]-e[0])).map((e=>{let[t,r]=e;return(0,dm.jsxs)("div",{children:[(0,dm.jsxs)("button",{onClick:()=>(e=>{i((t=>({...t,[e]:!t[e]})))})(t),className:"flex items-center w-full text-left font-medium text-gray-700 hover:text-pink-700",children:[s[t]?(0,dm.jsx)(wS,{className:"w-4 h-4 mr-2"}):(0,dm.jsx)(ES,{className:"w-4 h-4 mr-2"}),t]}),s[t]&&(0,dm.jsx)("div",{className:"ml-4 mt-1 space-y-1",children:Object.entries(r).sort(((e,t)=>(c[u(e[0])]||0)-(c[u(t[0])]||0))).map((e=>{let[r,s]=e;return(0,dm.jsxs)("div",{children:[(0,dm.jsxs)("button",{onClick:()=>((e,t)=>{const n=`${e}-${t}`;l((e=>({...e,[n]:!e[n]})))})(t,r),className:"flex items-center text-left w-full text-gray-600 hover:text-pink-600",children:[o[`${t}-${r}`]?(0,dm.jsx)(wS,{className:"w-4 h-4 mr-1"}):(0,dm.jsx)(ES,{className:"w-4 h-4 mr-1"}),r]}),o[`${t}-${r}`]&&(0,dm.jsx)("ul",{className:"ml-4 mt-1 space-y-1",children:[...s].sort(((e,t)=>{const[n,r,a]=e.split("."),[s,i,o]=t.split(".");return new Date(`${a}-${r}-${n}`)-new Date(`${o}-${i}-${s}`)})).map((e=>{const[s,i,o]=e.split("."),l=`${s}/${i}/${2===o.length?"20"+o:o}`;return(0,dm.jsx)("li",{children:(0,dm.jsx)("button",{onClick:()=>n(t,r,e),className:`text-xs ${a===e?"text-pink-600 font-semibold":"text-gray-500"} hover:text-pink-500`,children:l})},e)}))})]},r)}))})]},t)}))})]})}const kS=bm("calendar-clock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]),SS=bm("paperclip",[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]]),_S=bm("users-round",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);function CS(e){var t;let{onboarding:n,onClose:a}=e;const[s,i]=(0,r.useState)(""),[o,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(n.cidade||""),[h,d]=(0,r.useState)((null===(t=n.cep)||void 0===t?void 0:t.replace("-",""))||""),[f]=(0,r.useState)(2),[p]=(0,r.useState)(10),[m]=(0,r.useState)(33),[g]=(0,r.useState)(34),[v,y]=(0,r.useState)(null),[b,x]=(0,r.useState)(null),[w,E]=(0,r.useState)(!1);return(0,dm.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,dm.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg p-6",children:[(0,dm.jsx)("h2",{className:"text-2xl font-bold text-pink-700 mb-6",children:"Cota\xe7\xe3o R\xe1pida DHL"}),(0,dm.jsxs)("div",{className:"space-y-4 text-gray-700 text-sm",children:[(0,dm.jsxs)("div",{children:[(0,dm.jsx)("label",{children:"Destinat\xe1rio:"}),(0,dm.jsx)("p",{className:"font-medium",children:n.nome||"\u2014"})]}),(0,dm.jsxs)("div",{children:[(0,dm.jsx)("label",{children:"Valor declarado (BRL):"}),(0,dm.jsx)("input",{type:"number",value:s,onChange:e=>i(e.target.value),placeholder:"Ex: 1500",className:"w-full border rounded px-3 py-2 mt-1"})]}),(0,dm.jsxs)("div",{children:[(0,dm.jsx)("label",{children:"Data de envio:"}),(0,dm.jsx)("input",{type:"date",value:o,onChange:e=>l(e.target.value),className:"w-full border rounded px-3 py-2 mt-1"})]}),(0,dm.jsxs)("div",{children:[(0,dm.jsx)("label",{children:"Cidade destino:"}),(0,dm.jsx)("input",{type:"text",value:c,onChange:e=>u(e.target.value),className:"w-full border rounded px-3 py-2 mt-1"})]}),(0,dm.jsxs)("div",{children:[(0,dm.jsx)("label",{children:"CEP destino:"}),(0,dm.jsx)("input",{type:"text",value:h,onChange:e=>d(e.target.value.replace("-","")),className:"w-full border rounded px-3 py-2 mt-1"})]}),(0,dm.jsxs)("div",{className:"text-xs text-gray-500 mt-4",children:["Peso: ",f," kg | Altura: ",p," cm | Largura: ",m," cm | Comprimento: ",g," cm"]})]}),(0,dm.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:[(0,dm.jsx)("button",{onClick:a,className:"px-4 py-2 border rounded hover:bg-gray-100",children:"Cancelar"}),(0,dm.jsx)("button",{type:"button",onClick:async()=>{if(s&&o&&c&&h){E(!0);try{const e={origem:{cidade:"Rio de Janeiro",cep:"22251040"},destino:{cidade:c,cep:h},peso:f,altura:p,largura:m,comprimento:g,valorDeclarado:s,dataEnvio:o},t=await fetch("http://localhost:3001/api/cotacao-dhl",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json();if(!(t.ok&&n.preco&&n.entrega))throw new Error(n.erro||"N\xe3o foi poss\xedvel extrair pre\xe7o ou prazo da DHL.");y(parseFloat(n.preco).toFixed(2)),x(n.entrega)}catch(e){console.error("Erro ao cotar DHL:",e),alert("Erro ao calcular cota\xe7\xe3o. Tente novamente mais tarde.")}finally{E(!1)}}else alert("Preencha todos os campos obrigat\xf3rios.")},disabled:w,className:"px-4 py-2 rounded-lg text-white flex items-center justify-center gap-2 transition "+(w?"bg-gray-400 cursor-not-allowed":"bg-pink-600 hover:bg-pink-700"),children:w?(0,dm.jsxs)(dm.Fragment,{children:[(0,dm.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,dm.jsx)("span",{children:"Calculando..."})]}):"Cotar Envio"})]}),v&&b&&(0,dm.jsxs)("div",{className:"mt-6 p-4 border rounded-lg bg-gray-50 text-sm text-center",children:[(0,dm.jsx)("h3",{className:"text-xl font-semibold text-pink-700 mb-2",children:"Entrega Estimada"}),(0,dm.jsx)("p",{className:"text-lg font-bold",children:new Date(b).toLocaleDateString()}),(0,dm.jsxs)("p",{className:"text-sm text-gray-700 mt-2",children:["Valor do Frete: R$ ",v]}),(0,dm.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Os valores podem sofrer altera\xe7\xf5es."})]})]})})}function NS(e){let{onboarding:t,onClose:n,onAtualizar:a,modoEdicaoInicial:s=!1}=e;const[i,o]=(0,r.useState)(s),[l,c]=(0,r.useState)({...t}),[u,h]=(0,r.useState)(!1),[d,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(""),[g,v]=(0,r.useState)(!1),y=!l.id;(0,r.useEffect)((()=>{c({...t}),o(s)}),[t,s]);const b=e=>{c({...l,[e.target.name]:e.target.value})};return(0,dm.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,dm.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl p-6 relative",children:[(0,dm.jsx)("button",{onClick:n,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:"\u2715"}),(0,dm.jsx)("h3",{className:"text-2xl font-bold text-pink-700 mb-6",children:l.nome||"Detalhes do Onboarding"}),(0,dm.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm text-gray-700",children:[["Nome","nome"],["CPF","cpf"],["CNPJ","cnpj"],["Cargo","cargo"],["Gestor","gestor"],["Email","email"],["Telefone","telefone"],["Rua","rua"],["N\xfamero","numero"],["Complemento","complemento"],["Bairro","bairro"],["Cidade","cidade"],["Estado","estado"],["CEP","cep"],["Equipamento","equipamento"],["Status","status"],["Serial","serial"],["Data","data"]].map((e=>{let[t,n]=e;return(0,dm.jsxs)("div",{children:[(0,dm.jsx)("p",{className:"text-xs text-gray-500",children:t}),i?(0,dm.jsx)("input",{name:n,value:l[n]||"",onChange:b,className:"w-full p-1 border rounded text-sm"}):(0,dm.jsx)("p",{className:"font-medium break-words whitespace-pre-wrap",children:l[n]||"\u2014"})]},n)}))}),(0,dm.jsxs)("div",{className:"flex justify-between items-center border-t pt-6 mt-6",children:[(0,dm.jsxs)("div",{className:"flex gap-3",children:[i?(0,dm.jsx)("button",{onClick:async()=>{var e,t;if(null!==(e=l.nome)&&void 0!==e&&e.trim()&&null!==(t=l.data)&&void 0!==t&&t.trim())try{if(y){const e=await Pp(kf(hm,"onboardings"),{...l,createdAt:new Date});a({...l,id:e.id})}else{const e=Sf(hm,"onboardings",l.id);await Ip(e,l),a(l)}o(!1),n()}catch(r){console.error("Erro ao salvar onboarding:",r)}else alert("Os campos 'Nome' e 'Data' s\xe3o obrigat\xf3rios.")},title:"Salvar altera\xe7\xf5es",className:"px-4 py-2 text-sm text-pink-600 border border-pink-600 rounded-lg hover:text-pink-700 hover:border-pink-700 transition",children:"Salvar"}):(0,dm.jsx)("button",{onClick:()=>o(!0),title:"Editar",className:"text-gray-500 hover:text-pink-600",children:(0,dm.jsx)(Hk,{className:"w-5 h-5"})}),(0,dm.jsx)("button",{onClick:()=>f(!0),title:"Cota\xe7\xe3o R\xe1pida DHL",className:"px-4 py-2 text-sm text-pink-600 border border-pink-600 rounded-lg hover:text-pink-700 hover:border-pink-700 transition",children:"Cota\xe7\xe3o R\xe1pida"}),(0,dm.jsx)("button",{onClick:async()=>{if(window.confirm("Tem certeza que deseja excluir este onboarding?"))try{const e=Sf(hm,"onboardings",l.id);await Rp(e),a({id:l.id,deletado:!0}),n()}catch(e){console.error("Erro ao excluir onboarding:",e),alert("Erro ao excluir o onboarding.")}},title:"Excluir",className:"px-4 py-2 text-sm text-pink-600 border border-pink-600 rounded-lg hover:text-pink-700 hover:border-pink-700 transition",children:(0,dm.jsx)(Im,{className:"w-5 h-5"})})]}),(0,dm.jsx)("button",{onClick:n,className:"px-4 py-2 text-sm text-pink-600 border border-pink-600 rounded-lg hover:text-pink-700 hover:border-pink-700 transition",children:"Fechar"})]}),d&&(0,dm.jsx)(CS,{onboarding:l,onClose:()=>f(!1)})]})})}function AS(){const[e,t]=(0,r.useState)({}),[n,a]=(0,r.useState)(null),[s,i]=(0,r.useState)([]),[o,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(null),[h,d]=(0,r.useState)(!1),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(!1);(0,r.useEffect)((()=>{const e=Op(kf(hm,"onboardings"),(e=>{const n=e.docs.map((e=>({id:e.id,...e.data()})));i(n);const r={};n.forEach((e=>{const t=e.data||"";if(!t.includes("."))return;const[n,a,s]=t.split("."),i=2===s.length?"20"+s:s,o=a.padStart(2,"0"),l=n.padStart(2,"0"),c=new Date(`${i}-${o}-${l}`);if(isNaN(c.getTime()))return void console.error("Data inv\xe1lida encontrada:",t);const u=new Intl.DateTimeFormat("pt-BR",{month:"long",timeZone:"UTC"}).format(c);r[i]||(r[i]={}),r[i][u]||(r[i][u]=[]),r[i][u].includes(t)||r[i][u].push(t)})),t(r)}));return()=>e()}),[]);const v=s.filter((e=>{var t;const r=!n||e.data===n,a=!!o&&(null===(t=e.nome)||void 0===t?void 0:t.toLowerCase().includes(o.toLowerCase()));return r&&(!o.trim()||a)})),y=Boolean(n||o.trim());return(0,dm.jsxs)("div",{className:"mx-auto max-w-7xl p-6 flex flex-col md:flex-row gap-6",children:[(0,dm.jsxs)("aside",{className:"md:w-64 flex-shrink-0 space-y-4",children:[(0,dm.jsxs)("div",{className:"rounded-2xl border border-[var(--line)] bg-[var(--bg-card)] shadow-lg",children:[(0,dm.jsxs)("div",{className:"px-5 py-4 border-b border-[var(--line)] flex items-center gap-2 text-sm uppercase tracking-[0.18em] text-[var(--text-muted)]",children:[(0,dm.jsx)(kS,{className:"w-4 h-4 text-[var(--accent)]"}),"Agenda"]}),(0,dm.jsx)("div",{className:"px-4 py-3",children:(0,dm.jsx)(TS,{estrutura:e,onSelect:(e,t,n)=>{a(n),l("")},diaSelecionado:n})})]}),(0,dm.jsxs)(tt,{to:"/importar-onboardings",className:"inline-flex w-full items-center justify-center gap-2 rounded-xl border border-[var(--accent)]/50 bg-[var(--accent)]/10 text-[var(--accent)] px-4 py-2 text-sm font-medium hover:bg-[var(--accent)]/20 transition",children:[(0,dm.jsx)(SS,{className:"w-4 h-4"}),"Importar planilha"]})]}),(0,dm.jsxs)("section",{className:"flex-1 space-y-4",children:[(0,dm.jsx)("div",{className:"rounded-2xl border border-[var(--line)] bg-[var(--bg-card)] shadow-lg",children:(0,dm.jsxs)("div",{className:"px-6 py-5 border-b border-[var(--line)] flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[(0,dm.jsxs)("div",{children:[(0,dm.jsxs)("h2",{className:"text-2xl font-semibold text-[var(--text)] flex items-center gap-2",children:[(0,dm.jsx)(_S,{className:"w-6 h-6 text-[var(--accent)]"}),n?(0,dm.jsxs)("span",{children:["Onboardings de"," ",(0,dm.jsx)("span",{className:"text-[var(--accent)] font-bold",children:n})]}):o.trim()?(0,dm.jsx)("span",{children:"Resultados da busca"}):(0,dm.jsx)("span",{children:"Selecione uma data"})]}),(0,dm.jsx)("p",{className:"text-xs text-[var(--text-muted)] mt-1",children:"Mantenha o acompanhamento dos novos colaboradores em tempo real."})]}),(0,dm.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,dm.jsx)("input",{type:"text",placeholder:"Buscar por nome...",value:o,onChange:e=>l(e.target.value),className:"input-neon w-48"}),(0,dm.jsx)("button",{onClick:()=>{const e=new Date,t=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getFullYear()).slice(-2);u({nome:"",cpf:"",cargo:"",gestor:"",email:"",telefone:"",endereco:"",equipamento:"",status:"",serial:"",data:n||`${t}.${r}.${a}`}),g(!0),p(!0),d(!0)},className:"inline-flex items-center gap-2 rounded-xl border border-[var(--accent)]/60 px-3 py-2 text-sm font-medium bg-[var(--accent)]/10 text-[var(--accent)] hover:bg-[var(--accent)]/20 transition",children:"+ Criar"})]})]})}),(0,dm.jsx)("div",{className:"rounded-2xl border border-[var(--line)] bg-[var(--bg-card)] shadow-lg",children:y?0===v.length?(0,dm.jsx)("div",{className:"px-6 py-10 text-center text-[var(--text-muted)]",children:"Nenhum onboarding encontrado para o filtro aplicado."}):(0,dm.jsx)("div",{className:"overflow-x-auto",children:(0,dm.jsxs)("table",{className:"min-w-full text-sm",children:[(0,dm.jsx)("thead",{className:"bg-[var(--accent-weak)]/40 text-[var(--text)]",children:(0,dm.jsxs)("tr",{children:[(0,dm.jsx)("th",{className:"p-3 text-left",children:"Nome"}),(0,dm.jsx)("th",{className:"p-3 text-left",children:"Cargo"}),(0,dm.jsx)("th",{className:"p-3 text-left",children:"Equipamento"}),(0,dm.jsx)("th",{className:"p-3 text-left",children:"Endere\xe7o"}),(0,dm.jsx)("th",{className:"p-3 text-left",children:"Status"})]})}),(0,dm.jsx)("tbody",{children:v.map((e=>(0,dm.jsxs)("tr",{className:"border-t border-[var(--line)] hover:bg-[var(--rowHover)] transition cursor-pointer",onClick:()=>{u(e),p(!1),g(!1),d(!0)},children:[(0,dm.jsx)("td",{className:"p-3 text-[var(--accent)] font-medium",children:e.nome||"\u2014"}),(0,dm.jsx)("td",{className:"p-3",children:e.cargo||"\u2014"}),(0,dm.jsx)("td",{className:"p-3",children:e.equipamento||"\u2014"}),(0,dm.jsx)("td",{className:"p-3 max-w-[28ch] text-ellipsis whitespace-nowrap overflow-hidden",title:[e.rua?e.rua:"",e.numero?`, ${e.numero}`:"",e.bairro?` - ${e.bairro}`:"",e.cidade?` - ${e.cidade}`:"",e.estado?` - ${e.estado}`:"",e.cep?` - CEP: ${e.cep}`:""].filter(Boolean).join(""),children:[e.rua?e.rua:"",e.numero?`, ${e.numero}`:"",e.bairro?` - ${e.bairro}`:"",e.cidade?` - ${e.cidade}`:"",e.estado?` - ${e.estado}`:"",e.cep?` - CEP: ${e.cep}`:""].filter(Boolean).join("")||"\u2014"}),(0,dm.jsx)("td",{className:"p-3",children:(0,dm.jsx)("span",{className:"inline-flex items-center gap-2 text-xs px-2 py-1 rounded-full bg-[var(--accent)]/10 text-[var(--accent)]",children:e.status||"\u2014"})})]},e.id)))})]})}):(0,dm.jsx)("div",{className:"px-6 py-10 text-center text-[var(--text-muted)]",children:"Escolha uma data na agenda ou utilize a busca para visualizar os onboardings."})})]}),h&&(0,dm.jsx)(NS,{onboarding:c,onClose:()=>{d(!1),p(!1)},onAtualizar:e=>{e.deletado?i((t=>t.filter((t=>t.id!==e.id)))):i((t=>t.map((t=>t.id===e.id?e:t))))},criandoNovo:f,modoEdicaoInicial:m})]})}function IS(){return(0,dm.jsxs)("div",{children:[(0,dm.jsx)("h1",{className:"text-2xl font-bold text-pink-600",children:"Documenta\xe7\xe3o"}),(0,dm.jsx)("p",{className:"mt-4 text-gray-600",children:"Em desenvolvimento..."})]})}var RS={version:"0.18.5"},PS=1200,OS=1252,DS=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],MS={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},jS=function(e){-1!=DS.indexOf(e)&&(OS=MS[0]=e)};var LS=function(e){PS=e,jS(e)};function FS(){LS(1200),jS(1252)}function US(e){for(var t=[],n=0,r=e.length;n<r;++n)t[n]=e.charCodeAt(n);return t}function VS(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join("")}var BS,zS=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return 255==t&&254==n?function(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n)+(e.charCodeAt(2*n+1)<<8));return t.join("")}(e.slice(2)):254==t&&255==n?VS(e.slice(2)):65279==t?e.slice(1):e},$S=function(e){return String.fromCharCode(e)},HS=function(e){return String.fromCharCode(e)};var WS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function qS(e){for(var t="",n=0,r=0,a=0,s=0,i=0,o=0,l=0,c=0;c<e.length;)s=(n=e.charCodeAt(c++))>>2,i=(3&n)<<4|(r=e.charCodeAt(c++))>>4,o=(15&r)<<2|(a=e.charCodeAt(c++))>>6,l=63&a,isNaN(r)?o=l=64:isNaN(a)&&(l=64),t+=WS.charAt(s)+WS.charAt(i)+WS.charAt(o)+WS.charAt(l);return t}function GS(e){var t="",n=0,r=0,a=0,s=0,i=0,o=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var l=0;l<e.length;)n=WS.indexOf(e.charAt(l++))<<2|(s=WS.indexOf(e.charAt(l++)))>>4,t+=String.fromCharCode(n),r=(15&s)<<4|(i=WS.indexOf(e.charAt(l++)))>>2,64!==i&&(t+=String.fromCharCode(r)),a=(3&i)<<6|(o=WS.indexOf(e.charAt(l++))),64!==o&&(t+=String.fromCharCode(a));return t}var KS=function(){return"undefined"!==typeof Buffer&&"undefined"!==typeof process&&"undefined"!==typeof process.versions&&!!process.versions.node}(),XS=function(){if("undefined"!==typeof Buffer){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch(Pm){e=!0}return e?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function YS(e){return KS?Buffer.alloc?Buffer.alloc(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}function QS(e){return KS?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}var JS=function(e){return KS?XS(e,"binary"):e.split("").map((function(e){return 255&e.charCodeAt(0)}))};function ZS(e){if(Array.isArray(e))return e.map((function(e){return String.fromCharCode(e)})).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function e_(e){if("undefined"==typeof ArrayBuffer)throw new Error("Unsupported");if(e instanceof ArrayBuffer)return e_(new Uint8Array(e));for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t}var t_=KS?function(e){return Buffer.concat(e.map((function(e){return Buffer.isBuffer(e)?e:XS(e)})))}:function(e){if("undefined"!==typeof Uint8Array){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),a=0;for(t=0,n=0;t<e.length;n+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if("string"==typeof e[t])throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map((function(e){return Array.isArray(e)?e:[].slice.call(e)})))};var n_=/\u0000/g,r_=/[\u0001-\u0006]/g;function a_(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function s_(e,t){var n=""+e;return n.length>=t?n:pC("0",t-n.length)+n}function i_(e,t){var n=""+e;return n.length>=t?n:pC(" ",t-n.length)+n}function o_(e,t){var n=""+e;return n.length>=t?n:n+pC(" ",t-n.length)}var l_=Math.pow(2,32);function c_(e,t){return e>l_||e<-l_?function(e,t){var n=""+Math.round(e);return n.length>=t?n:pC("0",t-n.length)+n}(e,t):function(e,t){var n=""+e;return n.length>=t?n:pC("0",t-n.length)+n}(Math.round(e),t)}function u_(e,t){return t=t||0,e.length>=7+t&&103===(32|e.charCodeAt(t))&&101===(32|e.charCodeAt(t+1))&&110===(32|e.charCodeAt(t+2))&&101===(32|e.charCodeAt(t+3))&&114===(32|e.charCodeAt(t+4))&&97===(32|e.charCodeAt(t+5))&&108===(32|e.charCodeAt(t+6))}var h_=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],d_=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];var f_={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "'},p_={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},m_={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function g_(e,t,n){for(var r=e<0?-1:1,a=e*r,s=0,i=1,o=0,l=1,c=0,u=0,h=Math.floor(a);c<t&&(o=(h=Math.floor(a))*i+s,u=h*c+l,!(a-h<5e-8));)a=1/(a-h),s=i,i=o,l=c,c=u;if(u>t&&(c>t?(u=l,o=s):(u=c,o=i)),!n)return[0,r*o,u];var d=Math.floor(r*o/u);return[d,r*o-d*u,u]}function v_(e,t,n){if(e>2958465||e<0)return null;var r=0|e,a=Math.floor(86400*(e-r)),s=0,i=[],o={D:r,T:a,u:86400*(e-r)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(r+=1462),o.u>.9999&&(o.u=0,86400==++a&&(o.T=a=0,++r,++o.D)),60===r)i=n?[1317,10,29]:[1900,2,29],s=3;else if(0===r)i=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),i=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),r<60&&(s=(s+6)%7),n&&(s=function(e,t){t[0]-=581;var n=e.getDay();e<60&&(n=(n+6)%7);return n}(l,i))}return o.y=i[0],o.m=i[1],o.d=i[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=s,o}var y_=new Date(1899,11,31,0,0,0),b_=y_.getTime(),x_=new Date(1900,2,1,0,0,0);function w_(e,t){var n=e.getTime();return t?n-=1262304e5:e>=x_&&(n+=864e5),(n-(b_+6e4*(e.getTimezoneOffset()-y_.getTimezoneOffset())))/864e5}function E_(e){return-1==e.indexOf(".")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function T_(e){var t,n=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return t=n>=-4&&n<=-1?e.toPrecision(10+n):Math.abs(n)<=9?function(e){var t=e<0?12:11,n=E_(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10)).length<=t?n:e.toExponential(5)}(e):10===n?e.toFixed(10).substr(0,12):function(e){var t=E_(e.toFixed(11));return t.length>(e<0?12:11)||"0"===t||"-0"===t?e.toPrecision(6):t}(e),E_(function(e){return-1==e.indexOf("E")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(t.toUpperCase()))}function k_(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):T_(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return W_(14,w_(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function S_(e,t,n,r){var a,s="",i=0,o=0,l=n.y,c=0;switch(e){case 98:l=n.y+543;case 121:switch(t.length){case 1:case 2:a=l%100,c=2;break;default:a=l%1e4,c=4}break;case 109:switch(t.length){case 1:case 2:a=n.m,c=t.length;break;case 3:return d_[n.m-1][1];case 5:return d_[n.m-1][0];default:return d_[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:a=n.d,c=t.length;break;case 3:return h_[n.q][0];default:return h_[n.q][1]}break;case 104:switch(t.length){case 1:case 2:a=1+(n.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:a=n.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:a=n.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==n.u||"s"!=t&&"ss"!=t?(o=r>=2?3===r?1e3:100:1===r?10:1,(i=Math.round(o*(n.S+n.u)))>=60*o&&(i=0),"s"===t?0===i?"0":""+i/o:(s=s_(i,2+r),"ss"===t?s.substr(0,2):"."+s.substr(2,t.length-1))):s_(n.S,t.length);case 90:switch(t){case"[h]":case"[hh]":a=24*n.D+n.H;break;case"[m]":case"[mm]":a=60*(24*n.D+n.H)+n.M;break;case"[s]":case"[ss]":a=60*(60*(24*n.D+n.H)+n.M)+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}c=3===t.length?1:2;break;case 101:a=l,c=1}return c>0?s_(a,c):""}function __(e){if(e.length<=3)return e;for(var t=e.length%3,n=e.substr(0,t);t!=e.length;t+=3)n+=(n.length>0?",":"")+e.substr(t,3);return n}var C_=/%/g;function N_(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+N_(e,-t);var a=e.indexOf(".");-1===a&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),-1===(n=(t/Math.pow(10,s)).toPrecision(r+1+(a+s)%a)).indexOf("e")){var i=Math.floor(Math.log(t)*Math.LOG10E);for(-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(i-n.length+s):n+="E+"+(i-s);"0."===n.substr(0,2);)n=(n=n.charAt(0)+n.substr(2,a)+"."+n.substr(2+a)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,n,r){return t+n+r.substr(0,(a+s)%a)+"."+r.substr(s)+"E"}))}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var A_=/# (\?+)( ?)\/( ?)(\d+)/;var I_=/^#*0*\.([0#]+)/,R_=/\).*[0#]/,P_=/\(###\) ###\\?-####/;function O_(e){for(var t,n="",r=0;r!=e.length;++r)switch(t=e.charCodeAt(r)){case 35:break;case 63:n+=" ";break;case 48:n+="0";break;default:n+=String.fromCharCode(t)}return n}function D_(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function M_(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function j_(e,t,n){if(40===e.charCodeAt(0)&&!t.match(R_)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?j_("n",r,n):"("+j_("n",r,-n)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,n){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return U_(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}(e,t,n);if(-1!==t.indexOf("%"))return function(e,t,n){var r=t.replace(C_,""),a=t.length-r.length;return U_(e,r,n*Math.pow(10,2*a))+pC("%",a)}(e,t,n);if(-1!==t.indexOf("E"))return N_(t,n);if(36===t.charCodeAt(0))return"$"+j_(e,t.substr(" "==t.charAt(1)?2:1),n);var a,s,i,o,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+c_(l,t.length);if(t.match(/^[#?]+$/))return"0"===(a=c_(n,0))&&(a=""),a.length>t.length?a:O_(t.substr(0,t.length-a.length))+a;if(s=t.match(A_))return function(e,t,n){var r=parseInt(e[4],10),a=Math.round(t*r),s=Math.floor(a/r),i=a-s*r,o=r;return n+(0===s?"":""+s)+" "+(0===i?pC(" ",e[1].length+1+e[4].length):i_(i,e[1].length)+e[2]+"/"+e[3]+s_(o,e[4].length))}(s,l,c);if(t.match(/^#+0+$/))return c+c_(l,t.length-t.indexOf("0"));if(s=t.match(I_))return a=D_(n,s[1].length).replace(/^([^\.]+)$/,"$1."+O_(s[1])).replace(/\.$/,"."+O_(s[1])).replace(/\.(\d*)$/,(function(e,t){return"."+t+pC("0",O_(s[1]).length-t.length)})),-1!==t.indexOf("0.")?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return c+D_(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return c+__(c_(l,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+j_(e,t,-n):__(""+(Math.floor(n)+function(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}(n,s[1].length)))+"."+s_(M_(n,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return j_(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=a_(j_(e,t.replace(/[\\-]/g,""),n)),i=0,a_(a_(t.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return i<a.length?a.charAt(i++):"0"===e?"0":""})));if(t.match(P_))return"("+(a=j_(e,"##########",n)).substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),o=g_(l,Math.pow(10,i)-1,!1),a=""+c," "==(u=U_("n",s[1],o[1])).charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),a+=u+s[2]+"/"+s[3],(u=o_(o[2],i)).length<s[4].length&&(u=O_(s[4].substr(s[4].length-u.length))+u),a+=u;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),c+((o=g_(l,Math.pow(10,i)-1,!0))[0]||(o[1]?"":"0"))+" "+(o[1]?i_(o[1],i)+s[2]+"/"+s[3]+o_(o[2],i):pC(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=c_(n,0),t.length<=a.length?a:O_(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var h=t.indexOf(".")-i,d=t.length-a.length-h;return O_(t.substr(0,h)+a+t.substr(t.length-d))}if(s=t.match(/^00,000\.([#0]*0)$/))return i=M_(n,s[1].length),n<0?"-"+j_(e,t,-n):__(function(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?s_(0,3-e.length):"")+e}))+"."+s_(i,s[1].length);switch(t){case"###,##0.00":return j_(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var f=__(c_(l,0));return"0"!==f?c+f:"";case"###,###.00":return j_(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return j_(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function L_(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+L_(e,-t);var a=e.indexOf(".");-1===a&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),!(n=(t/Math.pow(10,s)).toPrecision(r+1+(a+s)%a)).match(/[Ee]/)){var i=Math.floor(Math.log(t)*Math.LOG10E);-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(i-n.length+s):n+="E+"+(i-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,n,r){return t+n+r.substr(0,(a+s)%a)+"."+r.substr(s)+"E"}))}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function F_(e,t,n){if(40===e.charCodeAt(0)&&!t.match(R_)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?F_("n",r,n):"("+F_("n",r,-n)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,n){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return U_(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}(e,t,n);if(-1!==t.indexOf("%"))return function(e,t,n){var r=t.replace(C_,""),a=t.length-r.length;return U_(e,r,n*Math.pow(10,2*a))+pC("%",a)}(e,t,n);if(-1!==t.indexOf("E"))return L_(t,n);if(36===t.charCodeAt(0))return"$"+F_(e,t.substr(" "==t.charAt(1)?2:1),n);var a,s,i,o,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+s_(l,t.length);if(t.match(/^[#?]+$/))return a=""+n,0===n&&(a=""),a.length>t.length?a:O_(t.substr(0,t.length-a.length))+a;if(s=t.match(A_))return function(e,t,n){return n+(0===t?"":""+t)+pC(" ",e[1].length+2+e[4].length)}(s,l,c);if(t.match(/^#+0+$/))return c+s_(l,t.length-t.indexOf("0"));if(s=t.match(I_))return a=(a=(""+n).replace(/^([^\.]+)$/,"$1."+O_(s[1])).replace(/\.$/,"."+O_(s[1]))).replace(/\.(\d*)$/,(function(e,t){return"."+t+pC("0",O_(s[1]).length-t.length)})),-1!==t.indexOf("0.")?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return c+__(""+l);if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+F_(e,t,-n):__(""+n)+"."+pC("0",s[1].length);if(s=t.match(/^#,#*,#0/))return F_(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=a_(F_(e,t.replace(/[\\-]/g,""),n)),i=0,a_(a_(t.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return i<a.length?a.charAt(i++):"0"===e?"0":""})));if(t.match(P_))return"("+(a=F_(e,"##########",n)).substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),o=g_(l,Math.pow(10,i)-1,!1),a=""+c," "==(u=U_("n",s[1],o[1])).charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),a+=u+s[2]+"/"+s[3],(u=o_(o[2],i)).length<s[4].length&&(u=O_(s[4].substr(s[4].length-u.length))+u),a+=u;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),c+((o=g_(l,Math.pow(10,i)-1,!0))[0]||(o[1]?"":"0"))+" "+(o[1]?i_(o[1],i)+s[2]+"/"+s[3]+o_(o[2],i):pC(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+n,t.length<=a.length?a:O_(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var h=t.indexOf(".")-i,d=t.length-a.length-h;return O_(t.substr(0,h)+a+t.substr(t.length-d))}if(s=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+F_(e,t,-n):__(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?s_(0,3-e.length):"")+e}))+"."+s_(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var f=__(""+l);return"0"!==f?c+f:"";default:if(t.match(/\.[0#?]*$/))return F_(e,t.slice(0,t.lastIndexOf(".")),n)+O_(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function U_(e,t,n){return(0|n)===n?F_(e,t,n):j_(e,t,n)}var V_=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function B_(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":u_(e,t)&&(t+=6),t++;break;case'"':for(;34!==e.charCodeAt(++t)&&t<e.length;);++t;break;case"\\":case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===e.charAt(t+1)||"2"===e.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4e0a":if("A/P"===e.substr(t,3).toUpperCase())return!0;if("AM/PM"===e.substr(t,5).toUpperCase())return!0;if("\u4e0a\u5348/\u4e0b\u5348"===e.substr(t,5).toUpperCase())return!0;++t;break;case"[":for(r=n;"]"!==e.charAt(t++)&&t<e.length;)r+=e.charAt(t);if(r.match(V_))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||"\\"==n&&"-"==e.charAt(t+1)&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t," "!=e.charAt(t)&&"*"!=e.charAt(t)||++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;default:++t}return!1}var z_=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function $_(e,t){if(null==t)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0}return!1}function H_(e,t){var n=function(e){for(var t=[],n=!1,r=0,a=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(a,r-a),a=r+1}if(t[t.length]=e.substr(a),!0===n)throw new Error("Format |"+e+"| unterminated string ");return t}(e),r=n.length,a=n[r-1].indexOf("@");if(r<4&&a>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if("number"!==typeof t)return[4,4===n.length||a>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=a>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=a>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=a>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"]}var s=t>0?n[0]:t<0?n[1]:n[2];if(-1===n[0].indexOf("[")&&-1===n[1].indexOf("["))return[r,s];if(null!=n[0].match(/\[[=<>]/)||null!=n[1].match(/\[[=<>]/)){var i=n[0].match(z_),o=n[1].match(z_);return $_(t,i)?[r,n[0]]:$_(t,o)?[r,n[1]]:[r,n[null!=i&&null!=o?2:1]]}return[r,s]}function W_(e,t,n){null==n&&(n={});var r="";switch(typeof e){case"string":r="m/d/yy"==e&&n.dateNF?n.dateNF:e;break;case"number":null==(r=14==e&&n.dateNF?n.dateNF:(null!=n.table?n.table:f_)[e])&&(r=n.table&&n.table[p_[e]]||f_[p_[e]]),null==r&&(r=m_[e]||"General")}if(u_(r,0))return k_(t,n);t instanceof Date&&(t=w_(t,n.date1904));var a=H_(r,t);if(u_(a[1]))return k_(t,n);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return function(e,t,n,r){for(var a,s,i,o=[],l="",c=0,u="",h="t",d="H";c<e.length;)switch(u=e.charAt(c)){case"G":if(!u_(e,c))throw new Error("unrecognized character "+u+" in "+e);o[o.length]={t:"G",v:"General"},c+=7;break;case'"':for(l="";34!==(i=e.charCodeAt(++c))&&c<e.length;)l+=String.fromCharCode(i);o[o.length]={t:"t",v:l},++c;break;case"\\":var f=e.charAt(++c),p="("===f||")"===f?f:"t";o[o.length]={t:p,v:f},++c;break;case"_":o[o.length]={t:"t",v:" "},c+=2;break;case"@":o[o.length]={t:"T",v:t},++c;break;case"B":case"b":if("1"===e.charAt(c+1)||"2"===e.charAt(c+1)){if(null==a&&null==(a=v_(t,n,"2"===e.charAt(c+1))))return"";o[o.length]={t:"X",v:e.substr(c,2)},h=u,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0)return"";if(null==a&&null==(a=v_(t,n)))return"";for(l=u;++c<e.length&&e.charAt(c).toLowerCase()===u;)l+=u;"m"===u&&"h"===h.toLowerCase()&&(u="M"),"h"===u&&(u=d),o[o.length]={t:u,v:l},h=u;break;case"A":case"a":case"\u4e0a":var m={t:u,v:u};if(null==a&&(a=v_(t,n)),"A/P"===e.substr(c,3).toUpperCase()?(null!=a&&(m.v=a.H>=12?"P":"A"),m.t="T",d="h",c+=3):"AM/PM"===e.substr(c,5).toUpperCase()?(null!=a&&(m.v=a.H>=12?"PM":"AM"),m.t="T",c+=5,d="h"):"\u4e0a\u5348/\u4e0b\u5348"===e.substr(c,5).toUpperCase()?(null!=a&&(m.v=a.H>=12?"\u4e0b\u5348":"\u4e0a\u5348"),m.t="T",c+=5,d="h"):(m.t="t",++c),null==a&&"T"===m.t)return"";o[o.length]=m,h=u;break;case"[":for(l=u;"]"!==e.charAt(c++)&&c<e.length;)l+=e.charAt(c);if("]"!==l.slice(-1))throw'unterminated "[" block: |'+l+"|";if(l.match(V_)){if(null==a&&null==(a=v_(t,n)))return"";o[o.length]={t:"Z",v:l.toLowerCase()},h=l.charAt(1)}else l.indexOf("$")>-1&&(l=(l.match(/\$([^-\[\]]*)/)||[])[1]||"$",B_(e)||(o[o.length]={t:"t",v:l}));break;case".":if(null!=a){for(l=u;++c<e.length&&"0"===(u=e.charAt(c));)l+=u;o[o.length]={t:"s",v:l};break}case"0":case"#":for(l=u;++c<e.length&&"0#?.,E+-%".indexOf(u=e.charAt(c))>-1;)l+=u;o[o.length]={t:"n",v:l};break;case"?":for(l=u;e.charAt(++c)===u;)l+=u;o[o.length]={t:u,v:l},h=u;break;case"*":++c," "!=e.charAt(c)&&"*"!=e.charAt(c)||++c;break;case"(":case")":o[o.length]={t:1===r?"t":u,v:u},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(l=u;c<e.length&&"0123456789".indexOf(e.charAt(++c))>-1;)l+=e.charAt(c);o[o.length]={t:"D",v:l};break;case" ":o[o.length]={t:u,v:u},++c;break;case"$":o[o.length]={t:"t",v:"$"},++c;break;default:if(-1===",$-+/():!^&'~{}<>=\u20acacfijklopqrtuvwxzP".indexOf(u))throw new Error("unrecognized character "+u+" in "+e);o[o.length]={t:"t",v:u},++c}var g,v=0,y=0;for(c=o.length-1,h="t";c>=0;--c)switch(o[c].t){case"h":case"H":o[c].t=d,h="h",v<1&&(v=1);break;case"s":(g=o[c].v.match(/\.0+$/))&&(y=Math.max(y,g[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":h=o[c].t;break;case"m":"s"===h&&(o[c].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&o[c].v.match(/[Hh]/)&&(v=1),v<2&&o[c].v.match(/[Mm]/)&&(v=2),v<3&&o[c].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:a.u>=.5&&(a.u=0,++a.S),a.S>=60&&(a.S=0,++a.M),a.M>=60&&(a.M=0,++a.H);break;case 2:a.u>=.5&&(a.u=0,++a.S),a.S>=60&&(a.S=0,++a.M)}var b,x="";for(c=0;c<o.length;++c)switch(o[c].t){case"t":case"T":case" ":case"D":break;case"X":o[c].v="",o[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":o[c].v=S_(o[c].t.charCodeAt(0),o[c].v,a,y),o[c].t="t";break;case"n":case"?":for(b=c+1;null!=o[b]&&("?"===(u=o[b].t)||"D"===u||(" "===u||"t"===u)&&null!=o[b+1]&&("?"===o[b+1].t||"t"===o[b+1].t&&"/"===o[b+1].v)||"("===o[c].t&&(" "===u||"n"===u||")"===u)||"t"===u&&("/"===o[b].v||" "===o[b].v&&null!=o[b+1]&&"?"==o[b+1].t));)o[c].v+=o[b].v,o[b]={v:"",t:";"},++b;x+=o[c].v,c=b-1;break;case"G":o[c].t="t",o[c].v=k_(t,n)}var w,E,T="";if(x.length>0){40==x.charCodeAt(0)?(w=t<0&&45===x.charCodeAt(0)?-t:t,E=U_("n",x,w)):(E=U_("n",x,w=t<0&&r>1?-t:t),w<0&&o[0]&&"t"==o[0].t&&(E=E.substr(1),o[0].v="-"+o[0].v)),b=E.length-1;var k=o.length;for(c=0;c<o.length;++c)if(null!=o[c]&&"t"!=o[c].t&&o[c].v.indexOf(".")>-1){k=c;break}var S=o.length;if(k===o.length&&-1===E.indexOf("E")){for(c=o.length-1;c>=0;--c)null!=o[c]&&-1!=="n?".indexOf(o[c].t)&&(b>=o[c].v.length-1?(b-=o[c].v.length,o[c].v=E.substr(b+1,o[c].v.length)):b<0?o[c].v="":(o[c].v=E.substr(0,b+1),b=-1),o[c].t="t",S=c);b>=0&&S<o.length&&(o[S].v=E.substr(0,b+1)+o[S].v)}else if(k!==o.length&&-1===E.indexOf("E")){for(b=E.indexOf(".")-1,c=k;c>=0;--c)if(null!=o[c]&&-1!=="n?".indexOf(o[c].t)){for(s=o[c].v.indexOf(".")>-1&&c===k?o[c].v.indexOf(".")-1:o[c].v.length-1,T=o[c].v.substr(s+1);s>=0;--s)b>=0&&("0"===o[c].v.charAt(s)||"#"===o[c].v.charAt(s))&&(T=E.charAt(b--)+T);o[c].v=T,o[c].t="t",S=c}for(b>=0&&S<o.length&&(o[S].v=E.substr(0,b+1)+o[S].v),b=E.indexOf(".")+1,c=k;c<o.length;++c)if(null!=o[c]&&(-1!=="n?(".indexOf(o[c].t)||c===k)){for(s=o[c].v.indexOf(".")>-1&&c===k?o[c].v.indexOf(".")+1:0,T=o[c].v.substr(0,s);s<o[c].v.length;++s)b<E.length&&(T+=E.charAt(b++));o[c].v=T,o[c].t="t",S=c}}}for(c=0;c<o.length;++c)null!=o[c]&&"n?".indexOf(o[c].t)>-1&&(w=r>1&&t<0&&c>0&&"-"===o[c-1].v?-t:t,o[c].v=U_(o[c].t,o[c].v,w),o[c].t="t");var _="";for(c=0;c!==o.length;++c)null!=o[c]&&(_+=o[c].v);return _}(a[1],t,n,a[0])}function q_(e,t){if("number"!=typeof t){t=+t||-1;for(var n=0;n<392;++n)if(void 0!=f_[n]){if(f_[n]==e){t=n;break}}else t<0&&(t=n);t<0&&(t=391)}return f_[t]=e,t}function G_(){f_=function(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "',e}()}var K_={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},X_=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;var Y_=function(){var e={};e.version="1.2.0";var t=function(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=n)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!==typeof Int32Array?new Int32Array(t):t}();var n=function(e){var t=0,n=0,r=0,a="undefined"!==typeof Int32Array?new Int32Array(4096):new Array(4096);for(r=0;256!=r;++r)a[r]=e[r];for(r=0;256!=r;++r)for(n=e[r],t=256+r;t<4096;t+=256)n=a[t]=n>>>8^e[255&n];var s=[];for(r=1;16!=r;++r)s[r-1]="undefined"!==typeof Int32Array?a.subarray(256*r,256*r+256):a.slice(256*r,256*r+256);return s}(t),r=n[0],a=n[1],s=n[2],i=n[3],o=n[4],l=n[5],c=n[6],u=n[7],h=n[8],d=n[9],f=n[10],p=n[11],m=n[12],g=n[13],v=n[14];return e.table=t,e.bstr=function(e,n){for(var r=~n,a=0,s=e.length;a<s;)r=r>>>8^t[255&(r^e.charCodeAt(a++))];return~r},e.buf=function(e,n){for(var y=~n,b=e.length-15,x=0;x<b;)y=v[e[x++]^255&y]^g[e[x++]^y>>8&255]^m[e[x++]^y>>16&255]^p[e[x++]^y>>>24]^f[e[x++]]^d[e[x++]]^h[e[x++]]^u[e[x++]]^c[e[x++]]^l[e[x++]]^o[e[x++]]^i[e[x++]]^s[e[x++]]^a[e[x++]]^r[e[x++]]^t[e[x++]];for(b+=15;x<b;)y=y>>>8^t[255&(y^e[x++])];return~y},e.str=function(e,n){for(var r=~n,a=0,s=e.length,i=0,o=0;a<s;)(i=e.charCodeAt(a++))<128?r=r>>>8^t[255&(r^i)]:i<2048?r=(r=r>>>8^t[255&(r^(192|i>>6&31))])>>>8^t[255&(r^(128|63&i))]:i>=55296&&i<57344?(i=64+(1023&i),o=1023&e.charCodeAt(a++),r=(r=(r=(r=r>>>8^t[255&(r^(240|i>>8&7))])>>>8^t[255&(r^(128|i>>2&63))])>>>8^t[255&(r^(128|o>>6&15|(3&i)<<4))])>>>8^t[255&(r^(128|63&o))]):r=(r=(r=r>>>8^t[255&(r^(224|i>>12&15))])>>>8^t[255&(r^(128|i>>6&63))])>>>8^t[255&(r^(128|63&i))];return~r},e}(),Q_=function(){var e,t={};function n(e){if("/"==e.charAt(e.length-1))return-1===e.slice(0,-1).indexOf("/")?e:n(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(0,t+1)}function r(e){if("/"==e.charAt(e.length-1))return r(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(t+1)}function a(e,t){"string"===typeof t&&(t=new Date(t));var n=t.getHours();n=(n=n<<6|t.getMinutes())<<5|t.getSeconds()>>>1,e.write_shift(2,n);var r=t.getFullYear()-1980;r=(r=r<<4|t.getMonth()+1)<<5|t.getDate(),e.write_shift(2,r)}function s(e){WN(e,0);for(var t={},n=0;e.l<=e.length-4;){var r=e.read_shift(2),a=e.read_shift(2),s=e.l+a,i={};if(21589===r)1&(n=e.read_shift(1))&&(i.mtime=e.read_shift(4)),a>5&&(2&n&&(i.atime=e.read_shift(4)),4&n&&(i.ctime=e.read_shift(4))),i.mtime&&(i.mt=new Date(1e3*i.mtime));e.l=s,t[r]=i}return t}function i(){return e||(e={})}function o(e,t){if(80==e[0]&&75==e[1])return re(e,t);if(109==(32|e[0])&&105==(32|e[1]))return function(e,t){if("mime-version:"!=E(e.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var n=t&&t.root||"",r=(KS&&Buffer.isBuffer(e)?e.toString("binary"):E(e)).split("\r\n"),a=0,s="";for(a=0;a<r.length;++a)if(s=r[a],/^Content-Location:/i.test(s)&&(s=s.slice(s.indexOf("file")),n||(n=s.slice(0,s.lastIndexOf("/")+1)),s.slice(0,n.length)!=n))for(;n.length>0&&(n=(n=n.slice(0,n.length-1)).slice(0,n.lastIndexOf("/")+1),s.slice(0,n.length)!=n););var i=(r[1]||"").match(/boundary="(.*?)"/);if(!i)throw new Error("MAD cannot find boundary");var o="--"+(i[1]||""),l=[],c=[],u={FileIndex:l,FullPaths:c};d(u);var h,f=0;for(a=0;a<r.length;++a){var p=r[a];p!==o&&p!==o+"--"||(f++&&ce(u,r.slice(h,a),n),h=a)}return u}(e,t);if(e.length<512)throw new Error("CFB file size "+e.length+" < 512");var n,r,a,s,i,o,f=512,p=[],m=e.slice(0,512);WN(m,0);var g=function(e){if(80==e[e.l]&&75==e[e.l+1])return[0,0];e.chk(y,"Header Signature: "),e.l+=16;var t=e.read_shift(2,"u");return[e.read_shift(2,"u"),t]}(m);switch(n=g[0]){case 3:f=512;break;case 4:f=4096;break;case 0:if(0==g[1])return re(e,t);default:throw new Error("Major Version: Expected 3 or 4 saw "+n)}512!==f&&WN(m=e.slice(0,f),28);var b=e.slice(0,f);!function(e,t){var n=9;switch(e.l+=2,n=e.read_shift(2)){case 9:if(3!=t)throw new Error("Sector Shift: Expected 9 saw "+n);break;case 12:if(4!=t)throw new Error("Sector Shift: Expected 12 saw "+n);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+n)}e.chk("0600","Mini Sector Shift: "),e.chk("000000000000","Reserved: ")}(m,n);var x=m.read_shift(4,"i");if(3===n&&0!==x)throw new Error("# Directory Sectors: Expected 0 saw "+x);m.l+=4,s=m.read_shift(4,"i"),m.l+=4,m.chk("00100000","Mini Stream Cutoff Size: "),i=m.read_shift(4,"i"),r=m.read_shift(4,"i"),o=m.read_shift(4,"i"),a=m.read_shift(4,"i");for(var w=-1,T=0;T<109&&!((w=m.read_shift(4,"i"))<0);++T)p[T]=w;var k=function(e,t){for(var n=Math.ceil(e.length/t)-1,r=[],a=1;a<n;++a)r[a-1]=e.slice(a*t,(a+1)*t);return r[n-1]=e.slice(n*t),r}(e,f);c(o,a,k,f,p);var S=function(e,t,n,r){var a=e.length,s=[],i=[],o=[],l=[],c=r-1,u=0,h=0,d=0,f=0;for(u=0;u<a;++u)if(o=[],(d=u+t)>=a&&(d-=a),!i[d]){l=[];var p=[];for(h=d;h>=0;){p[h]=!0,i[h]=!0,o[o.length]=h,l.push(e[h]);var m=n[Math.floor(4*h/r)];if(r<4+(f=4*h&c))throw new Error("FAT boundary crossed: "+h+" 4 "+r);if(!e[m])break;if(p[h=LN(e[m],f)])break}s[d]={nodes:o,data:dN([l])}}return s}(k,s,p,f);S[s].name="!Directory",r>0&&i!==v&&(S[i].name="!MiniFAT"),S[p[0]].name="!FAT",S.fat_addrs=p,S.ssz=f;var _=[],C=[],N=[];!function(e,t,n,r,a,s,i,o){for(var c,d=0,f=r.length?2:0,p=t[e].data,m=0,g=0;m<p.length;m+=128){var y=p.slice(m,m+128);WN(y,64),g=y.read_shift(2),c=pN(y,0,g-f),r.push(c);var b={name:c,type:y.read_shift(1),color:y.read_shift(1),L:y.read_shift(4,"i"),R:y.read_shift(4,"i"),C:y.read_shift(4,"i"),clsid:y.read_shift(16),state:y.read_shift(4,"i"),start:0,size:0};0!==y.read_shift(2)+y.read_shift(2)+y.read_shift(2)+y.read_shift(2)&&(b.ct=h(y,y.l-8)),0!==y.read_shift(2)+y.read_shift(2)+y.read_shift(2)+y.read_shift(2)&&(b.mt=h(y,y.l-8)),b.start=y.read_shift(4,"i"),b.size=y.read_shift(4,"i"),b.size<0&&b.start<0&&(b.size=b.type=0,b.start=v,b.name=""),5===b.type?(d=b.start,a>0&&d!==v&&(t[d].name="!StreamData")):b.size>=4096?(b.storage="fat",void 0===t[b.start]&&(t[b.start]=u(n,b.start,t.fat_addrs,t.ssz)),t[b.start].name=b.name,b.content=t[b.start].data.slice(0,b.size)):(b.storage="minifat",b.size<0?b.size=0:d!==v&&b.start!==v&&t[d]&&(b.content=l(b,t[d].data,(t[o]||{}).data))),b.content&&WN(b.content,0),s[c]=b,i.push(b)}}(s,S,k,_,r,{},C,i),function(e,t,n){for(var r=0,a=0,s=0,i=0,o=0,l=n.length,c=[],u=[];r<l;++r)c[r]=u[r]=r,t[r]=n[r];for(;o<u.length;++o)a=e[r=u[o]].L,s=e[r].R,i=e[r].C,c[r]===r&&(-1!==a&&c[a]!==a&&(c[r]=c[a]),-1!==s&&c[s]!==s&&(c[r]=c[s])),-1!==i&&(c[i]=r),-1!==a&&r!=c[r]&&(c[a]=c[r],u.lastIndexOf(a)<o&&u.push(a)),-1!==s&&r!=c[r]&&(c[s]=c[r],u.lastIndexOf(s)<o&&u.push(s));for(r=1;r<l;++r)c[r]===r&&(-1!==s&&c[s]!==s?c[r]=c[s]:-1!==a&&c[a]!==a&&(c[r]=c[a]));for(r=1;r<l;++r)if(0!==e[r].type){if((o=r)!=c[o])do{o=c[o],t[r]=t[o]+"/"+t[r]}while(0!==o&&-1!==c[o]&&o!=c[o]);c[r]=-1}for(t[0]+="/",r=1;r<l;++r)2!==e[r].type&&(t[r]+="/")}(C,N,_),_.shift();var A={FileIndex:C,FullPaths:N};return t&&t.raw&&(A.raw={header:b,sectors:k}),A}function l(e,t,n){for(var r=e.start,a=e.size,s=[],i=r;n&&a>0&&i>=0;)s.push(t.slice(i*g,i*g+g)),a-=g,i=LN(n,4*i);return 0===s.length?GN(0):t_(s).slice(0,e.size)}function c(e,t,n,r,a){var s=v;if(e===v){if(0!==t)throw new Error("DIFAT chain shorter than expected")}else if(-1!==e){var i=n[e],o=(r>>>2)-1;if(!i)return;for(var l=0;l<o&&(s=LN(i,4*l))!==v;++l)a.push(s);c(LN(i,r-4),t-1,n,r,a)}}function u(e,t,n,r,a){var s=[],i=[];a||(a=[]);var o=r-1,l=0,c=0;for(l=t;l>=0;){a[l]=!0,s[s.length]=l,i.push(e[l]);var u=n[Math.floor(4*l/r)];if(r<4+(c=4*l&o))throw new Error("FAT boundary crossed: "+l+" 4 "+r);if(!e[u])break;l=LN(e[u],c)}return{nodes:s,data:dN([i])}}function h(e,t){return new Date(1e3*(jN(e,t+4)/1e7*Math.pow(2,32)+jN(e,t)/1e7-11644473600))}function d(e,t){var n=t||{},r=n.root||"Root Entry";if(e.FullPaths||(e.FullPaths=[]),e.FileIndex||(e.FileIndex=[]),e.FullPaths.length!==e.FileIndex.length)throw new Error("inconsistent CFB structure");0===e.FullPaths.length&&(e.FullPaths[0]=r+"/",e.FileIndex[0]={name:r,type:5}),n.CLSID&&(e.FileIndex[0].clsid=n.CLSID),function(e){var t="\x01Sh33tJ5";if(Q_.find(e,"/"+t))return;var n=GN(4);n[0]=55,n[1]=n[3]=50,n[2]=54,e.FileIndex.push({name:t,type:2,content:n,size:4,L:69,R:69,C:69}),e.FullPaths.push(e.FullPaths[0]+t),f(e)}(e)}function f(e,t){d(e);for(var a=!1,s=!1,i=e.FullPaths.length-1;i>=0;--i){var o=e.FileIndex[i];switch(o.type){case 0:s?a=!0:(e.FileIndex.pop(),e.FullPaths.pop());break;case 1:case 2:case 5:s=!0,isNaN(o.R*o.L*o.C)&&(a=!0),o.R>-1&&o.L>-1&&o.R==o.L&&(a=!0);break;default:a=!0}}if(a||t){var l=new Date(1987,1,19),c=0,u=Object.create?Object.create(null):{},h=[];for(i=0;i<e.FullPaths.length;++i)u[e.FullPaths[i]]=!0,0!==e.FileIndex[i].type&&h.push([e.FullPaths[i],e.FileIndex[i]]);for(i=0;i<h.length;++i){var f=n(h[i][0]);(s=u[f])||(h.push([f,{name:r(f).replace("/",""),type:1,clsid:x,ct:l,mt:l,content:null}]),u[f]=!0)}for(h.sort((function(e,t){return function(e,t){for(var n=e.split("/"),r=t.split("/"),a=0,s=0,i=Math.min(n.length,r.length);a<i;++a){if(s=n[a].length-r[a].length)return s;if(n[a]!=r[a])return n[a]<r[a]?-1:1}return n.length-r.length}(e[0],t[0])})),e.FullPaths=[],e.FileIndex=[],i=0;i<h.length;++i)e.FullPaths[i]=h[i][0],e.FileIndex[i]=h[i][1];for(i=0;i<h.length;++i){var p=e.FileIndex[i],m=e.FullPaths[i];if(p.name=r(m).replace("/",""),p.L=p.R=p.C=-(p.color=1),p.size=p.content?p.content.length:0,p.start=0,p.clsid=p.clsid||x,0===i)p.C=h.length>1?1:-1,p.size=0,p.type=5;else if("/"==m.slice(-1)){for(c=i+1;c<h.length&&n(e.FullPaths[c])!=m;++c);for(p.C=c>=h.length?-1:c,c=i+1;c<h.length&&n(e.FullPaths[c])!=n(m);++c);p.R=c>=h.length?-1:c,p.type=1}else n(e.FullPaths[i+1]||"")==n(m)&&(p.R=i+1),p.type=2}}}function p(e,t){var n=t||{};if("mad"==n.fileType)return function(e,t){for(var n=t||{},r=n.boundary||"SheetJS",a=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(r="------="+r).slice(2)+'"',"","",""],s=e.FullPaths[0],i=s,o=e.FileIndex[0],l=1;l<e.FullPaths.length;++l)if(i=e.FullPaths[l].slice(s.length),(o=e.FileIndex[l]).size&&o.content&&"\x01Sh33tJ5"!=i){i=i.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,(function(e){return"_x"+e.charCodeAt(0).toString(16)+"_"})).replace(/[\u0080-\uFFFF]/g,(function(e){return"_u"+e.charCodeAt(0).toString(16)+"_"}));for(var c=o.content,u=KS&&Buffer.isBuffer(c)?c.toString("binary"):E(c),h=0,d=Math.min(1024,u.length),f=0,p=0;p<=d;++p)(f=u.charCodeAt(p))>=32&&f<128&&++h;var m=h>=4*d/5;a.push(r),a.push("Content-Location: "+(n.root||"file:///C:/SheetJS/")+i),a.push("Content-Transfer-Encoding: "+(m?"quoted-printable":"base64")),a.push("Content-Type: "+ie(o,i)),a.push(""),a.push(m?le(u):oe(u))}return a.push(r+"--\r\n"),a.join("\r\n")}(e,n);if(f(e),"zip"===n.fileType)return function(e,t){var n=t||{},r=[],s=[],i=GN(1),o=n.compression?8:0,l=0;0;var c=0,u=0,h=0,d=0,f=e.FullPaths[0],p=f,m=e.FileIndex[0],g=[],v=0;for(c=1;c<e.FullPaths.length;++c)if(p=e.FullPaths[c].slice(f.length),(m=e.FileIndex[c]).size&&m.content&&"\x01Sh33tJ5"!=p){var y=h,b=GN(p.length);for(u=0;u<p.length;++u)b.write_shift(1,127&p.charCodeAt(u));b=b.slice(0,b.l),g[d]=Y_.buf(m.content,0);var x=m.content;8==o&&(x=T(x)),(i=GN(30)).write_shift(4,67324752),i.write_shift(2,20),i.write_shift(2,l),i.write_shift(2,o),m.mt?a(i,m.mt):i.write_shift(4,0),i.write_shift(-4,8&l?0:g[d]),i.write_shift(4,8&l?0:x.length),i.write_shift(4,8&l?0:m.content.length),i.write_shift(2,b.length),i.write_shift(2,0),h+=i.length,r.push(i),h+=b.length,r.push(b),h+=x.length,r.push(x),8&l&&((i=GN(12)).write_shift(-4,g[d]),i.write_shift(4,x.length),i.write_shift(4,m.content.length),h+=i.l,r.push(i)),(i=GN(46)).write_shift(4,33639248),i.write_shift(2,0),i.write_shift(2,20),i.write_shift(2,l),i.write_shift(2,o),i.write_shift(4,0),i.write_shift(-4,g[d]),i.write_shift(4,x.length),i.write_shift(4,m.content.length),i.write_shift(2,b.length),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(4,0),i.write_shift(4,y),v+=i.l,s.push(i),v+=b.length,s.push(b),++d}return i=GN(22),i.write_shift(4,101010256),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,d),i.write_shift(2,d),i.write_shift(4,v),i.write_shift(4,h),i.write_shift(2,0),t_([t_(r),t_(s),i])}(e,n);var r=function(e){for(var t=0,n=0,r=0;r<e.FileIndex.length;++r){var a=e.FileIndex[r];if(a.content){var s=a.content.length;s>0&&(s<4096?t+=s+63>>6:n+=s+511>>9)}}for(var i=e.FullPaths.length+3>>2,o=t+127>>7,l=(t+7>>3)+n+i+o,c=l+127>>7,u=c<=109?0:Math.ceil((c-109)/127);l+c+u+127>>7>c;)u=++c<=109?0:Math.ceil((c-109)/127);var h=[1,u,c,o,i,n,t,0];return e.FileIndex[0].size=t<<6,h[7]=(e.FileIndex[0].start=h[0]+h[1]+h[2]+h[3]+h[4]+h[5])+(h[6]+7>>3),h}(e),s=GN(r[7]<<9),i=0,o=0;for(i=0;i<8;++i)s.write_shift(1,b[i]);for(i=0;i<8;++i)s.write_shift(2,0);for(s.write_shift(2,62),s.write_shift(2,3),s.write_shift(2,65534),s.write_shift(2,9),s.write_shift(2,6),i=0;i<3;++i)s.write_shift(2,0);for(s.write_shift(4,0),s.write_shift(4,r[2]),s.write_shift(4,r[0]+r[1]+r[2]+r[3]-1),s.write_shift(4,0),s.write_shift(4,4096),s.write_shift(4,r[3]?r[0]+r[1]+r[2]-1:v),s.write_shift(4,r[3]),s.write_shift(-4,r[1]?r[0]-1:v),s.write_shift(4,r[1]),i=0;i<109;++i)s.write_shift(-4,i<r[2]?r[1]+i:-1);if(r[1])for(o=0;o<r[1];++o){for(;i<236+127*o;++i)s.write_shift(-4,i<r[2]?r[1]+i:-1);s.write_shift(-4,o===r[1]-1?v:o+1)}var l=function(e){for(o+=e;i<o-1;++i)s.write_shift(-4,i+1);e&&(++i,s.write_shift(-4,v))};for(o=i=0,o+=r[1];i<o;++i)s.write_shift(-4,w.DIFSECT);for(o+=r[2];i<o;++i)s.write_shift(-4,w.FATSECT);l(r[3]),l(r[4]);for(var c=0,u=0,h=e.FileIndex[0];c<e.FileIndex.length;++c)(h=e.FileIndex[c]).content&&((u=h.content.length)<4096||(h.start=o,l(u+511>>9)));for(l(r[6]+7>>3);511&s.l;)s.write_shift(-4,w.ENDOFCHAIN);for(o=i=0,c=0;c<e.FileIndex.length;++c)(h=e.FileIndex[c]).content&&(!(u=h.content.length)||u>=4096||(h.start=o,l(u+63>>6)));for(;511&s.l;)s.write_shift(-4,w.ENDOFCHAIN);for(i=0;i<r[4]<<2;++i){var d=e.FullPaths[i];if(d&&0!==d.length){h=e.FileIndex[i],0===i&&(h.start=h.size?h.start-1:v);var p=0===i&&n.root||h.name;if(u=2*(p.length+1),s.write_shift(64,p,"utf16le"),s.write_shift(2,u),s.write_shift(1,h.type),s.write_shift(1,h.color),s.write_shift(-4,h.L),s.write_shift(-4,h.R),s.write_shift(-4,h.C),h.clsid)s.write_shift(16,h.clsid,"hex");else for(c=0;c<4;++c)s.write_shift(4,0);s.write_shift(4,h.state||0),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,h.start),s.write_shift(4,h.size),s.write_shift(4,0)}else{for(c=0;c<17;++c)s.write_shift(4,0);for(c=0;c<3;++c)s.write_shift(4,-1);for(c=0;c<12;++c)s.write_shift(4,0)}}for(i=1;i<e.FileIndex.length;++i)if((h=e.FileIndex[i]).size>=4096)if(s.l=h.start+1<<9,KS&&Buffer.isBuffer(h.content))h.content.copy(s,s.l,0,h.size),s.l+=h.size+511&-512;else{for(c=0;c<h.size;++c)s.write_shift(1,h.content[c]);for(;511&c;++c)s.write_shift(1,0)}for(i=1;i<e.FileIndex.length;++i)if((h=e.FileIndex[i]).size>0&&h.size<4096)if(KS&&Buffer.isBuffer(h.content))h.content.copy(s,s.l,0,h.size),s.l+=h.size+63&-64;else{for(c=0;c<h.size;++c)s.write_shift(1,h.content[c]);for(;63&c;++c)s.write_shift(1,0)}if(KS)s.l=s.length;else for(;s.l<s.length;)s.write_shift(1,0);return s}t.version="1.2.1";var m,g=64,v=-2,y="d0cf11e0a1b11ae1",b=[208,207,17,224,161,177,26,225],x="00000000000000000000000000000000",w={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:v,FREESECT:-1,HEADER_SIGNATURE:y,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:x,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function E(e){for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function T(e){return m?m.deflateRawSync(e):K(e)}var k=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],_=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function C(e){var t=139536&(e<<1|e<<11)|558144&(e<<5|e<<15);return 255&(t>>16|t>>8|t)}for(var N="undefined"!==typeof Uint8Array,A=N?new Uint8Array(256):[],I=0;I<256;++I)A[I]=C(I);function R(e,t){var n=A[255&e];return t<=8?n>>>8-t:(n=n<<8|A[e>>8&255],t<=16?n>>>16-t:(n=n<<8|A[e>>16&255])>>>24-t)}function P(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=6?0:e[r+1]<<8))>>>n&3}function O(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=5?0:e[r+1]<<8))>>>n&7}function D(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=3?0:e[r+1]<<8))>>>n&31}function M(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=1?0:e[r+1]<<8))>>>n&127}function j(e,t,n){var r=7&t,a=t>>>3,s=(1<<n)-1,i=e[a]>>>r;return n<8-r?i&s:(i|=e[a+1]<<8-r,n<16-r?i&s:(i|=e[a+2]<<16-r,n<24-r?i&s:(i|=e[a+3]<<24-r)&s))}function L(e,t,n){var r=7&t,a=t>>>3;return r<=5?e[a]|=(7&n)<<r:(e[a]|=n<<r&255,e[a+1]=(7&n)>>8-r),t+3}function F(e,t,n){return n=(1&n)<<(7&t),e[t>>>3]|=n,t+1}function U(e,t,n){var r=t>>>3;return n<<=7&t,e[r]|=255&n,n>>>=8,e[r+1]=n,t+8}function V(e,t,n){var r=t>>>3;return n<<=7&t,e[r]|=255&n,n>>>=8,e[r+1]=255&n,e[r+2]=n>>>8,t+16}function B(e,t){var n=e.length,r=2*n>t?2*n:t+5,a=0;if(n>=t)return e;if(KS){var s=QS(r);if(e.copy)e.copy(s);else for(;a<e.length;++a)s[a]=e[a];return s}if(N){var i=new Uint8Array(r);if(i.set)i.set(e);else for(;a<n;++a)i[a]=e[a];return i}return e.length=r,e}function z(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=0;return t}function $(e,t,n){var r=1,a=0,s=0,i=0,o=0,l=e.length,c=N?new Uint16Array(32):z(32);for(s=0;s<32;++s)c[s]=0;for(s=l;s<n;++s)e[s]=0;l=e.length;var u=N?new Uint16Array(l):z(l);for(s=0;s<l;++s)c[a=e[s]]++,r<a&&(r=a),u[s]=0;for(c[0]=0,s=1;s<=r;++s)c[s+16]=o=o+c[s-1]<<1;for(s=0;s<l;++s)0!=(o=e[s])&&(u[s]=c[o+16]++);var h=0;for(s=0;s<l;++s)if(0!=(h=e[s]))for(o=R(u[s],r)>>r-h,i=(1<<r+4-h)-1;i>=0;--i)t[o|i<<h]=15&h|s<<4;return r}var H=N?new Uint16Array(512):z(512),W=N?new Uint16Array(32):z(32);if(!N){for(var q=0;q<512;++q)H[q]=0;for(q=0;q<32;++q)W[q]=0}!function(){for(var e=[],t=0;t<32;t++)e.push(5);$(e,W,32);var n=[];for(t=0;t<=143;t++)n.push(8);for(;t<=255;t++)n.push(9);for(;t<=279;t++)n.push(7);for(;t<=287;t++)n.push(8);$(n,H,288)}();var G=function(){for(var e=N?new Uint8Array(32768):[],t=0,n=0;t<_.length-1;++t)for(;n<_[t+1];++n)e[n]=t;for(;n<32768;++n)e[n]=29;var r=N?new Uint8Array(259):[];for(t=0,n=0;t<S.length-1;++t)for(;n<S[t+1];++n)r[n]=t;return function(t,n){return t.length<8?function(e,t){for(var n=0;n<e.length;){var r=Math.min(65535,e.length-n),a=n+r==e.length;for(t.write_shift(1,+a),t.write_shift(2,r),t.write_shift(2,65535&~r);r-- >0;)t[t.l++]=e[n++]}return t.l}(t,n):function(t,n){for(var a=0,s=0,i=N?new Uint16Array(32768):[];s<t.length;){var o=Math.min(65535,t.length-s);if(o<10){for(7&(a=L(n,a,+!(s+o!=t.length)))&&(a+=8-(7&a)),n.l=a/8|0,n.write_shift(2,o),n.write_shift(2,65535&~o);o-- >0;)n[n.l++]=t[s++];a=8*n.l}else{a=L(n,a,+!(s+o!=t.length)+2);for(var l=0;o-- >0;){var c=t[s],u=-1,h=0;if((u=i[l=32767&(l<<5^c)])&&((u|=-32768&s)>s&&(u-=32768),u<s))for(;t[u+h]==t[s+h]&&h<250;)++h;if(h>2){(c=r[h])<=22?a=U(n,a,A[c+1]>>1)-1:(U(n,a,3),U(n,a+=5,A[c-23]>>5),a+=3);var d=c<8?0:c-4>>2;d>0&&(V(n,a,h-S[c]),a+=d),c=e[s-u],a=U(n,a,A[c]>>3),a-=3;var f=c<4?0:c-2>>1;f>0&&(V(n,a,s-u-_[c]),a+=f);for(var p=0;p<h;++p)i[l]=32767&s,l=32767&(l<<5^t[s]),++s;o-=h-1}else c<=143?c+=48:a=F(n,a,1),a=U(n,a,A[c]),i[l]=32767&s,++s}a=U(n,a,0)-1}}return n.l=(a+7)/8|0,n.l}(t,n)}}();function K(e){var t=GN(50+Math.floor(1.1*e.length)),n=G(e,t);return t.slice(0,n)}var X=N?new Uint16Array(32768):z(32768),Y=N?new Uint16Array(32768):z(32768),Q=N?new Uint16Array(128):z(128),J=1,Z=1;function ee(e,t){var n=D(e,t)+257,r=D(e,t+=5)+1,a=function(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=4?0:e[r+1]<<8))>>>n&15}(e,t+=5)+4;t+=4;for(var s=0,i=N?new Uint8Array(19):z(19),o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=1,c=N?new Uint8Array(8):z(8),u=N?new Uint8Array(8):z(8),h=i.length,d=0;d<a;++d)i[k[d]]=s=O(e,t),l<s&&(l=s),c[s]++,t+=3;var f=0;for(c[0]=0,d=1;d<=l;++d)u[d]=f=f+c[d-1]<<1;for(d=0;d<h;++d)0!=(f=i[d])&&(o[d]=u[f]++);var p=0;for(d=0;d<h;++d)if(0!=(p=i[d])){f=A[o[d]]>>8-p;for(var m=(1<<7-p)-1;m>=0;--m)Q[f|m<<p]=7&p|d<<3}var g=[];for(l=1;g.length<n+r;)switch(t+=7&(f=Q[M(e,t)]),f>>>=3){case 16:for(s=3+P(e,t),t+=2,f=g[g.length-1];s-- >0;)g.push(f);break;case 17:for(s=3+O(e,t),t+=3;s-- >0;)g.push(0);break;case 18:for(s=11+M(e,t),t+=7;s-- >0;)g.push(0);break;default:g.push(f),l<f&&(l=f)}var v=g.slice(0,n),y=g.slice(n);for(d=n;d<286;++d)v[d]=0;for(d=r;d<30;++d)y[d]=0;return J=$(v,X,286),Z=$(y,Y,30),t}function te(e,t){var n=function(e,t){if(3==e[0]&&!(3&e[1]))return[YS(t),2];for(var n=0,r=0,a=QS(t||1<<18),s=0,i=a.length>>>0,o=0,l=0;0==(1&r);)if(r=O(e,n),n+=3,r>>>1!=0)for(r>>1==1?(o=9,l=5):(n=ee(e,n),o=J,l=Z);;){!t&&i<s+32767&&(i=(a=B(a,s+32767)).length);var c=j(e,n,o),u=r>>>1==1?H[c]:X[c];if(n+=15&u,0===((u>>>=4)>>>8&255))a[s++]=u;else{if(256==u)break;var h=(u-=257)<8?0:u-4>>2;h>5&&(h=0);var d=s+S[u];h>0&&(d+=j(e,n,h),n+=h),c=j(e,n,l),n+=15&(u=r>>>1==1?W[c]:Y[c]);var f=(u>>>=4)<4?0:u-2>>1,p=_[u];for(f>0&&(p+=j(e,n,f),n+=f),!t&&i<d&&(i=(a=B(a,d+100)).length);s<d;)a[s]=a[s-p],++s}}else{7&n&&(n+=8-(7&n));var m=e[n>>>3]|e[1+(n>>>3)]<<8;if(n+=32,m>0)for(!t&&i<s+m&&(i=(a=B(a,s+m)).length);m-- >0;)a[s++]=e[n>>>3],n+=8}return t?[a,n+7>>>3]:[a.slice(0,s),n+7>>>3]}(e.slice(e.l||0),t);return e.l+=n[1],n[0]}function ne(e,t){if(!e)throw new Error(t);"undefined"!==typeof console&&console.error(t)}function re(e,t){var n=e;WN(n,0);var r={FileIndex:[],FullPaths:[]};d(r,{root:t.root});for(var a=n.length-4;(80!=n[a]||75!=n[a+1]||5!=n[a+2]||6!=n[a+3])&&a>=0;)--a;n.l=a+4,n.l+=4;var i=n.read_shift(2);n.l+=6;var o=n.read_shift(4);for(n.l=o,a=0;a<i;++a){n.l+=20;var l=n.read_shift(4),c=n.read_shift(4),u=n.read_shift(2),h=n.read_shift(2),f=n.read_shift(2);n.l+=8;var p=n.read_shift(4),m=s(n.slice(n.l+u,n.l+u+h));n.l+=u+h+f;var g=n.l;n.l=p+4,ae(n,l,c,r,m),n.l=g}return r}function ae(e,t,n,r,a){e.l+=2;var i=e.read_shift(2),o=e.read_shift(2),l=function(e){var t=65535&e.read_shift(2),n=65535&e.read_shift(2),r=new Date,a=31&n,s=15&(n>>>=5);n>>>=4,r.setMilliseconds(0),r.setFullYear(n+1980),r.setMonth(s-1),r.setDate(a);var i=31&t,o=63&(t>>>=5);return t>>>=6,r.setHours(t),r.setMinutes(o),r.setSeconds(i<<1),r}(e);if(8257&i)throw new Error("Unsupported ZIP encryption");e.read_shift(4);for(var c=e.read_shift(4),u=e.read_shift(4),h=e.read_shift(2),d=e.read_shift(2),f="",p=0;p<h;++p)f+=String.fromCharCode(e[e.l++]);if(d){var g=s(e.slice(e.l,e.l+d));(g[21589]||{}).mt&&(l=g[21589].mt),((a||{})[21589]||{}).mt&&(l=a[21589].mt)}e.l+=d;var v=e.slice(e.l,e.l+c);switch(o){case 8:v=function(e,t){if(!m)return te(e,t);var n=new(0,m.InflateRaw),r=n._processChunk(e.slice(e.l),n._finishFlushFlag);return e.l+=n.bytesRead,r}(e,u);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+o)}var y=!1;8&i&&(134695760==e.read_shift(4)&&(e.read_shift(4),y=!0),c=e.read_shift(4),u=e.read_shift(4)),c!=t&&ne(y,"Bad compressed size: "+t+" != "+c),u!=n&&ne(y,"Bad uncompressed size: "+n+" != "+u),ue(r,f,v,{unsafe:!0,mt:l})}var se={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ie(e,t){if(e.ctype)return e.ctype;var n=e.name||"",r=n.match(/\.([^\.]+)$/);return r&&se[r[1]]||t&&(r=(n=t).match(/[\.\\]([^\.\\])+$/))&&se[r[1]]?se[r[1]]:"application/octet-stream"}function oe(e){for(var t=qS(e),n=[],r=0;r<t.length;r+=76)n.push(t.slice(r,r+76));return n.join("\r\n")+"\r\n"}function le(e){var t=e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,(function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"="+(1==t.length?"0"+t:t)}));"\n"==(t=t.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(t="=0D"+t.slice(1));for(var n=[],r=(t=t.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),a=0;a<r.length;++a){var s=r[a];if(0!=s.length)for(var i=0;i<s.length;){var o=76,l=s.slice(i,i+o);"="==l.charAt(o-1)?o--:"="==l.charAt(o-2)?o-=2:"="==l.charAt(o-3)&&(o-=3),l=s.slice(i,i+o),(i+=o)<s.length&&(l+="="),n.push(l)}else n.push("")}return n.join("\r\n")}function ce(e,t,n){for(var r,a="",s="",i="",o=0;o<10;++o){var l=t[o];if(!l||l.match(/^\s*$/))break;var c=l.match(/^(.*?):\s*([^\s].*)$/);if(c)switch(c[1].toLowerCase()){case"content-location":a=c[2].trim();break;case"content-type":i=c[2].trim();break;case"content-transfer-encoding":s=c[2].trim()}}switch(++o,s.toLowerCase()){case"base64":r=JS(GS(t.slice(o).join("")));break;case"quoted-printable":r=function(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n];n<=e.length&&"="==r.charAt(r.length-1);)r=r.slice(0,r.length-1)+e[++n];t.push(r)}for(var a=0;a<t.length;++a)t[a]=t[a].replace(/[=][0-9A-Fa-f]{2}/g,(function(e){return String.fromCharCode(parseInt(e.slice(1),16))}));return JS(t.join("\r\n"))}(t.slice(o));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+s)}var u=ue(e,a.slice(n.length),r,{unsafe:!0});i&&(u.ctype=i)}function ue(e,t,n,a){var s=a&&a.unsafe;s||d(e);var i=!s&&Q_.find(e,t);if(!i){var o=e.FullPaths[0];t.slice(0,o.length)==o?o=t:("/"!=o.slice(-1)&&(o+="/"),o=(o+t).replace("//","/")),i={name:r(t),type:2},e.FileIndex.push(i),e.FullPaths.push(o),s||Q_.utils.cfb_gc(e)}return i.content=n,i.size=n?n.length:0,a&&(a.CLSID&&(i.clsid=a.CLSID),a.mt&&(i.mt=a.mt),a.ct&&(i.ct=a.ct)),i}return t.find=function(e,t){var n=e.FullPaths.map((function(e){return e.toUpperCase()})),r=n.map((function(e){var t=e.split("/");return t[t.length-("/"==e.slice(-1)?2:1)]})),a=!1;47===t.charCodeAt(0)?(a=!0,t=n[0].slice(0,-1)+t):a=-1!==t.indexOf("/");var s=t.toUpperCase(),i=!0===a?n.indexOf(s):r.indexOf(s);if(-1!==i)return e.FileIndex[i];var o=!s.match(r_);for(s=s.replace(n_,""),o&&(s=s.replace(r_,"!")),i=0;i<n.length;++i){if((o?n[i].replace(r_,"!"):n[i]).replace(n_,"")==s)return e.FileIndex[i];if((o?r[i].replace(r_,"!"):r[i]).replace(n_,"")==s)return e.FileIndex[i]}return null},t.read=function(t,n){var r=n&&n.type;switch(r||KS&&Buffer.isBuffer(t)&&(r="buffer"),r||"base64"){case"file":return function(t,n){return i(),o(e.readFileSync(t),n)}(t,n);case"base64":return o(JS(GS(t)),n);case"binary":return o(JS(t),n)}return o(t,n)},t.parse=o,t.write=function(t,n){var r=p(t,n);switch(n&&n.type||"buffer"){case"file":return i(),e.writeFileSync(n.filename,r),r;case"binary":return"string"==typeof r?r:E(r);case"base64":return qS("string"==typeof r?r:E(r));case"buffer":if(KS)return Buffer.isBuffer(r)?r:XS(r);case"array":return"string"==typeof r?JS(r):r}return r},t.writeFile=function(t,n,r){i();var a=p(t,r);e.writeFileSync(n,a)},t.utils={cfb_new:function(e){var t={};return d(t,e),t},cfb_add:ue,cfb_del:function(e,t){d(e);var n=Q_.find(e,t);if(n)for(var r=0;r<e.FileIndex.length;++r)if(e.FileIndex[r]==n)return e.FileIndex.splice(r,1),e.FullPaths.splice(r,1),!0;return!1},cfb_mov:function(e,t,n){d(e);var a=Q_.find(e,t);if(a)for(var s=0;s<e.FileIndex.length;++s)if(e.FileIndex[s]==a)return e.FileIndex[s].name=r(n),e.FullPaths[s]=n,!0;return!1},cfb_gc:function(e){f(e,!0)},ReadShift:UN,CheckField:HN,prep_blob:WN,bconcat:t_,use_zlib:function(e){try{var t=new(0,e.InflateRaw);if(t._processChunk(new Uint8Array([3,0]),t._finishFlushFlag),!t.bytesRead)throw new Error("zlib does not expose bytesRead");m=e}catch(Pm){console.error("cannot use native zlib: "+(Pm.message||Pm))}},_deflateRaw:K,_inflateRaw:te,consts:w},t}();let J_;function Z_(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function eC(e){for(var t=[],n=Z_(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}var tC=new Date(1899,11,30,0,0,0);function nC(e,t){var n=e.getTime();return t&&(n-=1263168e5),(n-(tC.getTime()+6e4*(e.getTimezoneOffset()-tC.getTimezoneOffset())))/864e5}var rC=new Date,aC=tC.getTime()+6e4*(rC.getTimezoneOffset()-tC.getTimezoneOffset()),sC=rC.getTimezoneOffset();function iC(e){var t=new Date;return t.setTime(24*e*60*60*1e3+aC),t.getTimezoneOffset()!==sC&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-sC)),t}function oC(e){var t=0,n=0,r=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=a.length;++s)if(a[s]){switch(n=1,s>3&&(r=!0),a[s].slice(a[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[s].slice(a[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(!r)throw new Error("Unsupported ISO Duration Field: M");n*=60}t+=n*parseInt(a[s],10)}return t}var lC=new Date("2017-02-19T19:06:09.000Z"),cC=isNaN(lC.getFullYear())?new Date("2/19/17"):lC,uC=2017==cC.getFullYear();function hC(e,t){var n=new Date(e);if(uC)return t>0?n.setTime(n.getTime()+60*n.getTimezoneOffset()*1e3):t<0&&n.setTime(n.getTime()-60*n.getTimezoneOffset()*1e3),n;if(e instanceof Date)return e;if(1917==cC.getFullYear()&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-60*s.getTimezoneOffset()*1e3)),s}function dC(e,t){if(KS&&Buffer.isBuffer(e)){if(t){if(255==e[0]&&254==e[1])return QC(e.slice(2).toString("utf16le"));if(254==e[1]&&255==e[2])return QC(VS(e.slice(2).toString("binary")))}return e.toString("binary")}if("undefined"!==typeof TextDecoder)try{if(t){if(255==e[0]&&254==e[1])return QC(new TextDecoder("utf-16le").decode(e.slice(2)));if(254==e[0]&&255==e[1])return QC(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"\u20ac":"\x80","\u201a":"\x82","\u0192":"\x83","\u201e":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87","\u02c6":"\x88","\u2030":"\x89","\u0160":"\x8a","\u2039":"\x8b","\u0152":"\x8c","\u017d":"\x8e","\u2018":"\x91","\u2019":"\x92","\u201c":"\x93","\u201d":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02dc":"\x98","\u2122":"\x99","\u0161":"\x9a","\u203a":"\x9b","\u0153":"\x9c","\u017e":"\x9e","\u0178":"\x9f"};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[\u20ac\u201a\u0192\u201e\u2026\u2020\u2021\u02c6\u2030\u0160\u2039\u0152\u017d\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u02dc\u2122\u0161\u203a\u0153\u017e\u0178]/g,(function(e){return n[e]||e}))}catch(Pm){}for(var r=[],a=0;a!=e.length;++a)r.push(String.fromCharCode(e[a]));return r.join("")}function fC(e){if("undefined"!=typeof JSON&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=fC(e[n]));return t}function pC(e,t){for(var n="";n.length<t;)n+=e;return n}function mC(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,(function(){return n*=100,""}));return isNaN(t=Number(r))?(r=r.replace(/[(](.*)[)]/,(function(e,t){return n=-n,t})),isNaN(t=Number(r))?t:t/n):t/n}var gC=["january","february","march","april","may","june","july","august","september","october","november","december"];function vC(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return n;var i=e.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==gC.indexOf(i))return n}else if(i.match(/[a-z]/))return n;return r<0||r>8099?n:(a>0||s>1)&&101!=r?t:e.match(/[^-0-9:,\/\\]/)?n:t}var yC=function(){var e=5=="abacaba".split(/(:?b)/i).length;return function(t,n,r){if(e||"string"==typeof n)return t.split(n);for(var a=t.split(n),s=[a[0]],i=1;i<a.length;++i)s.push(r),s.push(a[i]);return s}}();function bC(e){return e?e.content&&e.type?dC(e.content,!0):e.data?zS(e.data):e.asNodeBuffer&&KS?zS(e.asNodeBuffer().toString("binary")):e.asBinary?zS(e.asBinary()):e._data&&e._data.getContent?zS(dC(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function xC(e){if(!e)return null;if(e.data)return US(e.data);if(e.asNodeBuffer&&KS)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return"string"==typeof t?US(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function wC(e,t){for(var n=e.FullPaths||Z_(e.files),r=t.toLowerCase().replace(/[\/]/g,"\\"),a=r.replace(/\\/g,"/"),s=0;s<n.length;++s){var i=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==i||a==i)return e.files?e.files[n[s]]:e.FileIndex[s]}return null}function EC(e,t){var n=wC(e,t);if(null==n)throw new Error("Cannot find file "+t+" in zip");return n}function TC(e,t,n){if(!n)return function(e){return e&&".bin"===e.name.slice(-4)?xC(e):bC(e)}(EC(e,t));if(!t)return null;try{return TC(e,t)}catch(Pm){return null}}function kC(e,t,n){if(!n)return bC(EC(e,t));if(!t)return null;try{return kC(e,t)}catch(Pm){return null}}function SC(e,t,n){if(!n)return xC(EC(e,t));if(!t)return null;try{return SC(e,t)}catch(Pm){return null}}function _C(e){for(var t=e.FullPaths||Z_(e.files),n=[],r=0;r<t.length;++r)"/"!=t[r].slice(-1)&&n.push(t[r].replace(/^Root Entry[\/]/,""));return n.sort()}function CC(e,t,n){if(e.FullPaths){var r;if("string"==typeof n)return r=KS?XS(n):function(e){for(var t=[],n=0,r=e.length+250,a=YS(e.length+255),s=0;s<e.length;++s){var i=e.charCodeAt(s);if(i<128)a[n++]=i;else if(i<2048)a[n++]=192|i>>6&31,a[n++]=128|63&i;else if(i>=55296&&i<57344){i=64+(1023&i);var o=1023&e.charCodeAt(++s);a[n++]=240|i>>8&7,a[n++]=128|i>>2&63,a[n++]=128|o>>6&15|(3&i)<<4,a[n++]=128|63&o}else a[n++]=224|i>>12&15,a[n++]=128|i>>6&63,a[n++]=128|63&i;n>r&&(t.push(a.slice(0,n)),n=0,a=YS(65535),r=65530)}return t.push(a.slice(0,n)),t_(t)}(n),Q_.utils.cfb_add(e,t,r);Q_.utils.cfb_add(e,t,n)}else e.file(t,n)}function NC(e,t){switch(t.type){case"base64":return Q_.read(e,{type:"base64"});case"binary":return Q_.read(e,{type:"binary"});case"buffer":case"array":return Q_.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function AC(e,t){if("/"==e.charAt(0))return e.slice(1);var n=t.split("/");"/"!=t.slice(-1)&&n.pop();for(var r=e.split("/");0!==r.length;){var a=r.shift();".."===a?n.pop():"."!==a&&n.push(a)}return n.join("/")}var IC='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',RC=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,PC=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/gm,OC=IC.match(PC)?PC:/<[^>]*>/g,DC=/<\w*:/,MC=/<(\/?)\w+:/;function jC(e,t,n){for(var r={},a=0,s=0;a!==e.length&&(32!==(s=e.charCodeAt(a))&&10!==s&&13!==s);++a);if(t||(r[0]=e.slice(0,a)),a===e.length)return r;var i=e.match(RC),o=0,l="",c=0,u="",h="",d=1;if(i)for(c=0;c!=i.length;++c){for(h=i[c],s=0;s!=h.length&&61!==h.charCodeAt(s);++s);for(u=h.slice(0,s).trim();32==h.charCodeAt(s+1);)++s;for(d=34==(a=h.charCodeAt(s+1))||39==a?1:0,l=h.slice(s+1+d,h.length-d),o=0;o!=u.length&&58!==u.charCodeAt(o);++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),r[u]=l,n||(r[u.toLowerCase()]=l);else{var f=(5===o&&"xmlns"===u.slice(0,5)?"xmlns":"")+u.slice(o+1);if(r[f]&&"ext"==u.slice(o-3,o))continue;r[f]=l,n||(r[f.toLowerCase()]=l)}}return r}function LC(e){return e.replace(MC,"<$1")}var FC={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},UC=eC(FC),VC=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/gi,t=/_x([\da-fA-F]{4})_/gi;return function n(r){var a=r+"",s=a.indexOf("<![CDATA[");if(-1==s)return a.replace(e,(function(e,t){return FC[e]||String.fromCharCode(parseInt(t,e.indexOf("x")>-1?16:10))||e})).replace(t,(function(e,t){return String.fromCharCode(parseInt(t,16))}));var i=a.indexOf("]]>");return n(a.slice(0,s))+a.slice(s+9,i)+n(a.slice(i+3))}}(),BC=/[&<>'"]/g;var zC=/[\u0000-\u001f]/g;function $C(e){return(e+"").replace(BC,(function(e){return UC[e]})).replace(/\n/g,"<br/>").replace(zC,(function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"}))}var HC=function(){var e=/&#(\d+);/g;function t(e,t){return String.fromCharCode(parseInt(t,10))}return function(n){return n.replace(e,t)}}();function WC(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function qC(e){for(var t="",n=0,r=0,a=0,s=0,i=0,o=0;n<e.length;)(r=e.charCodeAt(n++))<128?t+=String.fromCharCode(r):(a=e.charCodeAt(n++),r>191&&r<224?(i=(31&r)<<6,i|=63&a,t+=String.fromCharCode(i)):(s=e.charCodeAt(n++),r<240?t+=String.fromCharCode((15&r)<<12|(63&a)<<6|63&s):(o=((7&r)<<18|(63&a)<<12|(63&s)<<6|63&(i=e.charCodeAt(n++)))-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(1023&o)))));return t}function GC(e){var t,n,r,a=YS(2*e.length),s=1,i=0,o=0;for(n=0;n<e.length;n+=s)s=1,(r=e.charCodeAt(n))<128?t=r:r<224?(t=64*(31&r)+(63&e.charCodeAt(n+1)),s=2):r<240?(t=4096*(15&r)+64*(63&e.charCodeAt(n+1))+(63&e.charCodeAt(n+2)),s=3):(s=4,t=262144*(7&r)+4096*(63&e.charCodeAt(n+1))+64*(63&e.charCodeAt(n+2))+(63&e.charCodeAt(n+3)),o=55296+((t-=65536)>>>10&1023),t=56320+(1023&t)),0!==o&&(a[i++]=255&o,a[i++]=o>>>8,o=0),a[i++]=t%256,a[i++]=t>>>8;return a.slice(0,i).toString("ucs2")}function KC(e){return XS(e,"binary").toString("utf8")}var XC="foo bar baz\xe2\x98\x83\xf0\x9f\x8d\xa3",YC=KS&&(KC(XC)==qC(XC)&&KC||GC(XC)==qC(XC)&&GC)||qC,QC=KS?function(e){return XS(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,a=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(63&r)));break;case r>=55296&&r<57344:r-=55296,a=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(63&a)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(63&r)))}return t.join("")},JC=function(){var e={};return function(t,n){var r=t+"|"+(n||"");return e[r]?e[r]:e[r]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",n||"")}}(),ZC=function(){var e=[["nbsp"," "],["middot","\xb7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map((function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]}));return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),r=0;r<e.length;++r)n=n.replace(e[r][0],e[r][1]);return n}}(),eN=function(){var e={};return function(t){return void 0!==e[t]?e[t]:e[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}}(),tN=/<\/?(?:vt:)?variant>/g,nN=/<(?:vt:)([^>]*)>([\s\S]*)</;function rN(e,t){var n=jC(e),r=e.match(eN(n.baseType))||[],a=[];if(r.length!=n.size){if(t.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return a}return r.forEach((function(e){var t=e.replace(tN,"").match(nN);t&&a.push({v:YC(t[2]),t:t[1]})})),a}var aN=/(^\s|\s$|\n)/;function sN(e){return Z_(e).map((function(t){return" "+t+'="'+e[t]+'"'})).join("")}function iN(e,t,n){return"<"+e+(null!=n?sN(n):"")+(null!=t?(t.match(aN)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function oN(e){if(KS&&Buffer.isBuffer(e))return e.toString("utf8");if("string"===typeof e)return e;if("undefined"!==typeof Uint8Array&&e instanceof Uint8Array)return YC(ZS(e_(e)));throw new Error("Bad input format: expected Buffer or string")}var lN=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/gm,cN="http://schemas.openxmlformats.org/package/2006/content-types",uN=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];var hN=function(e){for(var t=[],n=0;n<e[0].length;++n)if(e[0][n])for(var r=0,a=e[0][n].length;r<a;r+=10240)t.push.apply(t,e[0][n].slice(r,r+10240));return t},dN=KS?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map((function(e){return Buffer.isBuffer(e)?e:XS(e)}))):hN(e)}:hN,fN=function(e,t,n){for(var r=[],a=t;a<n;a+=2)r.push(String.fromCharCode(DN(e,a)));return r.join("").replace(n_,"")},pN=KS?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(n_,""):fN(e,t,n)}:fN,mN=function(e,t,n){for(var r=[],a=t;a<t+n;++a)r.push(("0"+e[a].toString(16)).slice(-2));return r.join("")},gN=KS?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):mN(e,t,n)}:mN,vN=function(e,t,n){for(var r=[],a=t;a<n;a++)r.push(String.fromCharCode(ON(e,a)));return r.join("")},yN=KS?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):vN(e,t,n)}:vN,bN=function(e,t){var n=jN(e,t);return n>0?yN(e,t+4,t+4+n-1):""},xN=bN,wN=function(e,t){var n=jN(e,t);return n>0?yN(e,t+4,t+4+n-1):""},EN=wN,TN=function(e,t){var n=2*jN(e,t);return n>0?yN(e,t+4,t+4+n-1):""},kN=TN,SN=function(e,t){var n=jN(e,t);return n>0?pN(e,t+4,t+4+n):""},_N=SN,CN=function(e,t){var n=jN(e,t);return n>0?yN(e,t+4,t+4+n):""},NN=CN,AN=function(e,t){return function(e,t){for(var n=1-2*(e[t+7]>>>7),r=((127&e[t+7])<<4)+(e[t+6]>>>4&15),a=15&e[t+6],s=5;s>=0;--s)a=256*a+e[t+s];return 2047==r?0==a?n*(1/0):NaN:(0==r?r=-1022:(r-=1023,a+=Math.pow(2,52)),n*Math.pow(2,r-52)*a)}(e,t)},IN=AN,RN=function(e){return Array.isArray(e)||"undefined"!==typeof Uint8Array&&e instanceof Uint8Array};function PN(){pN=function(e,t,n){return BS.utils.decode(1200,e.slice(t,n)).replace(n_,"")},yN=function(e,t,n){return BS.utils.decode(65001,e.slice(t,n))},xN=function(e,t){var n=jN(e,t);return n>0?BS.utils.decode(OS,e.slice(t+4,t+4+n-1)):""},EN=function(e,t){var n=jN(e,t);return n>0?BS.utils.decode(PS,e.slice(t+4,t+4+n-1)):""},kN=function(e,t){var n=2*jN(e,t);return n>0?BS.utils.decode(1200,e.slice(t+4,t+4+n-1)):""},_N=function(e,t){var n=jN(e,t);return n>0?BS.utils.decode(1200,e.slice(t+4,t+4+n)):""},NN=function(e,t){var n=jN(e,t);return n>0?BS.utils.decode(65001,e.slice(t+4,t+4+n)):""}}KS&&(xN=function(e,t){if(!Buffer.isBuffer(e))return bN(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},EN=function(e,t){if(!Buffer.isBuffer(e))return wN(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},kN=function(e,t){if(!Buffer.isBuffer(e))return TN(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},_N=function(e,t){if(!Buffer.isBuffer(e))return SN(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},NN=function(e,t){if(!Buffer.isBuffer(e))return CN(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},IN=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):AN(e,t)},RN=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||"undefined"!==typeof Uint8Array&&e instanceof Uint8Array}),"undefined"!==typeof BS&&PN();var ON=function(e,t){return e[t]},DN=function(e,t){return 256*e[t+1]+e[t]},MN=function(e,t){var n=256*e[t+1]+e[t];return n<32768?n:-1*(65535-n+1)},jN=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},LN=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},FN=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function UN(e,t){var n,r,a,s,i,o,l="",c=[];switch(t){case"dbcs":if(o=this.l,KS&&Buffer.isBuffer(this))l=this.slice(this.l,this.l+2*e).toString("utf16le");else for(i=0;i<e;++i)l+=String.fromCharCode(DN(this,o)),o+=2;e*=2;break;case"utf8":l=yN(this,this.l,this.l+e);break;case"utf16le":e*=2,l=pN(this,this.l,this.l+e);break;case"wstr":if("undefined"===typeof BS)return UN.call(this,e,"dbcs");l=BS.utils.decode(PS,this.slice(this.l,this.l+2*e)),e*=2;break;case"lpstr-ansi":l=xN(this,this.l),e=4+jN(this,this.l);break;case"lpstr-cp":l=EN(this,this.l),e=4+jN(this,this.l);break;case"lpwstr":l=kN(this,this.l),e=4+2*jN(this,this.l);break;case"lpp4":e=4+jN(this,this.l),l=_N(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+jN(this,this.l),l=NN(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":for(e=0,l="";0!==(a=ON(this,this.l+e++));)c.push($S(a));l=c.join("");break;case"_wstr":for(e=0,l="";0!==(a=DN(this,this.l+e));)c.push($S(a)),e+=2;e+=2,l=c.join("");break;case"dbcs-cont":for(l="",o=this.l,i=0;i<e;++i){if(this.lens&&-1!==this.lens.indexOf(o))return a=ON(this,o),this.l=o+1,s=UN.call(this,e-i,a?"dbcs-cont":"sbcs-cont"),c.join("")+s;c.push($S(DN(this,o))),o+=2}l=c.join(""),e*=2;break;case"cpstr":if("undefined"!==typeof BS){l=BS.utils.decode(PS,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(l="",o=this.l,i=0;i!=e;++i){if(this.lens&&-1!==this.lens.indexOf(o))return a=ON(this,o),this.l=o+1,s=UN.call(this,e-i,a?"dbcs-cont":"sbcs-cont"),c.join("")+s;c.push($S(ON(this,o))),o+=1}l=c.join("");break;default:switch(e){case 1:return n=ON(this,this.l),this.l++,n;case 2:return n=("i"===t?MN:DN)(this,this.l),this.l+=2,n;case 4:case-4:return"i"===t||0===(128&this[this.l+3])?(n=(e>0?LN:FN)(this,this.l),this.l+=4,n):(r=jN(this,this.l),this.l+=4,r);case 8:case-8:if("f"===t)return r=8==e?IN(this,this.l):IN([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;e=8;case 16:l=gN(this,this.l,e)}}return this.l+=e,l}var VN=function(e,t,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},BN=function(e,t,n){e[n]=255&t,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},zN=function(e,t,n){e[n]=255&t,e[n+1]=t>>>8&255};function $N(e,t,n){var r=0,a=0;if("dbcs"===n){for(a=0;a!=t.length;++a)zN(this,t.charCodeAt(a),this.l+2*a);r=2*t.length}else if("sbcs"===n){if("undefined"!==typeof BS&&874==OS)for(a=0;a!=t.length;++a){var s=BS.utils.encode(OS,t.charAt(a));this[this.l+a]=s[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=255&t.charCodeAt(a);r=t.length}else{if("hex"===n){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}if("utf16le"===n){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=255&o,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}switch(e){case 1:r=1,this[this.l]=255&t;break;case 2:r=2,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t;break;case 3:r=3,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t,t>>>=8,this[this.l+2]=255&t;break;case 4:r=4,VN(this,t,this.l);break;case 8:if(r=8,"f"===n){!function(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,i=r?-t:t;isFinite(i)?0==i?a=s=0:(a=Math.floor(Math.log(i)/Math.LN2),s=i*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var o=0;o<=5;++o,s/=256)e[n+o]=255&s;e[n+6]=(15&a)<<4|15&s,e[n+7]=a>>4|r}(this,t,this.l);break}case 16:break;case-4:r=4,BN(this,t,this.l)}}return this.l+=r,this}function HN(e,t){var n=gN(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function WN(e,t){e.l=t,e.read_shift=UN,e.chk=HN,e.write_shift=$N}function qN(e,t){e.l+=t}function GN(e){var t=YS(e);return WN(t,0),t}function KN(e,t,n){if(e){var r,a,s;WN(e,e.l||0);for(var i=e.length,o=0,l=0;e.l<i;){128&(o=e.read_shift(1))&&(o=(127&o)+((127&e.read_shift(1))<<7));var c=nD[o]||nD[65535];for(s=127&(r=e.read_shift(1)),a=1;a<4&&128&r;++a)s+=(127&(r=e.read_shift(1)))<<7*a;l=e.l+s;var u=c.f&&c.f(e,s,n);if(e.l=l,t(u,c,o))return}}}function XN(){var e=[],t=KS?256:2048,n=function(e){var t=GN(e);return WN(t,0),t},r=n(t),a=function(){r&&(r.length>r.l&&((r=r.slice(0,r.l)).l=r.length),r.length>0&&e.push(r),r=null)},s=function(e){return r&&e<r.length-r.l?r:(a(),r=n(Math.max(e+1,t)))};return{next:s,push:function(e){a(),null==(r=e).l&&(r.l=r.length),s(t)},end:function(){return a(),t_(e)},_bufs:e}}function YN(e,t,n){var r=fC(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function QN(e,t,n){var r=fC(e);return r.s=YN(r.s,t.s,n),r.e=YN(r.e,t.s,n),r}function JN(e,t){if(e.cRel&&e.c<0)for(e=fC(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=fC(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=sA(e);return e.cRel||null==e.cRel||(n=n.replace(/^([A-Z])/,"$$$1")),e.rRel||null==e.rRel||(n=function(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(n)),n}function ZN(e,t){return 0!=e.s.r||e.s.rRel||e.e.r!=(t.biff>=12?1048575:t.biff>=8?65536:16384)||e.e.rRel?0!=e.s.c||e.s.cRel||e.e.c!=(t.biff>=12?16383:255)||e.e.cRel?JN(e.s,t.biff)+":"+JN(e.e,t.biff):(e.s.rRel?"":"$")+tA(e.s.r)+":"+(e.e.rRel?"":"$")+tA(e.e.r):(e.s.cRel?"":"$")+rA(e.s.c)+":"+(e.e.cRel?"":"$")+rA(e.e.c)}function eA(e){return parseInt(e.replace(/\$(\d+)$/,"$1"),10)-1}function tA(e){return""+(e+1)}function nA(e){for(var t=e.replace(/^\$([A-Z])/,"$1"),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function rA(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function aA(e){for(var t=0,n=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(n=26*n+(a-64))}return{c:n-1,r:t-1}}function sA(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function iA(e){var t=e.indexOf(":");return-1==t?{s:aA(e),e:aA(e)}:{s:aA(e.slice(0,t)),e:aA(e.slice(t+1))}}function oA(e,t){return"undefined"===typeof t||"number"===typeof t?oA(e.s,e.e):("string"!==typeof e&&(e=sA(e)),"string"!==typeof t&&(t=sA(t)),e==t?e:e+":"+t)}function lA(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,a=0,s=e.length;for(n=0;r<s&&!((a=e.charCodeAt(r)-64)<1||a>26);++r)n=26*n+a;for(t.s.c=--n,n=0;r<s&&!((a=e.charCodeAt(r)-48)<0||a>9);++r)n=10*n+a;if(t.s.r=--n,r===s||10!=a)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=s&&!((a=e.charCodeAt(r)-64)<1||a>26);++r)n=26*n+a;for(t.e.c=--n,n=0;r!=s&&!((a=e.charCodeAt(r)-48)<0||a>9);++r)n=10*n+a;return t.e.r=--n,t}function cA(e,t){var n="d"==e.t&&t instanceof Date;if(null!=e.z)try{return e.w=W_(e.z,n?nC(t):t)}catch(Pm){}try{return e.w=W_((e.XF||{}).numFmtId||(n?14:0),n?nC(t):t)}catch(Pm){return""+t}}function uA(e,t,n){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),"e"==e.t?LA[e.v]||e.v:cA(e,void 0==t?e.v:t))}function hA(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function dA(e,t,n){var r=n||{},a=e?Array.isArray(e):r.dense;var s=e||(a?[]:{}),i=0,o=0;if(s&&null!=r.origin){if("number"==typeof r.origin)i=r.origin;else{var l="string"==typeof r.origin?aA(r.origin):r.origin;i=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var u=lA(s["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),-1==i&&(c.e.r=i=u.e.r+1)}for(var h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var d=0;d!=t[h].length;++d)if("undefined"!==typeof t[h][d]){var f={v:t[h][d]},p=i+h,m=o+d;if(c.s.r>p&&(c.s.r=p),c.s.c>m&&(c.s.c=m),c.e.r<p&&(c.e.r=p),c.e.c<m&&(c.e.c=m),!t[h][d]||"object"!==typeof t[h][d]||Array.isArray(t[h][d])||t[h][d]instanceof Date)if(Array.isArray(f.v)&&(f.f=t[h][d][1],f.v=f.v[0]),null===f.v)if(f.f)f.t="n";else if(r.nullError)f.t="e",f.v=0;else{if(!r.sheetStubs)continue;f.t="z"}else"number"===typeof f.v?f.t="n":"boolean"===typeof f.v?f.t="b":f.v instanceof Date?(f.z=r.dateNF||f_[14],r.cellDates?(f.t="d",f.w=W_(f.z,nC(f.v))):(f.t="n",f.v=nC(f.v),f.w=W_(f.z,f.v))):f.t="s";else f=t[h][d];if(a)s[p]||(s[p]=[]),s[p][m]&&s[p][m].z&&(f.z=s[p][m].z),s[p][m]=f;else{var g=sA({c:m,r:p});s[g]&&s[g].z&&(f.z=s[g].z),s[g]=f}}}return c.s.c<1e7&&(s["!ref"]=oA(c)),s}function fA(e,t){return dA(null,e,t)}function pA(e){var t=e.read_shift(4);return 0===t?"":e.read_shift(t,"dbcs")}function mA(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function gA(e,t){var n=e.l,r=e.read_shift(1),a=pA(e),s=[],i={t:a,h:a};if(0!==(1&r)){for(var o=e.read_shift(4),l=0;l!=o;++l)s.push(mA(e));i.r=s}else i.r=[{ich:0,ifnt:0}];return e.l=n+t,i}var vA=gA;function yA(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function bA(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var xA=pA;function wA(e){var t=e.read_shift(4);return 0===t||4294967295===t?"":e.read_shift(t,"dbcs")}var EA=pA,TA=wA;function kA(e){var t=e.slice(e.l,e.l+4),n=1&t[0],r=2&t[0];e.l+=4;var a=0===r?IN([0,0,0,0,252&t[0],t[1],t[2],t[3]],0):LN(t,0)>>2;return n?a/100:a}function SA(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var _A=SA;function CA(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function NA(e,t){var n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return{2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"}[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,1==t?"lpstr":"lpwstr")}var AA=80,IA=[AA,81],RA={1:{n:"CodePage",t:2},2:{n:"Category",t:AA},3:{n:"PresentationFormat",t:AA},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:AA},15:{n:"Company",t:AA},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:AA},27:{n:"ContentStatus",t:AA},28:{n:"Language",t:AA},29:{n:"Version",t:AA},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},PA={1:{n:"CodePage",t:2},2:{n:"Title",t:AA},3:{n:"Subject",t:AA},4:{n:"Author",t:AA},5:{n:"Keywords",t:AA},6:{n:"Comments",t:AA},7:{n:"Template",t:AA},8:{n:"LastAuthor",t:AA},9:{n:"RevNumber",t:AA},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:AA},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},OA={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},DA=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function MA(e){return e.map((function(e){return[e>>16&255,e>>8&255,255&e]}))}var jA=fC(MA([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),LA={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},FA={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},UA={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};var VA={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function BA(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function zA(e,t){var n={"!id":{}};if(!e)return n;"/"!==t.charAt(0)&&(t="/"+t);var r={};return(e.match(OC)||[]).forEach((function(e){var a=jC(e);if("<Relationship"===a[0]){var s={};s.Type=a.Type,s.Target=a.Target,s.Id=a.Id,a.TargetMode&&(s.TargetMode=a.TargetMode);var i="External"===a.TargetMode?a.Target:AC(a.Target,t);n[i]=s,r[a.Id]=s}})),n["!id"]=r,n}var $A=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],HA=function(){for(var e=new Array($A.length),t=0;t<$A.length;++t){var n=$A[t],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);e[t]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return e}();function WA(e){var t={};e=YC(e);for(var n=0;n<$A.length;++n){var r=$A[n],a=e.match(HA[n]);null!=a&&a.length>0&&(t[r[1]]=VC(a[1])),"date"===r[2]&&t[r[1]]&&(t[r[1]]=hC(t[r[1]]))}return t}var qA=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function GA(e,t,n,r){var a=[];if("string"==typeof e)a=rN(e,r);else for(var s=0;s<e.length;++s)a=a.concat(e[s].map((function(e){return{v:e}})));var i="string"==typeof t?rN(t,r).map((function(e){return e.v})):t,o=0,l=0;if(i.length>0)for(var c=0;c!==a.length;c+=2){switch(l=+a[c+1].v,a[c].v){case"Worksheets":case"\u5de5\u4f5c\u8868":case"\u041b\u0438\u0441\u0442\u044b":case"\u0623\u0648\u0631\u0627\u0642 \u0627\u0644\u0639\u0645\u0644":case"\u30ef\u30fc\u30af\u30b7\u30fc\u30c8":case"\u05d2\u05dc\u05d9\u05d5\u05e0\u05d5\u05ea \u05e2\u05d1\u05d5\u05d3\u05d4":case"Arbeitsbl\xe4tter":case"\xc7al\u0131\u015fma Sayfalar\u0131":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de c\xe1lculo":case"Planilhas":case"Regneark":case"Hojas de c\xe1lculo":case"Werkbladen":n.Worksheets=l,n.SheetNames=i.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"\u540d\u524d\u4ed8\u304d\u4e00\u89a7":case"Benannte Bereiche":case"Navngivne omr\xe5der":n.NamedRanges=l,n.DefinedNames=i.slice(o,o+l);break;case"Charts":case"Diagramme":n.Chartsheets=l,n.ChartNames=i.slice(o,o+l)}o+=l}}var KA=/<[^>]+>[^<]*/g;var XA,YA={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function QA(e,t,n){XA||(XA=eC(YA)),e[t=XA[t]||t]=n}function JA(e){var t=e.read_shift(4),n=e.read_shift(4);return new Date(1e3*(n/1e7*Math.pow(2,32)+t/1e7-11644473600)).toISOString().replace(/\.000/,"")}function ZA(e,t,n){var r=e.l,a=e.read_shift(0,"lpstr-cp");if(n)for(;e.l-r&3;)++e.l;return a}function eI(e,t,n){var r=e.read_shift(0,"lpwstr");return n&&(e.l+=4-(r.length+1&3)&3),r}function tI(e,t,n){return 31===t?eI(e):ZA(e,0,n)}function nI(e,t,n){return tI(e,t,!1===n?0:4)}function rI(e){var t=e.l,n=iI(e,81);return 0==e[e.l]&&0==e[e.l+1]&&e.l-t&2&&(e.l+=2),[n,iI(e,3)]}function aI(e,t){for(var n=e.read_shift(4),r={},a=0;a!=n;++a){var s=e.read_shift(4),i=e.read_shift(4);r[s]=e.read_shift(i,1200===t?"utf16le":"utf8").replace(n_,"").replace(r_,"!"),1200===t&&i%2&&(e.l+=2)}return 3&e.l&&(e.l=e.l>>3<<2),r}function sI(e){var t=e.read_shift(4),n=e.slice(e.l,e.l+t);return e.l+=t,(3&t)>0&&(e.l+=4-(3&t)&3),n}function iI(e,t,n){var r,a=e.read_shift(2),s=n||{};if(e.l+=2,12!==t&&a!==t&&-1===IA.indexOf(t)&&(4126!=(65534&t)||4126!=(65534&a)))throw new Error("Expected type "+t+" saw "+a);switch(12===t?a:t){case 2:return r=e.read_shift(2,"i"),s.raw||(e.l+=2),r;case 3:return r=e.read_shift(4,"i");case 11:return 0!==e.read_shift(4);case 19:return r=e.read_shift(4);case 30:return ZA(e,0,4).replace(n_,"");case 31:return eI(e);case 64:return JA(e);case 65:return sI(e);case 71:return function(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}(e);case 80:return nI(e,a,!s.raw).replace(n_,"");case 81:return function(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return tI(e,t,0)}(e,a).replace(n_,"");case 4108:return function(e){for(var t=e.read_shift(4),n=[],r=0;r<t/2;++r)n.push(rI(e));return n}(e);case 4126:case 4127:return 4127==a?function(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r){var a=e.l;n[r]=e.read_shift(0,"lpwstr").replace(n_,""),e.l-a&2&&(e.l+=2)}return n}(e):function(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r)n[r]=e.read_shift(0,"lpstr-cp").replace(n_,"");return n}(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+a)}}function oI(e,t){var n=e.l,r=e.read_shift(4),a=e.read_shift(4),s=[],i=0,o=0,l=-1,c={};for(i=0;i!=a;++i){var u=e.read_shift(4),h=e.read_shift(4);s[i]=[u,h+n]}s.sort((function(e,t){return e[1]-t[1]}));var d={};for(i=0;i!=a;++i){if(e.l!==s[i][1]){var f=!0;if(i>0&&t)switch(t[s[i-1][0]].t){case 2:e.l+2===s[i][1]&&(e.l+=2,f=!1);break;case 80:case 4108:e.l<=s[i][1]&&(e.l=s[i][1],f=!1)}if((!t||0==i)&&e.l<=s[i][1]&&(f=!1,e.l=s[i][1]),f)throw new Error("Read Error: Expected address "+s[i][1]+" at "+e.l+" :"+i)}if(t){var p=t[s[i][0]];if(d[p.n]=iI(e,p.t,{raw:!0}),"version"===p.p&&(d[p.n]=String(d[p.n]>>16)+"."+("0000"+String(65535&d[p.n])).slice(-4)),"CodePage"==p.n)switch(d[p.n]){case 0:d[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:LS(o=d[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+d[p.n])}}else if(1===s[i][0]){if(o=d.CodePage=iI(e,2),LS(o),-1!==l){var m=e.l;e.l=s[l][1],c=aI(e,o),e.l=m}}else if(0===s[i][0]){if(0===o){l=i,e.l=s[i+1][1];continue}c=aI(e,o)}else{var g,v=c[s[i][0]];switch(e[e.l]){case 65:e.l+=4,g=sI(e);break;case 30:case 31:e.l+=4,g=nI(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,g=e.read_shift(4,"i");break;case 19:e.l+=4,g=e.read_shift(4);break;case 5:e.l+=4,g=e.read_shift(8,"f");break;case 11:e.l+=4,g=uI(e,4);break;case 64:e.l+=4,g=hC(JA(e));break;default:throw new Error("unparsed value: "+e[e.l])}d[v]=g}}return e.l=n+r,d}function lI(e,t,n){var r=e.content;if(!r)return{};WN(r,0);var a,s,i,o,l=0;r.chk("feff","Byte Order: "),r.read_shift(2);var c=r.read_shift(4),u=r.read_shift(16);if(u!==Q_.utils.consts.HEADER_CLSID&&u!==n)throw new Error("Bad PropertySet CLSID "+u);if(1!==(a=r.read_shift(4))&&2!==a)throw new Error("Unrecognized #Sets: "+a);if(s=r.read_shift(16),o=r.read_shift(4),1===a&&o!==r.l)throw new Error("Length mismatch: "+o+" !== "+r.l);2===a&&(i=r.read_shift(16),l=r.read_shift(4));var h,d=oI(r,t),f={SystemIdentifier:c};for(var p in d)f[p]=d[p];if(f.FMTID=s,1===a)return f;if(l-r.l==2&&(r.l+=2),r.l!==l)throw new Error("Length mismatch 2: "+r.l+" !== "+l);try{h=oI(r,null)}catch(Pm){}for(p in h)f[p]=h[p];return f.FMTID=[s,i],f}function cI(e,t){return e.read_shift(t),null}function uI(e,t){return 1===e.read_shift(t)}function hI(e){return e.read_shift(2,"u")}function dI(e,t){return function(e,t,n){for(var r=[],a=e.l+t;e.l<a;)r.push(n(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return r}(e,t,hI)}function fI(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),a="sbcs-cont",s=PS;(n&&n.biff>=8&&(PS=1200),n&&8!=n.biff)?12==n.biff&&(a="wstr"):e.read_shift(1)&&(a="dbcs-cont");n.biff>=2&&n.biff<=5&&(a="cpstr");var i=r?e.read_shift(r,a):"";return PS=s,i}function pI(e){var t=PS;PS=1200;var n,r=e.read_shift(2),a=e.read_shift(1),s=4&a,i=8&a,o=1+(1&a),l=0,c={};i&&(l=e.read_shift(2)),s&&(n=e.read_shift(4));var u=2==o?"dbcs-cont":"sbcs-cont",h=0===r?"":e.read_shift(r,u);return i&&(e.l+=4*l),s&&(e.l+=n),c.t=h,i||(c.raw="<t>"+c.t+"</t>",c.r=c.t),PS=t,c}function mI(e,t,n){if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}return 0===e.read_shift(1)?e.read_shift(t,"sbcs-cont"):e.read_shift(t,"dbcs-cont")}function gI(e,t,n){var r=e.read_shift(n&&2==n.biff?1:2);return 0===r?(e.l++,""):mI(e,r,n)}function vI(e,t,n){if(n.biff>5)return gI(e,0,n);var r=e.read_shift(1);return 0===r?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function yI(e,t){var n=e.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return function(e){var t=e.read_shift(4),n=e.l,r=!1;t>24&&(e.l+=t-24,"795881f43b1d7f48af2c825dc4852763"===e.read_shift(16)&&(r=!0),e.l=n);var a=e.read_shift((r?t-24:t)>>1,"utf16le").replace(n_,"");return r&&(e.l+=24),a}(e);case"0303000000000000c000000000000046":return function(e){for(var t=e.read_shift(2),n="";t-- >0;)n+="../";var r=e.read_shift(0,"lpstr-ansi");if(e.l+=2,57005!=e.read_shift(2))throw new Error("Bad FileMoniker");if(0===e.read_shift(4))return n+r.replace(/\\/g,"/");var a=e.read_shift(4);if(3!=e.read_shift(2))throw new Error("Bad FileMoniker");return n+e.read_shift(a>>1,"utf16le").replace(n_,"")}(e);default:throw new Error("Unsupported Moniker "+n)}}function bI(e){var t=e.read_shift(4);return t>0?e.read_shift(t,"utf16le").replace(n_,""):""}function xI(e){return[e.read_shift(1),e.read_shift(1),e.read_shift(1),e.read_shift(1)]}function wI(e,t){var n=xI(e);return n[3]=0,n}function EI(e){return{r:e.read_shift(2),c:e.read_shift(2),ixfe:e.read_shift(2)}}function TI(e,t,n){var r=n.biff>8?4:2;return[e.read_shift(r),e.read_shift(r,"i"),e.read_shift(r,"i")]}function kI(e){return[e.read_shift(2),kA(e)]}function SI(e){var t=e.read_shift(2),n=e.read_shift(2);return{s:{c:e.read_shift(2),r:t},e:{c:e.read_shift(2),r:n}}}function _I(e){var t=e.read_shift(2),n=e.read_shift(2);return{s:{c:e.read_shift(1),r:t},e:{c:e.read_shift(1),r:n}}}var CI=_I;function NI(e){e.l+=4;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return e.l+=12,[n,t,r]}function AI(e){e.l+=2,e.l+=e.read_shift(2)}var II={0:AI,4:AI,5:AI,6:AI,7:function(e){return e.l+=4,e.cf=e.read_shift(2),{}},8:AI,9:AI,10:AI,11:AI,12:AI,13:function(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t},14:AI,15:AI,16:AI,17:AI,18:AI,19:AI,20:AI,21:NI};function RI(e,t){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=e.read_shift(2),(t-=2)>=2&&(n.dt=e.read_shift(2),e.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return e.read_shift(t),n}function PI(e,t,n){var r=0;n&&2==n.biff||(r=e.read_shift(2));var a=e.read_shift(2);return n&&2==n.biff&&(r=1-(a>>15),a&=32767),[{Unsynced:1&r,DyZero:(2&r)>>1,ExAsc:(4&r)>>2,ExDsc:(8&r)>>3},a]}var OI=vI;function DI(e,t,n){var r=e.l+t,a=8!=n.biff&&n.biff?2:4,s=e.read_shift(a),i=e.read_shift(a),o=e.read_shift(2),l=e.read_shift(2);return e.l=r,{s:{r:s,c:o},e:{r:i,c:l}}}function MI(e,t,n){var r=EI(e);2!=n.biff&&9!=t||++e.l;var a=function(e){var t=e.read_shift(1);return 1===e.read_shift(1)?t:1===t}(e);return r.val=a,r.t=!0===a||!1===a?"b":"e",r}var jI=function(e,t,n){return 0===t?"":vI(e,0,n)};function LI(e,t,n){var r,a=e.read_shift(2),s={fBuiltIn:1&a,fWantAdvise:a>>>1&1,fWantPict:a>>>2&1,fOle:a>>>3&1,fOleLink:a>>>4&1,cf:a>>>5&1023,fIcon:a>>>15&1};return 14849===n.sbcch&&(r=function(e,t,n){e.l+=4,t-=4;var r=e.l+t,a=fI(e,0,n),s=e.read_shift(2);if(s!==(r-=e.l))throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return e.l+=s,a}(e,t-2,n)),s.body=r||e.read_shift(t-2),"string"===typeof r&&(s.Name=r),s}var FI=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function UI(e,t,n){var r=e.l+t,a=e.read_shift(2),s=e.read_shift(1),i=e.read_shift(1),o=e.read_shift(n&&2==n.biff?1:2),l=0;(!n||n.biff>=5)&&(5!=n.biff&&(e.l+=2),l=e.read_shift(2),5==n.biff&&(e.l+=2),e.l+=4);var c=mI(e,i,n);32&a&&(c=FI[c.charCodeAt(0)]);var u=r-e.l;n&&2==n.biff&&--u;var h=r!=e.l&&0!==o&&u>0?function(e,t,n,r){var a,s=e.l+t,i=CP(e,r,n);s!==e.l&&(a=_P(e,s-e.l,i,n));return[i,a]}(e,u,n,o):[];return{chKey:s,Name:c,itab:l,rgce:h}}function VI(e,t,n){if(n.biff<8)return function(e,t,n){3==e[e.l+1]&&e[e.l]++;var r=fI(e,0,n);return 3==r.charCodeAt(0)?r.slice(1):r}(e,0,n);for(var r=[],a=e.l+t,s=e.read_shift(n.biff>8?4:2);0!==s--;)r.push(TI(e,n.biff,n));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return r}function BI(e,t,n){var r=CI(e,6);switch(n.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[r,OP(e,t,n)]}var zI={8:function(e,t){var n=e.l+t;e.l+=10;var r=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=n,{fmt:r}}};function $I(e,t,n){if(!n.cellStyles)return qN(e,t);var r=n&&n.biff>=12?4:2,a=e.read_shift(r),s=e.read_shift(r),i=e.read_shift(r),o=e.read_shift(r),l=e.read_shift(2);2==r&&(e.l+=2);var c={s:a,e:s,w:i,ixfe:o,flags:l};return(n.biff>=5||!n.biff)&&(c.level=l>>8&7),c}var HI=EI,WI=dI,qI=gI;var GI=[2,3,48,49,131,139,140,245],KI=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=eC({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(t,n){var r=n||{};r.dateNF||(r.dateNF="yyyymmdd");var a=fA(function(t,n){var r=[],a=YS(1);switch(n.type){case"base64":a=JS(GS(t));break;case"binary":a=JS(t);break;case"buffer":case"array":a=t}WN(a,0);var s=a.read_shift(1),i=!!(136&s),o=!1,l=!1;switch(s){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:o=!0,i=!0;break;case 140:l=!0;break;default:throw new Error("DBF Unsupported Version: "+s.toString(16))}var c=0,u=521;2==s&&(c=a.read_shift(2)),a.l+=3,2!=s&&(c=a.read_shift(4)),c>1048576&&(c=1e6),2!=s&&(u=a.read_shift(2));var h=a.read_shift(2),d=n.codepage||1252;2!=s&&(a.l+=16,a.read_shift(1),0!==a[a.l]&&(d=e[a[a.l]]),a.l+=1,a.l+=2),l&&(a.l+=36);for(var f=[],p={},m=Math.min(a.length,2==s?521:u-10-(o?264:0)),g=l?32:11;a.l<m&&13!=a[a.l];)switch((p={}).name=BS.utils.decode(d,a.slice(a.l,a.l+g)).replace(/[\u0000\r\n].*$/g,""),a.l+=g,p.type=String.fromCharCode(a.read_shift(1)),2==s||l||(p.offset=a.read_shift(4)),p.len=a.read_shift(1),2==s&&(p.offset=a.read_shift(2)),p.dec=a.read_shift(1),p.name.length&&f.push(p),2!=s&&(a.l+=l?13:14),p.type){case"B":o&&8==p.len||!n.WTF||console.log("Skipping "+p.name+":"+p.type);break;case"G":case"P":n.WTF&&console.log("Skipping "+p.name+":"+p.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+p.type)}if(13!==a[a.l]&&(a.l=u-1),13!==a.read_shift(1))throw new Error("DBF Terminator not found "+a.l+" "+a[a.l]);a.l=u;var v=0,y=0;for(r[0]=[],y=0;y!=f.length;++y)r[0][y]=f[y].name;for(;c-- >0;)if(42!==a[a.l])for(++a.l,r[++v]=[],y=0,y=0;y!=f.length;++y){var b=a.slice(a.l,a.l+f[y].len);a.l+=f[y].len,WN(b,0);var x=BS.utils.decode(d,b);switch(f[y].type){case"C":x.trim().length&&(r[v][y]=x.replace(/\s+$/,""));break;case"D":8===x.length?r[v][y]=new Date(+x.slice(0,4),+x.slice(4,6)-1,+x.slice(6,8)):r[v][y]=x;break;case"F":r[v][y]=parseFloat(x.trim());break;case"+":case"I":r[v][y]=l?2147483648^b.read_shift(-4,"i"):b.read_shift(4,"i");break;case"L":switch(x.trim().toUpperCase()){case"Y":case"T":r[v][y]=!0;break;case"N":case"F":r[v][y]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+x+"|")}break;case"M":if(!i)throw new Error("DBF Unexpected MEMO for type "+s.toString(16));r[v][y]="##MEMO##"+(l?parseInt(x.trim(),10):b.read_shift(4));break;case"N":(x=x.replace(/\u0000/g,"").trim())&&"."!=x&&(r[v][y]=+x||0);break;case"@":r[v][y]=new Date(b.read_shift(-8,"f")-621356832e5);break;case"T":r[v][y]=new Date(864e5*(b.read_shift(4)-2440588)+b.read_shift(4));break;case"Y":r[v][y]=b.read_shift(4,"i")/1e4+b.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":r[v][y]=-b.read_shift(-8,"f");break;case"B":if(o&&8==f[y].len){r[v][y]=b.read_shift(8,"f");break}case"G":case"P":b.l+=f[y].len;break;case"0":if("_NullFlags"===f[y].name)break;default:throw new Error("DBF Unsupported data type "+f[y].type)}}else a.l+=h;if(2!=s&&a.l<a.length&&26!=a[a.l++])throw new Error("DBF EOF Marker missing "+(a.l-1)+" of "+a.length+" "+a[a.l-1].toString(16));return n&&n.sheetRows&&(r=r.slice(0,n.sheetRows)),n.DBF=f,r}(t,r),r);return a["!cols"]=r.DBF.map((function(e){return{wch:e.len,DBF:e}})),delete r.DBF,a}var r={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function(e,t){try{return hA(n(e,t),t)}catch(Pm){if(t&&t.WTF)throw Pm}return{SheetNames:[],Sheets:{}}},to_sheet:n,from_sheet:function(e,n){var a=n||{};if(+a.codepage>=0&&LS(+a.codepage),"string"==a.type)throw new Error("Cannot write DBF to JS string");var s=XN(),i=YD(e,{header:1,raw:!0,cellDates:!0}),o=i[0],l=i.slice(1),c=e["!cols"]||[],u=0,h=0,d=0,f=1;for(u=0;u<o.length;++u)if(((c[u]||{}).DBF||{}).name)o[u]=c[u].DBF.name,++d;else if(null!=o[u]){if(++d,"number"===typeof o[u]&&(o[u]=o[u].toString(10)),"string"!==typeof o[u])throw new Error("DBF Invalid column name "+o[u]+" |"+typeof o[u]+"|");if(o.indexOf(o[u])!==u)for(h=0;h<1024;++h)if(-1==o.indexOf(o[u]+"_"+h)){o[u]+="_"+h;break}}var p=lA(e["!ref"]),m=[],g=[],v=[];for(u=0;u<=p.e.c-p.s.c;++u){var y="",b="",x=0,w=[];for(h=0;h<l.length;++h)null!=l[h][u]&&w.push(l[h][u]);if(0!=w.length&&null!=o[u]){for(h=0;h<w.length;++h){switch(typeof w[h]){case"number":b="B";break;case"string":default:b="C";break;case"boolean":b="L";break;case"object":b=w[h]instanceof Date?"D":"C"}x=Math.max(x,String(w[h]).length),y=y&&y!=b?"C":b}x>250&&(x=250),"C"==(b=((c[u]||{}).DBF||{}).type)&&c[u].DBF.len>x&&(x=c[u].DBF.len),"B"==y&&"N"==b&&(y="N",v[u]=c[u].DBF.dec,x=c[u].DBF.len),g[u]="C"==y||"N"==b?x:r[y]||0,f+=g[u],m[u]=y}else m[u]="?"}var E=s.next(32);for(E.write_shift(4,318902576),E.write_shift(4,l.length),E.write_shift(2,296+32*d),E.write_shift(2,f),u=0;u<4;++u)E.write_shift(4,0);for(E.write_shift(4,(+t[OS]||3)<<8),u=0,h=0;u<o.length;++u)if(null!=o[u]){var T=s.next(32),k=(o[u].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);T.write_shift(1,k,"sbcs"),T.write_shift(1,"?"==m[u]?"C":m[u],"sbcs"),T.write_shift(4,h),T.write_shift(1,g[u]||r[m[u]]||0),T.write_shift(1,v[u]||0),T.write_shift(1,2),T.write_shift(4,0),T.write_shift(1,0),T.write_shift(4,0),T.write_shift(4,0),h+=g[u]||r[m[u]]||0}var S=s.next(264);for(S.write_shift(4,13),u=0;u<65;++u)S.write_shift(4,0);for(u=0;u<l.length;++u){var _=s.next(f);for(_.write_shift(1,0),h=0;h<o.length;++h)if(null!=o[h])switch(m[h]){case"L":_.write_shift(1,null==l[u][h]?63:l[u][h]?84:70);break;case"B":_.write_shift(8,l[u][h]||0,"f");break;case"N":var C="0";for("number"==typeof l[u][h]&&(C=l[u][h].toFixed(v[h]||0)),d=0;d<g[h]-C.length;++d)_.write_shift(1,32);_.write_shift(1,C,"sbcs");break;case"D":l[u][h]?(_.write_shift(4,("0000"+l[u][h].getFullYear()).slice(-4),"sbcs"),_.write_shift(2,("00"+(l[u][h].getMonth()+1)).slice(-2),"sbcs"),_.write_shift(2,("00"+l[u][h].getDate()).slice(-2),"sbcs")):_.write_shift(8,"00000000","sbcs");break;case"C":var N=String(null!=l[u][h]?l[u][h]:"").slice(0,g[h]);for(_.write_shift(1,N,"sbcs"),d=0;d<g[h]-N.length;++d)_.write_shift(1,32)}}return s.next(1).write_shift(1,26),s.end()}}}(),XI=function(){var e={AA:"\xc0",BA:"\xc1",CA:"\xc2",DA:195,HA:"\xc4",JA:197,AE:"\xc8",BE:"\xc9",CE:"\xca",HE:"\xcb",AI:"\xcc",BI:"\xcd",CI:"\xce",HI:"\xcf",AO:"\xd2",BO:"\xd3",CO:"\xd4",DO:213,HO:"\xd6",AU:"\xd9",BU:"\xda",CU:"\xdb",HU:"\xdc",Aa:"\xe0",Ba:"\xe1",Ca:"\xe2",Da:227,Ha:"\xe4",Ja:229,Ae:"\xe8",Be:"\xe9",Ce:"\xea",He:"\xeb",Ai:"\xec",Bi:"\xed",Ci:"\xee",Hi:"\xef",Ao:"\xf2",Bo:"\xf3",Co:"\xf4",Do:245,Ho:"\xf6",Au:"\xf9",Bu:"\xfa",Cu:"\xfb",Hu:"\xfc",KC:"\xc7",Kc:"\xe7",q:"\xe6",z:"\u0153",a:"\xc6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1bN("+Z_(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(t,n){var r=e[n];return"number"==typeof r?HS(r):r},r=function(e,t,n){var r=t.charCodeAt(0)-32<<4|n.charCodeAt(0)-48;return 59==r?e:HS(r)};function a(e,a){var s,i=e.split(/[\n\r]+/),o=-1,l=-1,c=0,u=0,h=[],d=[],f=null,p={},m=[],g=[],v=[],y=0;for(+a.codepage>=0&&LS(+a.codepage);c!==i.length;++c){y=0;var b,x=i[c].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),w=x.replace(/;;/g,"\0").split(";").map((function(e){return e.replace(/\u0000/g,";")})),E=w[0];if(x.length>0)switch(E){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==w[1].charAt(0)&&d.push(x.slice(3).replace(/;;/g,";"));break;case"C":var T=!1,k=!1,S=!1,_=!1,C=-1,N=-1;for(u=1;u<w.length;++u)switch(w[u].charAt(0)){case"A":case"G":break;case"X":l=parseInt(w[u].slice(1))-1,k=!0;break;case"Y":for(o=parseInt(w[u].slice(1))-1,k||(l=0),s=h.length;s<=o;++s)h[s]=[];break;case"K":'"'===(b=w[u].slice(1)).charAt(0)?b=b.slice(1,b.length-1):"TRUE"===b?b=!0:"FALSE"===b?b=!1:isNaN(mC(b))?isNaN(vC(b).getDate())||(b=hC(b)):(b=mC(b),null!==f&&B_(f)&&(b=iC(b))),"undefined"!==typeof BS&&"string"==typeof b&&"string"!=(a||{}).type&&(a||{}).codepage&&(b=BS.utils.decode(a.codepage,b)),T=!0;break;case"E":_=!0;var A=tP(w[u].slice(1),{r:o,c:l});h[o][l]=[h[o][l],A];break;case"S":S=!0,h[o][l]=[h[o][l],"S5S"];break;case"R":C=parseInt(w[u].slice(1))-1;break;case"C":N=parseInt(w[u].slice(1))-1;break;default:if(a&&a.WTF)throw new Error("SYLK bad record "+x)}if(T&&(h[o][l]&&2==h[o][l].length?h[o][l][0]=b:h[o][l]=b,f=null),S){if(_)throw new Error("SYLK shared formula cannot have own formula");var I=C>-1&&h[C][N];if(!I||!I[1])throw new Error("SYLK shared formula cannot find base");h[o][l][1]=aP(I[1],{r:o-C,c:l-N})}break;case"F":var R=0;for(u=1;u<w.length;++u)switch(w[u].charAt(0)){case"X":l=parseInt(w[u].slice(1))-1,++R;break;case"Y":for(o=parseInt(w[u].slice(1))-1,s=h.length;s<=o;++s)h[s]=[];break;case"M":y=parseInt(w[u].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":f=d[parseInt(w[u].slice(1))];break;case"W":for(v=w[u].slice(1).split(" "),s=parseInt(v[0],10);s<=parseInt(v[1],10);++s)y=parseInt(v[2],10),g[s-1]=0===y?{hidden:!0}:{wch:y},RR(g[s-1]);break;case"C":g[l=parseInt(w[u].slice(1))-1]||(g[l]={});break;case"R":m[o=parseInt(w[u].slice(1))-1]||(m[o]={}),y>0?(m[o].hpt=y,m[o].hpx=DR(y)):0===y&&(m[o].hidden=!0);break;default:if(a&&a.WTF)throw new Error("SYLK bad record "+x)}R<1&&(f=null);break;default:if(a&&a.WTF)throw new Error("SYLK bad record "+x)}}return m.length>0&&(p["!rows"]=m),g.length>0&&(p["!cols"]=g),a&&a.sheetRows&&(h=h.slice(0,a.sheetRows)),[h,p]}function s(e,t){var n=function(e,t){switch(t.type){case"base64":return a(GS(e),t);case"binary":return a(e,t);case"buffer":return a(KS&&Buffer.isBuffer(e)?e.toString("binary"):ZS(e),t);case"array":return a(dC(e),t)}throw new Error("Unrecognized type "+t.type)}(e,t),r=n[0],s=n[1],i=fA(r,t);return Z_(s).forEach((function(e){i[e]=s[e]})),i}function i(e,t,n,r){var a="C;Y"+(n+1)+";X"+(r+1)+";K";switch(e.t){case"n":a+=e.v||0,e.f&&!e.F&&(a+=";E"+rP(e.f,{r:n,c:r}));break;case"b":a+=e.v?"TRUE":"FALSE";break;case"e":a+=e.w||e.v;break;case"d":a+='"'+(e.w||e.v)+'"';break;case"s":a+='"'+e.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return a}return e["|"]=254,{to_workbook:function(e,t){return hA(s(e,t),t)},to_sheet:s,from_sheet:function(e,t){var n,r,a=["ID;PWXL;N;E"],s=[],o=lA(e["!ref"]),l=Array.isArray(e),c="\r\n";a.push("P;PGeneral"),a.push("F;P0;DG0G8;M255"),e["!cols"]&&(r=a,e["!cols"].forEach((function(e,t){var n="F;W"+(t+1)+" "+(t+1)+" ";e.hidden?n+="0":("number"!=typeof e.width||e.wpx||(e.wpx=_R(e.width)),"number"!=typeof e.wpx||e.wch||(e.wch=CR(e.wpx)),"number"==typeof e.wch&&(n+=Math.round(e.wch)))," "!=n.charAt(n.length-1)&&r.push(n)}))),e["!rows"]&&function(e,t){t.forEach((function(t,n){var r="F;";t.hidden?r+="M0;":t.hpt?r+="M"+20*t.hpt+";":t.hpx&&(r+="M"+20*OR(t.hpx)+";"),r.length>2&&e.push(r+"R"+(n+1))}))}(a,e["!rows"]),a.push("B;Y"+(o.e.r-o.s.r+1)+";X"+(o.e.c-o.s.c+1)+";D"+[o.s.c,o.s.r,o.e.c,o.e.r].join(" "));for(var u=o.s.r;u<=o.e.r;++u)for(var h=o.s.c;h<=o.e.c;++h){var d=sA({r:u,c:h});(n=l?(e[u]||[])[h]:e[d])&&(null!=n.v||n.f&&!n.F)&&s.push(i(n,0,u,h))}return a.join(c)+c+s.join(c)+c+"E"+c}}}(),YI=function(){function e(e,t){for(var n=e.split("\n"),r=-1,a=-1,s=0,i=[];s!==n.length;++s)if("BOT"!==n[s].trim()){if(!(r<0)){for(var o=n[s].trim().split(","),l=o[0],c=o[1],u=n[++s]||"";1&(u.match(/["]/g)||[]).length&&s<n.length-1;)u+="\n"+n[++s];switch(u=u.trim(),+l){case-1:if("BOT"===u){i[++r]=[],a=0;continue}if("EOD"!==u)throw new Error("Unrecognized DIF special command "+u);break;case 0:"TRUE"===u?i[r][a]=!0:"FALSE"===u?i[r][a]=!1:isNaN(mC(c))?isNaN(vC(c).getDate())?i[r][a]=c:i[r][a]=hC(c):i[r][a]=mC(c),++a;break;case 1:(u=(u=u.slice(1,u.length-1)).replace(/""/g,'"'))&&u.match(/^=".*"$/)&&(u=u.slice(2,-1)),i[r][a++]=""!==u?u:null}if("EOD"===u)break}}else i[++r]=[],a=0;return t&&t.sheetRows&&(i=i.slice(0,t.sheetRows)),i}function t(t,n){return fA(function(t,n){switch(n.type){case"base64":return e(GS(t),n);case"binary":return e(t,n);case"buffer":return e(KS&&Buffer.isBuffer(t)?t.toString("binary"):ZS(t),n);case"array":return e(dC(t),n)}throw new Error("Unrecognized type "+n.type)}(t,n),n)}var n=function(){var e=function(e,t,n,r,a){e.push(t),e.push(n+","+r),e.push('"'+a.replace(/"/g,'""')+'"')},t=function(e,t,n,r){e.push(t+","+n),e.push(1==t?'"'+r.replace(/"/g,'""')+'"':r)};return function(n){var r,a=[],s=lA(n["!ref"]),i=Array.isArray(n);e(a,"TABLE",0,1,"sheetjs"),e(a,"VECTORS",0,s.e.r-s.s.r+1,""),e(a,"TUPLES",0,s.e.c-s.s.c+1,""),e(a,"DATA",0,0,"");for(var o=s.s.r;o<=s.e.r;++o){t(a,-1,0,"BOT");for(var l=s.s.c;l<=s.e.c;++l){var c=sA({r:o,c:l});if(r=i?(n[o]||[])[l]:n[c])switch(r.t){case"n":var u=r.w;u||null==r.v||(u=r.v),null==u?r.f&&!r.F?t(a,1,0,"="+r.f):t(a,1,0,""):t(a,0,u,"V");break;case"b":t(a,0,r.v?1:0,r.v?"TRUE":"FALSE");break;case"s":t(a,1,0,isNaN(r.v)?r.v:'="'+r.v+'"');break;case"d":r.w||(r.w=W_(r.z||f_[14],nC(hC(r.v)))),t(a,0,r.w,"V");break;default:t(a,1,0,"")}else t(a,1,0,"")}}t(a,-1,0,"EOD");return a.join("\r\n")}}();return{to_workbook:function(e,n){return hA(t(e,n),n)},to_sheet:t,from_sheet:n}}(),QI=function(){function e(e){return e.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function t(e){return e.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(t,n){return fA(function(t,n){for(var r=t.split("\n"),a=-1,s=-1,i=0,o=[];i!==r.length;++i){var l=r[i].trim().split(":");if("cell"===l[0]){var c=aA(l[1]);if(o.length<=c.r)for(a=o.length;a<=c.r;++a)o[a]||(o[a]=[]);switch(a=c.r,s=c.c,l[2]){case"t":o[a][s]=e(l[3]);break;case"v":o[a][s]=+l[3];break;case"vtf":var u=l[l.length-1];case"vtc":"nl"===l[3]?o[a][s]=!!+l[4]:o[a][s]=+l[4],"vtf"==l[2]&&(o[a][s]=[o[a][s],u])}}}return n&&n.sheetRows&&(o=o.slice(0,n.sheetRows)),o}(t,n),n)}var r=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",s=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),i="--SocialCalcSpreadsheetControlSave--";function o(e){if(!e||!e["!ref"])return"";for(var n,r=[],a=[],s="",i=iA(e["!ref"]),o=Array.isArray(e),l=i.s.r;l<=i.e.r;++l)for(var c=i.s.c;c<=i.e.c;++c)if(s=sA({r:l,c:c}),(n=o?(e[l]||[])[c]:e[s])&&null!=n.v&&"z"!==n.t){switch(a=["cell",s,"t"],n.t){case"s":case"str":a.push(t(n.v));break;case"n":n.f?(a[2]="vtf",a[3]="n",a[4]=n.v,a[5]=t(n.f)):(a[2]="v",a[3]=n.v);break;case"b":a[2]="vt"+(n.f?"f":"c"),a[3]="nl",a[4]=n.v?"1":"0",a[5]=t(n.f||(n.v?"TRUE":"FALSE"));break;case"d":var u=nC(hC(n.v));a[2]="vtc",a[3]="nd",a[4]=""+u,a[5]=n.w||W_(n.z||f_[14],u);break;case"e":continue}r.push(a.join(":"))}return r.push("sheet:c:"+(i.e.c-i.s.c+1)+":r:"+(i.e.r-i.s.r+1)+":tvf:1"),r.push("valueformat:1:text-wiki"),r.join("\n")}return{to_workbook:function(e,t){return hA(n(e,t),t)},to_sheet:n,from_sheet:function(e){return[r,a,s,a,o(e),i].join("\n")}}}(),JI=function(){function e(e,t,n,r,a){a.raw?t[n][r]=e:""===e||("TRUE"===e?t[n][r]=!0:"FALSE"===e?t[n][r]=!1:isNaN(mC(e))?isNaN(vC(e).getDate())?t[n][r]=e:t[n][r]=hC(e):t[n][r]=mC(e))}var t={44:",",9:"\t",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function r(e){for(var r={},a=!1,s=0,i=0;s<e.length;++s)34==(i=e.charCodeAt(s))?a=!a:!a&&i in t&&(r[i]=(r[i]||0)+1);for(s in i=[],r)Object.prototype.hasOwnProperty.call(r,s)&&i.push([r[s],s]);if(!i.length)for(s in r=n)Object.prototype.hasOwnProperty.call(r,s)&&i.push([r[s],s]);return i.sort((function(e,t){return e[0]-t[0]||n[e[1]]-n[t[1]]})),t[i.pop()[1]]||44}function a(e,t){var n=t||{},a="";var s=n.dense?[]:{},i={s:{c:0,r:0},e:{c:0,r:0}};"sep="==e.slice(0,4)?13==e.charCodeAt(5)&&10==e.charCodeAt(6)?(a=e.charAt(4),e=e.slice(7)):13==e.charCodeAt(5)||10==e.charCodeAt(5)?(a=e.charAt(4),e=e.slice(6)):a=r(e.slice(0,1024)):a=n&&n.FS?n.FS:r(e.slice(0,1024));var o=0,l=0,c=0,u=0,h=0,d=a.charCodeAt(0),f=!1,p=0,m=e.charCodeAt(0);e=e.replace(/\r\n/gm,"\n");var g=null!=n.dateNF?function(e){var t="number"==typeof e?f_[e]:e;return t=t.replace(X_,"(\\d+)"),new RegExp("^"+t+"$")}(n.dateNF):null;function v(){var t=e.slice(u,h),r={};if('"'==t.charAt(0)&&'"'==t.charAt(t.length-1)&&(t=t.slice(1,-1).replace(/""/g,'"')),0===t.length)r.t="z";else if(n.raw)r.t="s",r.v=t;else if(0===t.trim().length)r.t="s",r.v=t;else if(61==t.charCodeAt(0))34==t.charCodeAt(1)&&34==t.charCodeAt(t.length-1)?(r.t="s",r.v=t.slice(2,-1).replace(/""/g,'"')):!function(e){return 1!=e.length}(t)?(r.t="s",r.v=t):(r.t="n",r.f=t.slice(1));else if("TRUE"==t)r.t="b",r.v=!0;else if("FALSE"==t)r.t="b",r.v=!1;else if(isNaN(c=mC(t)))if(!isNaN(vC(t).getDate())||g&&t.match(g)){r.z=n.dateNF||f_[14];var a=0;g&&t.match(g)&&(t=function(e,t,n){var r=-1,a=-1,s=-1,i=-1,o=-1,l=-1;(t.match(X_)||[]).forEach((function(e,t){var c=parseInt(n[t+1],10);switch(e.toLowerCase().charAt(0)){case"y":r=c;break;case"d":s=c;break;case"h":i=c;break;case"s":l=c;break;case"m":i>=0?o=c:a=c}})),l>=0&&-1==o&&a>=0&&(o=a,a=-1);var c=(""+(r>=0?r:(new Date).getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);7==c.length&&(c="0"+c),8==c.length&&(c="20"+c);var u=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return-1==i&&-1==o&&-1==l?c:-1==r&&-1==a&&-1==s?u:c+"T"+u}(0,n.dateNF,t.match(g)||[]),a=1),n.cellDates?(r.t="d",r.v=hC(t,a)):(r.t="n",r.v=nC(hC(t,a))),!1!==n.cellText&&(r.w=W_(r.z,r.v instanceof Date?nC(r.v):r.v)),n.cellNF||delete r.z}else r.t="s",r.v=t;else r.t="n",!1!==n.cellText&&(r.w=t),r.v=c;if("z"==r.t||(n.dense?(s[o]||(s[o]=[]),s[o][l]=r):s[sA({c:l,r:o})]=r),u=h+1,m=e.charCodeAt(u),i.e.c<l&&(i.e.c=l),i.e.r<o&&(i.e.r=o),p==d)++l;else if(l=0,++o,n.sheetRows&&n.sheetRows<=o)return!0}e:for(;h<e.length;++h)switch(p=e.charCodeAt(h)){case 34:34===m&&(f=!f);break;case d:case 10:case 13:if(!f&&v())break e}return h-u>0&&v(),s["!ref"]=oA(i),s}function s(t,n){return n&&n.PRN?n.FS||"sep="==t.slice(0,4)||t.indexOf("\t")>=0||t.indexOf(",")>=0||t.indexOf(";")>=0?a(t,n):fA(function(t,n){var r=n||{},a=[];if(!t||0===t.length)return a;for(var s=t.split(/[\r\n]/),i=s.length-1;i>=0&&0===s[i].length;)--i;for(var o=10,l=0,c=0;c<=i;++c)-1==(l=s[c].indexOf(" "))?l=s[c].length:l++,o=Math.max(o,l);for(c=0;c<=i;++c){a[c]=[];var u=0;for(e(s[c].slice(0,o).trim(),a,c,u,r),u=1;u<=(s[c].length-o)/10+1;++u)e(s[c].slice(o+10*(u-1),o+10*u).trim(),a,c,u,r)}return r.sheetRows&&(a=a.slice(0,r.sheetRows)),a}(t,n),n):a(t,n)}function i(e,t){var n="",r="string"==t.type?[0,0,0,0]:WD(e,t);switch(t.type){case"base64":n=GS(e);break;case"binary":case"string":n=e;break;case"buffer":n=65001==t.codepage?e.toString("utf8"):t.codepage&&"undefined"!==typeof BS?BS.utils.decode(t.codepage,e):KS&&Buffer.isBuffer(e)?e.toString("binary"):ZS(e);break;case"array":n=dC(e);break;default:throw new Error("Unrecognized type "+t.type)}return 239==r[0]&&187==r[1]&&191==r[2]?n=YC(n.slice(3)):"string"!=t.type&&"buffer"!=t.type&&65001==t.codepage?n=YC(n):"binary"==t.type&&"undefined"!==typeof BS&&t.codepage&&(n=BS.utils.decode(t.codepage,BS.utils.encode(28591,n))),"socialcalc:version:"==n.slice(0,19)?QI.to_sheet("string"==t.type?n:YC(n),t):s(n,t)}return{to_workbook:function(e,t){return hA(i(e,t),t)},to_sheet:i,from_sheet:function(e){for(var t,n=[],r=lA(e["!ref"]),a=Array.isArray(e),s=r.s.r;s<=r.e.r;++s){for(var i=[],o=r.s.c;o<=r.e.c;++o){var l=sA({r:s,c:o});if((t=a?(e[s]||[])[o]:e[l])&&null!=t.v){for(var c=(t.w||(uA(t),t.w)||"").slice(0,10);c.length<10;)c+=" ";i.push(c+(0===o?" ":""))}else i.push("          ")}n.push(i.join(""))}return n.join("\n")}}}();var ZI=function(){function e(e,t,n){if(e){WN(e,e.l||0);for(var r=n.Enum||v;e.l<e.length;){var a=e.read_shift(2),s=r[a]||r[65535],i=e.read_shift(2),o=e.l+i,l=s.f&&s.f(e,i,n);if(e.l=o,t(l,s,a))return}}}function t(t,n){if(!t)return t;var r=n||{};var a=r.dense?[]:{},s="Sheet1",i="",o=0,l={},c=[],u=[],h={s:{r:0,c:0},e:{r:0,c:0}},d=r.sheetRows||0;if(0==t[2]&&(8==t[3]||9==t[3])&&t.length>=16&&5==t[14]&&108===t[15])throw new Error("Unsupported Works 3 for Mac file");if(2==t[2])r.Enum=v,e(t,(function(e,t,n){switch(n){case 0:r.vers=e,e>=4096&&(r.qpro=!0);break;case 6:h=e;break;case 204:e&&(i=e);break;case 222:i=e;break;case 15:case 51:r.qpro||(e[1].v=e[1].v.slice(1));case 13:case 14:case 16:14==n&&112==(112&e[2])&&(15&e[2])>1&&(15&e[2])<15&&(e[1].z=r.dateNF||f_[14],r.cellDates&&(e[1].t="d",e[1].v=iC(e[1].v))),r.qpro&&e[3]>o&&(a["!ref"]=oA(h),l[s]=a,c.push(s),a=r.dense?[]:{},h={s:{r:0,c:0},e:{r:0,c:0}},o=e[3],s=i||"Sheet"+(o+1),i="");var u=r.dense?(a[e[0].r]||[])[e[0].c]:a[sA(e[0])];if(u){u.t=e[1].t,u.v=e[1].v,null!=e[1].z&&(u.z=e[1].z),null!=e[1].f&&(u.f=e[1].f);break}r.dense?(a[e[0].r]||(a[e[0].r]=[]),a[e[0].r][e[0].c]=e[1]):a[sA(e[0])]=e[1]}}),r);else{if(26!=t[2]&&14!=t[2])throw new Error("Unrecognized LOTUS BOF "+t[2]);r.Enum=y,14==t[2]&&(r.qpro=!0,t.l=0),e(t,(function(e,t,n){switch(n){case 204:s=e;break;case 22:e[1].v=e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(e[3]>o&&(a["!ref"]=oA(h),l[s]=a,c.push(s),a=r.dense?[]:{},h={s:{r:0,c:0},e:{r:0,c:0}},o=e[3],s="Sheet"+(o+1)),d>0&&e[0].r>=d)break;r.dense?(a[e[0].r]||(a[e[0].r]=[]),a[e[0].r][e[0].c]=e[1]):a[sA(e[0])]=e[1],h.e.c<e[0].c&&(h.e.c=e[0].c),h.e.r<e[0].r&&(h.e.r=e[0].r);break;case 27:e[14e3]&&(u[e[14e3][0]]=e[14e3][1]);break;case 1537:u[e[0]]=e[1],e[0]==o&&(s=e[1])}}),r)}if(a["!ref"]=oA(h),l[i||s]=a,c.push(i||s),!u.length)return{SheetNames:c,Sheets:l};for(var f={},p=[],m=0;m<u.length;++m)l[c[m]]?(p.push(u[m]||c[m]),f[u[m]]=l[u[m]]||l[c[m]]):(p.push(u[m]),f[u[m]]={"!ref":"A1"});return{SheetNames:p,Sheets:f}}function n(e,t,n){var r=[{c:0,r:0},{t:"n",v:0},0,0];return n.qpro&&20768!=n.vers?(r[0].c=e.read_shift(1),r[3]=e.read_shift(1),r[0].r=e.read_shift(2),e.l+=2):(r[2]=e.read_shift(1),r[0].c=e.read_shift(2),r[0].r=e.read_shift(2)),r}function r(e,t,r){var a=e.l+t,s=n(e,0,r);if(s[1].t="s",20768==r.vers){e.l++;var i=e.read_shift(1);return s[1].v=e.read_shift(i,"utf8"),s}return r.qpro&&e.l++,s[1].v=e.read_shift(a-e.l,"cstr"),s}function a(e,t,n){var r=GN(7+n.length);r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(1,39);for(var a=0;a<r.length;++a){var s=n.charCodeAt(a);r.write_shift(1,s>=128?95:s)}return r.write_shift(1,0),r}function s(e,t,n){var r=GN(7);return r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n,"i"),r}function i(e,t,n){var r=GN(13);return r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(8,n,"f"),r}function o(e,t,n){var r=32768&t;return t=(r?e:0)+((t&=-32769)>=8192?t-16384:t),(r?"":"$")+(n?rA(t):tA(t))}var l={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},c=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function u(e){var t=[{c:0,r:0},{t:"n",v:0},0];return t[0].r=e.read_shift(2),t[3]=e[e.l++],t[0].c=e[e.l++],t}function h(e,t,n,r){var a=GN(6+r.length);a.write_shift(2,e),a.write_shift(1,n),a.write_shift(1,t),a.write_shift(1,39);for(var s=0;s<r.length;++s){var i=r.charCodeAt(s);a.write_shift(1,i>=128?95:i)}return a.write_shift(1,0),a}function d(e,t){var n=u(e),r=e.read_shift(4),a=e.read_shift(4),s=e.read_shift(2);if(65535==s)return 0===r&&3221225472===a?(n[1].t="e",n[1].v=15):0===r&&3489660928===a?(n[1].t="e",n[1].v=42):n[1].v=0,n;var i=32768&s;return s=(32767&s)-16446,n[1].v=(1-2*i)*(a*Math.pow(2,s+32)+r*Math.pow(2,s)),n}function f(e,t,n,r){var a=GN(14);if(a.write_shift(2,e),a.write_shift(1,n),a.write_shift(1,t),0==r)return a.write_shift(4,0),a.write_shift(4,0),a.write_shift(2,65535),a;var s,i=0,o=0,l=0;return r<0&&(i=1,r=-r),o=0|Math.log2(r),0==(2147483648&(l=(r/=Math.pow(2,o-31))>>>0))&&(++o,l=(r/=2)>>>0),r-=l,l|=2147483648,l>>>=0,s=(r*=Math.pow(2,32))>>>0,a.write_shift(4,s),a.write_shift(4,l),o+=16383+(i?32768:0),a.write_shift(2,o),a}function p(e,t){var n=u(e),r=e.read_shift(8,"f");return n[1].v=r,n}function m(e,t){return 0==e[e.l+t-1]?e.read_shift(t,"cstr"):""}function g(e,t){var n=GN(5+e.length);n.write_shift(2,14e3),n.write_shift(2,t);for(var r=0;r<e.length;++r){var a=e.charCodeAt(r);n[n.l++]=a>127?95:a}return n[n.l++]=0,n}var v={0:{n:"BOF",f:hI},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function(e,t,n){var r={s:{c:0,r:0},e:{c:0,r:0}};return 8==t&&n.qpro?(r.s.c=e.read_shift(1),e.l++,r.s.r=e.read_shift(2),r.e.c=e.read_shift(1),e.l++,r.e.r=e.read_shift(2),r):(r.s.c=e.read_shift(2),r.s.r=e.read_shift(2),12==t&&n.qpro&&(e.l+=2),r.e.c=e.read_shift(2),r.e.r=e.read_shift(2),12==t&&n.qpro&&(e.l+=2),65535==r.s.c&&(r.s.c=r.e.c=r.s.r=r.e.r=0),r)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function(e,t,r){var a=n(e,0,r);return a[1].v=e.read_shift(2,"i"),a}},14:{n:"NUMBER",f:function(e,t,r){var a=n(e,0,r);return a[1].v=e.read_shift(8,"f"),a}},15:{n:"LABEL",f:r},16:{n:"FORMULA",f:function(e,t,r){var a=e.l+t,s=n(e,0,r);if(s[1].v=e.read_shift(8,"f"),r.qpro)e.l=a;else{var i=e.read_shift(2);!function(e,t){WN(e,0);var n=[],r=0,a="",s="",i="",u="";for(;e.l<e.length;){var h=e[e.l++];switch(h){case 0:n.push(e.read_shift(8,"f"));break;case 1:s=o(t[0].c,e.read_shift(2),!0),a=o(t[0].r,e.read_shift(2),!1),n.push(s+a);break;case 2:var d=o(t[0].c,e.read_shift(2),!0),f=o(t[0].r,e.read_shift(2),!1);s=o(t[0].c,e.read_shift(2),!0),a=o(t[0].r,e.read_shift(2),!1),n.push(d+f+":"+s+a);break;case 3:if(e.l<e.length)return void console.error("WK1 premature formula end");break;case 4:n.push("("+n.pop()+")");break;case 5:n.push(e.read_shift(2));break;case 6:for(var p="";h=e[e.l++];)p+=String.fromCharCode(h);n.push('"'+p.replace(/"/g,'""')+'"');break;case 8:n.push("-"+n.pop());break;case 23:n.push("+"+n.pop());break;case 22:n.push("NOT("+n.pop()+")");break;case 20:case 21:u=n.pop(),i=n.pop(),n.push(["AND","OR"][h-20]+"("+i+","+u+")");break;default:if(h<32&&c[h])u=n.pop(),i=n.pop(),n.push(i+c[h]+u);else{if(!l[h])return h<=7?console.error("WK1 invalid opcode "+h.toString(16)):h<=24?console.error("WK1 unsupported op "+h.toString(16)):h<=30?console.error("WK1 invalid opcode "+h.toString(16)):h<=115?console.error("WK1 unsupported function opcode "+h.toString(16)):console.error("WK1 unrecognized opcode "+h.toString(16));if(69==(r=l[h][1])&&(r=e[e.l++]),r>n.length)return void console.error("WK1 bad formula parse 0x"+h.toString(16)+":|"+n.join("|")+"|");var m=n.slice(-r);n.length-=r,n.push(l[h][0]+"("+m.join(",")+")")}}}1==n.length?t[1].f=""+n[0]:console.error("WK1 bad formula parse |"+n.join("|")+"|")}(e.slice(e.l,e.l+i),s),e.l+=i}return s}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:r},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:m},222:{n:"SHEETNAMELP",f:function(e,t){var n=e[e.l++];n>t-1&&(n=t-1);for(var r="";r.length<n;)r+=String.fromCharCode(e[e.l++]);return r}},65535:{n:""}},y={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function(e,t){var n=u(e);return n[1].t="s",n[1].v=e.read_shift(t-4,"cstr"),n}},23:{n:"NUMBER17",f:d},24:{n:"NUMBER18",f:function(e,t){var n=u(e);n[1].v=e.read_shift(2);var r=n[1].v>>1;if(1&n[1].v)switch(7&r){case 0:r=5e3*(r>>3);break;case 1:r=500*(r>>3);break;case 2:r=(r>>3)/20;break;case 3:r=(r>>3)/200;break;case 4:r=(r>>3)/2e3;break;case 5:r=(r>>3)/2e4;break;case 6:r=(r>>3)/16;break;case 7:r=(r>>3)/64}return n[1].v=r,n}},25:{n:"FORMULA19",f:function(e,t){var n=d(e);return e.l+=t-14,n}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function(e,t){for(var n={},r=e.l+t;e.l<r;){var a=e.read_shift(2);if(14e3==a){for(n[a]=[0,""],n[a][0]=e.read_shift(2);e[e.l];)n[a][1]+=String.fromCharCode(e[e.l]),e.l++;e.l++}}return n}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function(e,t){var n=u(e),r=e.read_shift(4);return n[1].v=r>>6,n}},38:{n:"??"},39:{n:"NUMBER27",f:p},40:{n:"FORMULA28",f:function(e,t){var n=p(e);return e.l+=t-10,n}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:m},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function(e,t,n){if(n.qpro&&!(t<21)){var r=e.read_shift(1);return e.l+=17,e.l+=1,e.l+=2,[r,e.read_shift(t-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function(e,t){var n=t||{};if(+n.codepage>=0&&LS(+n.codepage),"string"==n.type)throw new Error("Cannot write WK1 to JS string");var r=XN(),o=lA(e["!ref"]),l=Array.isArray(e),c=[];aD(r,0,function(e){var t=GN(2);return t.write_shift(2,e),t}(1030)),aD(r,6,function(e){var t=GN(8);return t.write_shift(2,e.s.c),t.write_shift(2,e.s.r),t.write_shift(2,e.e.c),t.write_shift(2,e.e.r),t}(o));for(var u=Math.min(o.e.r,8191),h=o.s.r;h<=u;++h)for(var d=tA(h),f=o.s.c;f<=o.e.c;++f){h===o.s.r&&(c[f]=rA(f));var p=c[f]+d,m=l?(e[h]||[])[f]:e[p];if(m&&"z"!=m.t)if("n"==m.t)(0|m.v)==m.v&&m.v>=-32768&&m.v<=32767?aD(r,13,s(h,f,m.v)):aD(r,14,i(h,f,m.v));else aD(r,15,a(h,f,uA(m).slice(0,239)))}return aD(r,1),r.end()},book_to_wk3:function(e,t){var n=t||{};if(+n.codepage>=0&&LS(+n.codepage),"string"==n.type)throw new Error("Cannot write WK3 to JS string");var r=XN();aD(r,0,function(e){var t=GN(26);t.write_shift(2,4096),t.write_shift(2,4),t.write_shift(4,0);for(var n=0,r=0,a=0,s=0;s<e.SheetNames.length;++s){var i=e.SheetNames[s],o=e.Sheets[i];if(o&&o["!ref"]){++a;var l=iA(o["!ref"]);n<l.e.r&&(n=l.e.r),r<l.e.c&&(r=l.e.c)}}n>8191&&(n=8191);return t.write_shift(2,n),t.write_shift(1,a),t.write_shift(1,r),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,1),t.write_shift(1,2),t.write_shift(4,0),t.write_shift(4,0),t}(e));for(var a=0,s=0;a<e.SheetNames.length;++a)(e.Sheets[e.SheetNames[a]]||{})["!ref"]&&aD(r,27,g(e.SheetNames[a],s++));var i=0;for(a=0;a<e.SheetNames.length;++a){var o=e.Sheets[e.SheetNames[a]];if(o&&o["!ref"]){for(var l=lA(o["!ref"]),c=Array.isArray(o),u=[],d=Math.min(l.e.r,8191),p=l.s.r;p<=d;++p)for(var m=tA(p),v=l.s.c;v<=l.e.c;++v){p===l.s.r&&(u[v]=rA(v));var y=u[v]+m,b=c?(o[p]||[])[v]:o[y];if(b&&"z"!=b.t)if("n"==b.t)aD(r,23,f(p,v,i,b.v));else aD(r,22,h(p,v,i,uA(b).slice(0,239)))}++i}}return aD(r,1),r.end()},to_workbook:function(e,n){switch(n.type){case"base64":return t(JS(GS(e)),n);case"binary":return t(JS(e),n);case"buffer":case"array":return t(e,n)}throw"Unsupported type "+n.type}}}();var eR=function(){var e=JC("t"),t=JC("rPr");function n(n){var r=n.match(e);if(!r)return{t:"s",v:""};var a={t:"s",v:VC(r[1])},s=n.match(t);return s&&(a.s=function(e){var t={},n=e.match(OC),r=0,a=!1;if(n)for(;r!=n.length;++r){var s=jC(n[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if("1"==s.val)break;t.cp=MS[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting"}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if("0"==s.val)break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if("0"==s.val)break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":case"<scheme":case"<scheme>":case"<scheme/>":case"</scheme>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(47!==s[0].charCodeAt(1)&&!a)throw new Error("Unrecognized rich format "+s[0])}}return t}(s[1])),a}var r=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(e){return e.replace(r,"").split(a).map(n).filter((function(e){return e.v}))}}(),tR=function(){var e=/(\r\n|\n)/g;function t(t){var n=[[],t.v,[]];return t.v?(t.s&&function(e,t,n){var r=[];e.u&&r.push("text-decoration: underline;"),e.uval&&r.push("text-underline-style:"+e.uval+";"),e.sz&&r.push("font-size:"+e.sz+"pt;"),e.outline&&r.push("text-effect: outline;"),e.shadow&&r.push("text-shadow: auto;"),t.push('<span style="'+r.join("")+'">'),e.b&&(t.push("<b>"),n.push("</b>")),e.i&&(t.push("<i>"),n.push("</i>")),e.strike&&(t.push("<s>"),n.push("</s>"));var a=e.valign||"";"superscript"==a||"super"==a?a="sup":"subscript"==a&&(a="sub"),""!=a&&(t.push("<"+a+">"),n.push("</"+a+">")),n.push("</span>")}(t.s,n[0],n[2]),n[0].join("")+n[1].replace(e,"<br/>")+n[2].join("")):""}return function(e){return e.map(t).join("")}}(),nR=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,rR=/<(?:\w+:)?r>/,aR=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function sR(e,t){var n=!t||t.cellHTML,r={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=VC(YC(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=YC(e),n&&(r.h=$C(r.t))):e.match(rR)&&(r.r=YC(e),r.t=VC(YC((e.replace(aR,"").match(nR)||[]).join("").replace(OC,""))),n&&(r.h=tR(eR(r.r)))),r):{t:""}}var iR=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,oR=/<(?:\w+:)?(?:si|sstItem)>/g,lR=/<\/(?:\w+:)?(?:si|sstItem)>/;function cR(e){if("undefined"!==typeof BS)return BS.utils.encode(OS,e);for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function uR(e,t){var n={};return n.Major=e.read_shift(2),n.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),n}function hR(e){for(var t=e.read_shift(4),n=e.l+t-4,r={},a=e.read_shift(4),s=[];a-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(r.name=e.read_shift(0,"lpp4"),r.comps=s,e.l!=n)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+n);return r}function dR(e){var t=function(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=uR(e,4),t.U=uR(e,4),t.W=uR(e,4),t}(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),4!=e.read_shift(4))throw new Error("Bad !Primary record");return t}function fR(e,t){var n=e.l+t,r={};r.Flags=63&e.read_shift(4),e.l+=4,r.AlgID=e.read_shift(4);var a=!1;switch(r.AlgID){case 26126:case 26127:case 26128:a=36==r.Flags;break;case 26625:a=4==r.Flags;break;case 0:a=16==r.Flags||4==r.Flags||36==r.Flags;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=e.read_shift(4),r.KeySize=e.read_shift(4),r.ProviderType=e.read_shift(4),e.l+=8,r.CSPName=e.read_shift(n-e.l>>1,"utf16le"),e.l=n,r}function pR(e,t){var n={},r=e.l+t;return e.l+=4,n.Salt=e.slice(e.l,e.l+16),e.l+=16,n.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),n.VerifierHash=e.slice(e.l,r),e.l=r,n}function mR(e){if(36!=(63&e.read_shift(4)))throw new Error("EncryptionInfo mismatch");var t=e.read_shift(4);return{t:"Std",h:fR(e,t),v:pR(e,e.length-e.l)}}function gR(){throw new Error("File is password-protected: ECMA-376 Extensible")}function vR(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var n=e.read_shift(e.length-e.l,"utf8"),r={};return n.replace(OC,(function(e){var n=jC(e);switch(LC(n[0])){case"<?xml":case"<encryption":case"</encryption>":case"</keyEncryptors>":case"</keyEncryptor>":break;case"<keyData":t.forEach((function(e){r[e]=n[e]}));break;case"<dataIntegrity":r.encryptedHmacKey=n.encryptedHmacKey,r.encryptedHmacValue=n.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"<keyEncryptor":r.uri=n.uri;break;case"<encryptedKey":r.encs.push(n);break;default:throw n[0]}})),r}function yR(e){var t,n,r=0,a=cR(e),s=a.length+1;for((t=YS(s))[0]=a.length,n=1;n!=s;++n)t[n]=a[n-1];for(n=s-1;n>=0;--n)r=((0===(16384&r)?0:1)|r<<1&32767)^t[n];return 52811^r}var bR=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(e,t){return 255&((n=e^t)/2|128*n);var n};return function(a){for(var s,i,o,l=cR(a),c=function(e){for(var r=t[e.length-1],a=104,s=e.length-1;s>=0;--s)for(var i=e[s],o=0;7!=o;++o)64&i&&(r^=n[a]),i*=2,--a;return r}(l),u=l.length,h=YS(16),d=0;16!=d;++d)h[d]=0;for(1===(1&u)&&(s=c>>8,h[u]=r(e[0],s),--u,s=255&c,i=l[l.length-1],h[u]=r(i,s));u>0;)s=c>>8,h[--u]=r(l[u],s),s=255&c,h[--u]=r(l[u],s);for(u=15,o=15-l.length;o>0;)s=c>>8,h[u]=r(e[o],s),--o,s=255&c,h[--u]=r(l[u],s),--u,--o;return h}}(),xR=function(e){var t=0,n=bR(e);return function(e){var r=function(e,t,n,r,a){var s,i;for(a||(a=t),r||(r=bR(e)),s=0;s!=t.length;++s)i=t[s],i=255&((i^=r[n])>>5|i<<3),a[s]=i,++n;return[a,n,r]}("",e,t,n);return t=r[1],r[0]}};function wR(e,t,n){var r=n||{};return r.Info=e.read_shift(2),e.l-=2,1===r.Info?r.Data=function(e){var t={},n=t.EncryptionVersionInfo=uR(e,4);if(1!=n.Major||1!=n.Minor)throw"unrecognized version code "+n.Major+" : "+n.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}(e):r.Data=function(e,t){var n={},r=n.EncryptionVersionInfo=uR(e,4);if(t-=4,2!=r.Minor)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,n.EncryptionHeader=fR(e,a),t-=a,n.EncryptionVerifier=pR(e,t),n}(e,t),r}var ER=function(){function e(e,n){switch(n.type){case"base64":return t(GS(e),n);case"binary":return t(e,n);case"buffer":return t(KS&&Buffer.isBuffer(e)?e.toString("binary"):ZS(e),n);case"array":return t(dC(e),n)}throw new Error("Unrecognized type "+n.type)}function t(e,t){var n=(t||{}).dense?[]:{},r=e.match(/\\trowd.*?\\row\b/g);if(!r.length)throw new Error("RTF missing table");var a={s:{c:0,r:0},e:{c:0,r:r.length-1}};return r.forEach((function(e,t){Array.isArray(n)&&(n[t]=[]);for(var r,s=/\\\w+\b/g,i=0,o=-1;r=s.exec(e);){if("\\cell"===r[0]){var l=e.slice(i,s.lastIndex-r[0].length);if(" "==l[0]&&(l=l.slice(1)),++o,l.length){var c={v:l,t:"s"};Array.isArray(n)?n[t][o]=c:n[sA({r:t,c:o})]=c}}i=s.lastIndex}o>a.e.c&&(a.e.c=o)})),n["!ref"]=oA(a),n}return{to_workbook:function(t,n){return hA(e(t,n),n)},to_sheet:e,from_sheet:function(e){for(var t,n=["{\\rtf1\\ansi"],r=lA(e["!ref"]),a=Array.isArray(e),s=r.s.r;s<=r.e.r;++s){n.push("\\trowd\\trautofit1");for(var i=r.s.c;i<=r.e.c;++i)n.push("\\cellx"+(i+1));for(n.push("\\pard\\intbl"),i=r.s.c;i<=r.e.c;++i){var o=sA({r:s,c:i});(t=a?(e[s]||[])[i]:e[o])&&(null!=t.v||t.f&&!t.F)&&(n.push(" "+(t.w||(uA(t),t.w))),n.push("\\cell"))}n.push("\\pard\\intbl\\row")}return n.join("")+"}"}}}();function TR(e){for(var t=0,n=1;3!=t;++t)n=256*n+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}function kR(e,t){if(0===t)return e;var n=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,a=Math.max(t,n,r),s=Math.min(t,n,r),i=a-s;if(0===i)return[0,0,t];var o,l=0,c=a+s;switch(o=i/(c>1?2-c:c),a){case t:l=((n-r)/i+6)%6;break;case n:l=(r-t)/i+2;break;case r:l=(t-n)/i+4}return[l/6,o,c/2]}(function(e){var t=e.slice("#"===e[0]?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}(e));return n[2]=t<0?n[2]*(1+t):1-(1-n[2])*(1-t),TR(function(e){var t,n=e[0],r=e[1],a=e[2],s=2*r*(a<.5?a:1-a),i=a-s/2,o=[i,i,i],l=6*n;if(0!==r)switch(0|l){case 0:case 6:t=s*l,o[0]+=s,o[1]+=t;break;case 1:t=s*(2-l),o[0]+=t,o[1]+=s;break;case 2:t=s*(l-2),o[1]+=s,o[2]+=t;break;case 3:t=s*(4-l),o[1]+=t,o[2]+=s;break;case 4:t=s*(l-4),o[2]+=s,o[0]+=t;break;case 5:t=s*(6-l),o[2]+=t,o[0]+=s}for(var c=0;3!=c;++c)o[c]=Math.round(255*o[c]);return o}(n))}var SR=6;function _R(e){return Math.floor((e+Math.round(128/SR)/256)*SR)}function CR(e){return Math.floor((e-5)/SR*100+.5)/100}function NR(e){return Math.round((e*SR+5)/SR*256)/256}function AR(e){return NR(CR(_R(e)))}function IR(e){var t=Math.abs(e-AR(e)),n=SR;if(t>.005)for(SR=1;SR<15;++SR)Math.abs(e-AR(e))<=t&&(t=Math.abs(e-AR(e)),n=SR);SR=n}function RR(e){e.width?(e.wpx=_R(e.width),e.wch=CR(e.wpx),e.MDW=SR):e.wpx?(e.wch=CR(e.wpx),e.width=NR(e.wch),e.MDW=SR):"number"==typeof e.wch&&(e.width=NR(e.wch),e.wpx=_R(e.width),e.MDW=SR),e.customWidth&&delete e.customWidth}var PR=96;function OR(e){return 96*e/PR}function DR(e){return e*PR/96}var MR={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};var jR=["numFmtId","fillId","fontId","borderId","xfId"],LR=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];var FR=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,r=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(s,i,o){var l,c={};return s?((l=(s=s.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"")).match(e))&&function(e,t,n){t.NumberFmt=[];for(var r=Z_(f_),a=0;a<r.length;++a)t.NumberFmt[r[a]]=f_[r[a]];var s=e[0].match(OC);if(s)for(a=0;a<s.length;++a){var i=jC(s[a]);switch(LC(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":case"</numFmt>":break;case"<numFmt":var o=VC(YC(i.formatCode)),l=parseInt(i.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&null!=t.NumberFmt[l];--l);t.NumberFmt[l]=o}q_(o,l)}break;default:if(n.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}(l,c,o),(l=s.match(r))&&function(e,t,n,r){t.Fonts=[];var a={},s=!1;(e[0].match(OC)||[]).forEach((function(e){var i=jC(e);switch(LC(i[0])){case"<fonts":case"<fonts>":case"</fonts>":case"<font":case"<font>":case"<name/>":case"</name>":case"<sz/>":case"</sz>":case"<vertAlign/>":case"</vertAlign>":case"<family/>":case"</family>":case"<scheme/>":case"</scheme>":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":i.val&&(a.name=YC(i.val));break;case"<b":a.bold=i.val?WC(i.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=i.val?WC(i.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(i.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=i.val?WC(i.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=i.val?WC(i.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=i.val?WC(i.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=i.val?WC(i.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=i.val?WC(i.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":i.val&&(a.sz=+i.val);break;case"<vertAlign":i.val&&(a.vertAlign=i.val);break;case"<family":i.val&&(a.family=parseInt(i.val,10));break;case"<scheme":i.val&&(a.scheme=i.val);break;case"<charset":if("1"==i.val)break;i.codepage=MS[parseInt(i.val,10)];break;case"<color":if(a.color||(a.color={}),i.auto&&(a.color.auto=WC(i.auto)),i.rgb)a.color.rgb=i.rgb.slice(-6);else if(i.indexed){a.color.index=parseInt(i.indexed,10);var o=jA[a.color.index];81==a.color.index&&(o=jA[1]),o||(o=jA[1]),a.color.rgb=o[0].toString(16)+o[1].toString(16)+o[2].toString(16)}else i.theme&&(a.color.theme=parseInt(i.theme,10),i.tint&&(a.color.tint=parseFloat(i.tint)),i.theme&&n.themeElements&&n.themeElements.clrScheme&&(a.color.rgb=kR(n.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<AlternateContent":case"<ext":s=!0;break;case"</AlternateContent>":case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+i[0]+" in fonts")}}))}(l,c,i,o),(l=s.match(n))&&function(e,t,n,r){t.Fills=[];var a={},s=!1;(e[0].match(OC)||[]).forEach((function(e){var n=jC(e);switch(LC(n[0])){case"<fills":case"<fills>":case"</fills>":case"</fill>":case"<gradientFill>":case"<patternFill/>":case"</patternFill>":case"<bgColor/>":case"</bgColor>":case"<fgColor/>":case"</fgColor>":case"<stop":case"<stop/>":case"</stop>":case"<color":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":n.patternType&&(a.patternType=n.patternType);break;case"<bgColor":a.bgColor||(a.bgColor={}),n.indexed&&(a.bgColor.indexed=parseInt(n.indexed,10)),n.theme&&(a.bgColor.theme=parseInt(n.theme,10)),n.tint&&(a.bgColor.tint=parseFloat(n.tint)),n.rgb&&(a.bgColor.rgb=n.rgb.slice(-6));break;case"<fgColor":a.fgColor||(a.fgColor={}),n.theme&&(a.fgColor.theme=parseInt(n.theme,10)),n.tint&&(a.fgColor.tint=parseFloat(n.tint)),null!=n.rgb&&(a.fgColor.rgb=n.rgb.slice(-6));break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+n[0]+" in fills")}}))}(l,c,0,o),(l=s.match(a))&&function(e,t,n,r){t.Borders=[];var a={},s=!1;(e[0].match(OC)||[]).forEach((function(e){var n=jC(e);switch(LC(n[0])){case"<borders":case"<borders>":case"</borders>":case"</border>":case"<left/>":case"<left":case"<left>":case"</left>":case"<right/>":case"<right":case"<right>":case"</right>":case"<top/>":case"<top":case"<top>":case"</top>":case"<bottom/>":case"<bottom":case"<bottom>":case"</bottom>":case"<diagonal":case"<diagonal>":case"<diagonal/>":case"</diagonal>":case"<horizontal":case"<horizontal>":case"<horizontal/>":case"</horizontal>":case"<vertical":case"<vertical>":case"<vertical/>":case"</vertical>":case"<start":case"<start>":case"<start/>":case"</start>":case"<end":case"<end>":case"<end/>":case"</end>":case"<color":case"<color>":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<border":case"<border>":case"<border/>":a={},n.diagonalUp&&(a.diagonalUp=WC(n.diagonalUp)),n.diagonalDown&&(a.diagonalDown=WC(n.diagonalDown)),t.Borders.push(a);break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+n[0]+" in borders")}}))}(l,c,0,o),(l=s.match(t))&&function(e,t,n){var r;t.CellXf=[];var a=!1;(e[0].match(OC)||[]).forEach((function(e){var s=jC(e),i=0;switch(LC(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":case"</xf>":case"</alignment>":case"<protection":case"</protection>":case"<protection/>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<xf":case"<xf/>":for(delete(r=s)[0],i=0;i<jR.length;++i)r[jR[i]]&&(r[jR[i]]=parseInt(r[jR[i]],10));for(i=0;i<LR.length;++i)r[LR[i]]&&(r[LR[i]]=WC(r[LR[i]]));if(t.NumberFmt&&r.numFmtId>392)for(i=392;i>60;--i)if(t.NumberFmt[r.numFmtId]==t.NumberFmt[i]){r.numFmtId=i;break}t.CellXf.push(r);break;case"<alignment":case"<alignment/>":var o={};s.vertical&&(o.vertical=s.vertical),s.horizontal&&(o.horizontal=s.horizontal),null!=s.textRotation&&(o.textRotation=s.textRotation),s.indent&&(o.indent=s.indent),s.wrapText&&(o.wrapText=WC(s.wrapText)),r.alignment=o;break;case"<AlternateContent":case"<ext":a=!0;break;case"</AlternateContent>":case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}}))}(l,c,o),c):c}}();var UR=qN;var VR=qN;var BR=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function zR(e,t,n){t.themeElements.clrScheme=[];var r={};(e[0].match(OC)||[]).forEach((function(e){var a=jC(e);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=a.val;break;case"<a:sysClr":r.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":"/"===a[0].charAt(1)?(t.themeElements.clrScheme[BR.indexOf(a[0])]=r,r={}):r.name=a[0].slice(3,a[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}}))}function $R(){}function HR(){}var WR=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,qR=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,GR=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;var KR=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function XR(e,t){var n;e&&0!==e.length||(e=YR());var r={};if(!(n=e.match(KR)))throw new Error("themeElements not found in theme");return function(e,t,n){var r;t.themeElements={},[["clrScheme",WR,zR],["fontScheme",qR,$R],["fmtScheme",GR,HR]].forEach((function(a){if(!(r=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](r,t,n)}))}(n[0],r,t),r.raw=e,r}function YR(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var n=[IC];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',n[n.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',n[n.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',n[n.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',n[n.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',n[n.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',n[n.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function QR(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:case 4:e.l+=4;break;case 1:t.xclrValue=function(e,t){return qN(e,t)}(e,4);break;case 2:t.xclrValue=xI(e);break;case 3:t.xclrValue=function(e){return e.read_shift(4)}(e)}return e.l+=8,t}function JR(e){var t=e.read_shift(2),n=e.read_shift(2)-4,r=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=QR(e);break;case 6:r[1]=function(e,t){return qN(e,t)}(e,n);break;case 14:case 15:r[1]=e.read_shift(1===n?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+n)}return r}function ZR(e,t,n,r){var a,s=Array.isArray(e);t.forEach((function(t){var i=aA(t.ref);if(s?(e[i.r]||(e[i.r]=[]),a=e[i.r][i.c]):a=e[t.ref],!a){a={t:"z"},s?e[i.r][i.c]=a:e[t.ref]=a;var o=lA(e["!ref"]||"BDWGO1000001:A1");o.s.r>i.r&&(o.s.r=i.r),o.e.r<i.r&&(o.e.r=i.r),o.s.c>i.c&&(o.s.c=i.c),o.e.c<i.c&&(o.e.c=i.c);var l=oA(o);l!==e["!ref"]&&(e["!ref"]=l)}a.c||(a.c=[]);var c={a:t.author,t:t.t,r:t.r,T:n};t.h&&(c.h=t.h);for(var u=a.c.length-1;u>=0;--u){if(!n&&a.c[u].T)return;n&&!a.c[u].T&&a.c.splice(u,1)}if(n&&r)for(u=0;u<r.length;++u)if(c.a==r[u].id){c.a=r[u].name||c.a;break}a.c.push(c)}))}var eP=pA;var tP=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(e,n,r,a){var s=!1,i=!1;0==r.length?i=!0:"["==r.charAt(0)&&(i=!0,r=r.slice(1,-1)),0==a.length?s=!0:"["==a.charAt(0)&&(s=!0,a=a.slice(1,-1));var o=r.length>0?0|parseInt(r,10):0,l=a.length>0?0|parseInt(a,10):0;return s?l+=t.c:--l,i?o+=t.r:--o,n+(s?"":"$")+rA(l)+(i?"":"$")+tA(o)}return function(r,a){return t=a,r.replace(e,n)}}(),nP=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,rP=function(){return function(e,t){return e.replace(nP,(function(e,n,r,a,s,i){var o=nA(a)-(r?0:t.c),l=eA(i)-(s?0:t.r);return n+"R"+(0==l?"":s?l+1:"["+l+"]")+"C"+(0==o?"":r?o+1:"["+o+"]")}))}}();function aP(e,t){return e.replace(nP,(function(e,n,r,a,s,i){return n+("$"==r?r+a:rA(nA(a)+t.c))+("$"==s?s+i:tA(eA(i)+t.r))}))}function sP(e,t,n){var r=iA(t).s,a=aA(n);return aP(e,{r:a.r-r.r,c:a.c-r.c})}function iP(e){return e.replace(/_xlfn\./g,"")}function oP(e){e.l+=1}function lP(e,t){var n=e.read_shift(1==t?1:2);return[16383&n,n>>14&1,n>>15&1]}function cP(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return uP(e);12==n.biff&&(r=4)}var a=e.read_shift(r),s=e.read_shift(r),i=lP(e,2),o=lP(e,2);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function uP(e){var t=lP(e,2),n=lP(e,2),r=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:a,cRel:n[1],rRel:n[2]}}}function hP(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return function(e){var t=lP(e,2),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}(e);var r=e.read_shift(n&&12==n.biff?4:2),a=lP(e,2);return{r:r,c:a[0],cRel:a[1],rRel:a[2]}}function dP(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:255&n,fQuoted:!!(16384&n),cRel:n>>15,rRel:n>>15}}function fP(e){var t=1&e[e.l+1];return e.l+=4,[t,1]}function pP(e){return[e.read_shift(1),e.read_shift(1)]}function mP(e,t){var n=[e.read_shift(1)];if(12==t)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2}switch(n[0]){case 4:n[1]=uI(e,1)?"TRUE":"FALSE",12!=t&&(e.l+=7);break;case 37:case 16:n[1]=LA[e[e.l]],e.l+=12==t?4:8;break;case 0:e.l+=8;break;case 1:n[1]=CA(e);break;case 2:n[1]=vI(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function gP(e,t,n){for(var r=e.read_shift(12==n.biff?4:2),a=[],s=0;s!=r;++s)a.push((12==n.biff?_A:SI)(e,8));return a}function vP(e,t,n){var r=0,a=0;12==n.biff?(r=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,0==--a&&(a=256));for(var s=0,i=[];s!=r&&(i[s]=[]);++s)for(var o=0;o!=a;++o)i[s][o]=mP(e,n.biff);return i}function yP(e,t,n){return e.l+=2,[dP(e)]}function bP(e){return e.l+=6,[]}function xP(e){return e.l+=2,[hI(e),1&e.read_shift(2)]}var wP=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];var EP={1:{n:"PtgExp",f:function(e,t,n){return e.l++,n&&12==n.biff?[e.read_shift(4,"i"),0]:[e.read_shift(2),e.read_shift(n&&2==n.biff?1:2)]}},2:{n:"PtgTbl",f:qN},3:{n:"PtgAdd",f:oP},4:{n:"PtgSub",f:oP},5:{n:"PtgMul",f:oP},6:{n:"PtgDiv",f:oP},7:{n:"PtgPower",f:oP},8:{n:"PtgConcat",f:oP},9:{n:"PtgLt",f:oP},10:{n:"PtgLe",f:oP},11:{n:"PtgEq",f:oP},12:{n:"PtgGe",f:oP},13:{n:"PtgGt",f:oP},14:{n:"PtgNe",f:oP},15:{n:"PtgIsect",f:oP},16:{n:"PtgUnion",f:oP},17:{n:"PtgRange",f:oP},18:{n:"PtgUplus",f:oP},19:{n:"PtgUminus",f:oP},20:{n:"PtgPercent",f:oP},21:{n:"PtgParen",f:oP},22:{n:"PtgMissArg",f:oP},23:{n:"PtgStr",f:function(e,t,n){return e.l++,fI(e,0,n)}},26:{n:"PtgSheet",f:function(e,t,n){return e.l+=5,e.l+=2,e.l+=2==n.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function(e,t,n){return e.l+=2==n.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function(e){return e.l++,LA[e.read_shift(1)]}},29:{n:"PtgBool",f:function(e){return e.l++,0!==e.read_shift(1)}},30:{n:"PtgInt",f:function(e){return e.l++,e.read_shift(2)}},31:{n:"PtgNum",f:function(e){return e.l++,CA(e)}},32:{n:"PtgArray",f:function(e,t,n){var r=(96&e[e.l++])>>5;return e.l+=2==n.biff?6:12==n.biff?14:7,[r]}},33:{n:"PtgFunc",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var a=e.read_shift(n&&n.biff<=3?1:2);return[$P[a],zP[a],r]}},34:{n:"PtgFuncVar",f:function(e,t,n){var r=e[e.l++],a=e.read_shift(1),s=n&&n.biff<=3?[88==r?-1:0,e.read_shift(1)]:function(e){return[e[e.l+1]>>7,32767&e.read_shift(2)]}(e);return[a,(0===s[0]?zP:BP)[s[1]]]}},35:{n:"PtgName",f:function(e,t,n){var r=e.read_shift(1)>>>5&3,a=!n||n.biff>=8?4:2,s=e.read_shift(a);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12}return[r,0,s]}},36:{n:"PtgRef",f:function(e,t,n){var r=(96&e[e.l])>>5;return e.l+=1,[r,hP(e,0,n)]}},37:{n:"PtgArea",f:function(e,t,n){return[(96&e[e.l++])>>5,cP(e,n.biff>=2&&n.biff,n)]}},38:{n:"PtgMemArea",f:function(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=n&&2==n.biff?3:4,[r,e.read_shift(n&&2==n.biff?1:2)]}},39:{n:"PtgMemErr",f:qN},40:{n:"PtgMemNoMem",f:qN},41:{n:"PtgMemFunc",f:function(e,t,n){return[e.read_shift(1)>>>5&3,e.read_shift(n&&2==n.biff?1:2)]}},42:{n:"PtgRefErr",f:function(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,12==n.biff&&(e.l+=2),[r]}},43:{n:"PtgAreaErr",f:function(e,t,n){var r=(96&e[e.l++])>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}},44:{n:"PtgRefN",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var a=function(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return function(e){var t=e.read_shift(2),n=e.read_shift(1),r=(32768&t)>>15,a=(16384&t)>>14;return t&=16383,1==r&&t>=8192&&(t-=16384),1==a&&n>=128&&(n-=256),{r:t,c:n,cRel:a,rRel:r}}(e);var a=e.read_shift(r>=12?4:2),s=e.read_shift(2),i=(16384&s)>>14,o=(32768&s)>>15;if(s&=16383,1==o)for(;a>524287;)a-=1048576;if(1==i)for(;s>8191;)s-=16384;return{r:a,c:s,cRel:i,rRel:o}}(e,0,n);return[r,a]}},45:{n:"PtgAreaN",f:function(e,t,n){var r=(96&e[e.l++])>>5,a=function(e,t,n){if(n.biff<8)return uP(e);var r=e.read_shift(12==n.biff?4:2),a=e.read_shift(12==n.biff?4:2),s=lP(e,2),i=lP(e,2);return{s:{r:r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:i[0],cRel:i[1],rRel:i[2]}}}(e,0,n);return[r,a]}},46:{n:"PtgMemAreaN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},57:{n:"PtgNameX",f:function(e,t,n){return 5==n.biff?function(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}(e):[e.read_shift(1)>>>5&3,e.read_shift(2),e.read_shift(4)]}},58:{n:"PtgRef3d",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var a=e.read_shift(2);return n&&5==n.biff&&(e.l+=12),[r,a,hP(e,0,n)]}},59:{n:"PtgArea3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,a=e.read_shift(2,"i");if(n)switch(n.biff){case 5:e.l+=12;break;case 12:0}return[r,a,cP(e,0,n)]}},60:{n:"PtgRefErr3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,a=e.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6}return e.l+=s,[r,a]}},61:{n:"PtgAreaErr3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,a=e.read_shift(2),s=8;if(n)switch(n.biff){case 5:e.l+=12,s=6;break;case 12:s=12}return e.l+=s,[r,a]}},255:{}},TP={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},kP={1:{n:"PtgElfLel",f:xP},2:{n:"PtgElfRw",f:yP},3:{n:"PtgElfCol",f:yP},6:{n:"PtgElfRwV",f:yP},7:{n:"PtgElfColV",f:yP},10:{n:"PtgElfRadical",f:yP},11:{n:"PtgElfRadicalS",f:bP},13:{n:"PtgElfColS",f:bP},15:{n:"PtgElfColSV",f:bP},16:{n:"PtgElfRadicalLel",f:xP},25:{n:"PtgList",f:function(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2);return{ixti:t,coltype:3&n,rt:wP[n>>2&31],idx:r,c:a,C:s}}},29:{n:"PtgSxName",f:function(e){return e.l+=2,[e.read_shift(4)]}},255:{}},SP={0:{n:"PtgAttrNoop",f:function(e){return e.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=n&&2==n.biff?3:4,[r]}},2:{n:"PtgAttrIf",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(n&&2==n.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function(e,t,n){e.l+=2;for(var r=e.read_shift(n&&2==n.biff?1:2),a=[],s=0;s<=r;++s)a.push(e.read_shift(n&&2==n.biff?1:2));return a}},8:{n:"PtgAttrGoto",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(n&&2==n.biff?1:2)]}},16:{n:"PtgAttrSum",f:function(e,t,n){e.l+=n&&2==n.biff?3:4}},32:{n:"PtgAttrBaxcel",f:fP},33:{n:"PtgAttrBaxcel",f:fP},64:{n:"PtgAttrSpace",f:function(e){return e.read_shift(2),pP(e)}},65:{n:"PtgAttrSpaceSemi",f:function(e){return e.read_shift(2),pP(e)}},128:{n:"PtgAttrIfError",f:function(e){var t=255&e[e.l+1]?1:0;return e.l+=2,[t,e.read_shift(2)]}},255:{}};function _P(e,t,n,r){if(r.biff<8)return qN(e,t);for(var a=e.l+t,s=[],i=0;i!==n.length;++i)switch(n[i][0]){case"PtgArray":n[i][1]=vP(e,0,r),s.push(n[i][1]);break;case"PtgMemArea":n[i][2]=gP(e,n[i][1],r),s.push(n[i][2]);break;case"PtgExp":r&&12==r.biff&&(n[i][1][1]=e.read_shift(4),s.push(n[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[i][0]}return 0!==(t=a-e.l)&&s.push(qN(e,t)),s}function CP(e,t,n){for(var r,a,s=e.l+t,i=[];s!=e.l;)t=s-e.l,a=e[e.l],r=EP[a]||EP[TP[a]],24!==a&&25!==a||(r=(24===a?kP:SP)[e[e.l+1]]),r&&r.f?i.push([r.n,r.f(e,t,n)]):qN(e,t);return i}function NP(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],a=[],s=0;s<r.length;++s){var i=r[s];if(i)if(2===i[0])a.push('"'+i[1].replace(/"/g,'""')+'"');else a.push(i[1]);else a.push("")}t.push(a.join(","))}return t.join(";")}var AP={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function IP(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),0==t?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var a="";if(n.biff>8)switch(e[r[0]][0]){case 357:return a=-1==r[1]?"#REF":e.SheetNames[r[1]],r[1]==r[2]?a:a+":"+e.SheetNames[r[2]];case 358:return null!=n.SID?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return a=-1==r[1]?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?a:a+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map((function(e){return e.Name})).join(";;");default:return e[r[0]][0][3]?(a=-1==r[1]?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?a:a+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function RP(e,t,n){var r=IP(e,t,n);return"#REF"==r?r:function(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}(r,n)}function PP(e,t,n,r,a){var s,i,o,l,c=a&&a.biff||8,u={s:{c:0,r:0},e:{c:0,r:0}},h=[],d=0,f=0,p="";if(!e[0]||!e[0][0])return"";for(var m=-1,g="",v=0,y=e[0].length;v<y;++v){var b=e[0][v];switch(b[0]){case"PtgUminus":h.push("-"+h.pop());break;case"PtgUplus":h.push("+"+h.pop());break;case"PtgPercent":h.push(h.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(s=h.pop(),i=h.pop(),m>=0){switch(e[0][m][1][0]){case 0:g=pC(" ",e[0][m][1][1]);break;case 1:g=pC("\r",e[0][m][1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}i+=g,m=-1}h.push(i+AP[b[0]]+s);break;case"PtgIsect":s=h.pop(),i=h.pop(),h.push(i+" "+s);break;case"PtgUnion":s=h.pop(),i=h.pop(),h.push(i+","+s);break;case"PtgRange":s=h.pop(),i=h.pop(),h.push(i+":"+s);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":o=YN(b[1][1],u,a),h.push(JN(o,c));break;case"PtgRefN":o=n?YN(b[1][1],n,a):b[1][1],h.push(JN(o,c));break;case"PtgRef3d":d=b[1][1],o=YN(b[1][2],u,a);p=RP(r,d,a);h.push(p+"!"+JN(o,c));break;case"PtgFunc":case"PtgFuncVar":var x=b[1][0],w=b[1][1];x||(x=0);var E=0==(x&=127)?[]:h.slice(-x);h.length-=x,"User"===w&&(w=E.shift()),h.push(w+"("+E.join(",")+")");break;case"PtgBool":h.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":h.push(b[1]);break;case"PtgNum":h.push(String(b[1]));break;case"PtgStr":h.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":l=QN(b[1][1],n?{s:n}:u,a),h.push(ZN(l,a));break;case"PtgArea":l=QN(b[1][1],u,a),h.push(ZN(l,a));break;case"PtgArea3d":d=b[1][1],l=b[1][2],p=RP(r,d,a),h.push(p+"!"+ZN(l,a));break;case"PtgAttrSum":h.push("SUM("+h.pop()+")");break;case"PtgName":f=b[1][2];var T=(r.names||[])[f-1]||(r[0]||[])[f],k=T?T.Name:"SH33TJSNAME"+String(f);k&&"_xlfn."==k.slice(0,6)&&!a.xlfn&&(k=k.slice(6)),h.push(k);break;case"PtgNameX":var S,_=b[1][1];if(f=b[1][2],!(a.biff<=5)){var C="";if(14849==((r[_]||[])[0]||[])[0]||(1025==((r[_]||[])[0]||[])[0]?r[_][f]&&r[_][f].itab>0&&(C=r.SheetNames[r[_][f].itab-1]+"!"):C=r.SheetNames[f-1]+"!"),r[_]&&r[_][f])C+=r[_][f].Name;else if(r[0]&&r[0][f])C+=r[0][f].Name;else{var N=(IP(r,_,a)||"").split(";;");N[f-1]?C=N[f-1]:C+="SH33TJSERRX"}h.push(C);break}_<0&&(_=-_),r[_]&&(S=r[_][f]),S||(S={Name:"SH33TJSERRY"}),h.push(S.Name);break;case"PtgParen":var A="(",I=")";if(m>=0){switch(g="",e[0][m][1][0]){case 2:A=pC(" ",e[0][m][1][1])+A;break;case 3:A=pC("\r",e[0][m][1][1])+A;break;case 4:I=pC(" ",e[0][m][1][1])+I;break;case 5:I=pC("\r",e[0][m][1][1])+I;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}h.push(A+h.pop()+I);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":h.push("#REF!");break;case"PtgExp":o={c:b[1][1],r:b[1][0]};var R={c:n.c,r:n.r};if(r.sharedf[sA(o)]){var P=r.sharedf[sA(o)];h.push(PP(P,u,R,r,a))}else{var O=!1;for(s=0;s!=r.arrayf.length;++s)if(i=r.arrayf[s],!(o.c<i[0].s.c||o.c>i[0].e.c)&&!(o.r<i[0].s.r||o.r>i[0].e.r)){h.push(PP(i[1],u,R,r,a)),O=!0;break}O||h.push(b[1])}break;case"PtgArray":h.push("{"+NP(b[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=v;break;case"PtgMissArg":h.push("");break;case"PtgList":h.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(b))}if(3!=a.biff&&m>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(e[0][v][0])){var D=!0;switch((b=e[0][m])[1][0]){case 4:D=!1;case 0:g=pC(" ",b[1][1]);break;case 5:D=!1;case 1:g=pC("\r",b[1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}h.push((D?g:"")+h.pop()+(D?"":g)),m=-1}}if(h.length>1&&a.WTF)throw new Error("bad formula stack");return h[0]}function OP(e,t,n){var r,a=e.l+t,s=2==n.biff?1:2,i=e.read_shift(s);if(65535==i)return[[],qN(e,t-2)];var o=CP(e,i,n);return t!==i+s&&(r=_P(e,t-i-s,o,n)),e.l=a,[o,r]}function DP(e,t,n){var r,a=e.l+t,s=e.read_shift(2),i=CP(e,s,n);return 65535==s?[[],qN(e,t-2)]:(t!==s+2&&(r=_P(e,a-s-2,i,n)),[i,r])}function MP(e,t,n){var r=e.l+t,a=EI(e);2==n.biff&&++e.l;var s=function(e){var t;if(65535!==DN(e,e.l+6))return[CA(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=1===e[e.l+2],e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}(e),i=e.read_shift(1);2!=n.biff&&(e.read_shift(1),n.biff>=5&&e.read_shift(4));var o=function(e,t,n){var r,a=e.l+t,s=2==n.biff?1:2,i=e.read_shift(s);if(65535==i)return[[],qN(e,t-2)];var o=CP(e,i,n);return t!==i+s&&(r=_P(e,t-i-s,o,n)),e.l=a,[o,r]}(e,r-e.l,n);return{cell:a,val:s[0],formula:o,shared:i>>3&1,tt:s[1]}}function jP(e,t,n){var r=e.read_shift(4),a=CP(e,r,n),s=e.read_shift(4);return[a,s>0?_P(e,s,a,n):null]}var LP=jP,FP=jP,UP=jP,VP=jP,BP={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},zP={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},$P={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function HP(e){return"of:"==e.slice(0,3)&&(e=e.slice(3)),61==e.charCodeAt(0)&&61==(e=e.slice(1)).charCodeAt(0)&&(e=e.slice(1)),(e=(e=(e=e.replace(/COM\.MICROSOFT\./g,"")).replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,(function(e,t){return t.replace(/\./g,"")}))).replace(/\[.(#[A-Z]*[?!])\]/g,"$1")).replace(/[;~]/g,",").replace(/\|/g,";")}function WP(e){var t=e.split(":");return[t[0].split(".")[0],t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var qP={},GP={};function KP(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];"xlml"==t&&(n=[1,1,1,1,.5,.5]),null==e.left&&(e.left=n[0]),null==e.right&&(e.right=n[1]),null==e.top&&(e.top=n[2]),null==e.bottom&&(e.bottom=n[3]),null==e.header&&(e.header=n[4]),null==e.footer&&(e.footer=n[5])}}function XP(e,t,n,r,a,s){try{r.cellNF&&(e.z=f_[t])}catch(Pm){if(r.WTF)throw Pm}if("z"!==e.t||r.cellStyles){if("d"===e.t&&"string"===typeof e.v&&(e.v=hC(e.v)),(!r||!1!==r.cellText)&&"z"!==e.t)try{if(null==f_[t]&&q_(K_[t]||"General",t),"e"===e.t)e.w=e.w||LA[e.v];else if(0===t)if("n"===e.t)(0|e.v)===e.v?e.w=e.v.toString(10):e.w=T_(e.v);else if("d"===e.t){var i=nC(e.v);e.w=(0|i)===i?i.toString(10):T_(i)}else{if(void 0===e.v)return"";e.w=k_(e.v,GP)}else"d"===e.t?e.w=W_(t,nC(e.v),GP):e.w=W_(t,e.v,GP)}catch(Pm){if(r.WTF)throw Pm}if(r.cellStyles&&null!=n)try{e.s=s.Fills[n],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=kR(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),r.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=kR(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),r.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(Pm){if(r.WTF&&s.Fills)throw Pm}}}var YP=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,QP=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,JP=/<(?:\w:)?hyperlink [^>]*>/gm,ZP=/"(\w*:\w*)"/,eO=/<(?:\w:)?col\b[^>]*[\/]?>/g,tO=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,nO=/<(?:\w:)?pageMargins[^>]*\/>/g,rO=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,aO=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,sO=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function iO(e,t,n,r,a,s,i){if(!e)return e;r||(r={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",h=e.match(QP);h?(c=e.slice(0,h.index),u=e.slice(h.index+h[0].length)):c=u=e;var d=c.match(rO);d?oO(d[0],o,a,n):(d=c.match(aO))&&function(e,t,n,r,a){oO(e.slice(0,e.indexOf(">")),n,r,a)}(d[0],d[1],o,a,n);var f=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(f>0){var p=c.slice(f,f+50).match(ZP);p&&function(e,t){var n=lA(t);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(e["!ref"]=oA(n))}(o,p[1])}var m=c.match(sO);m&&m[1]&&function(e,t){t.Views||(t.Views=[{}]);(e.match(lO)||[]).forEach((function(e,n){var r=jC(e);t.Views[n]||(t.Views[n]={}),+r.zoomScale&&(t.Views[n].zoom=+r.zoomScale),WC(r.rightToLeft)&&(t.Views[n].RTL=!0)}))}(m[1],a);var g=[];if(t.cellStyles){var v=c.match(eO);v&&function(e,t){for(var n=!1,r=0;r!=t.length;++r){var a=jC(t[r],!0);a.hidden&&(a.hidden=WC(a.hidden));var s=parseInt(a.min,10)-1,i=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!n&&a.width&&(n=!0,IR(a.width)),RR(a);s<=i;)e[s++]=fC(a)}}(g,v)}h&&cO(h[1],o,t,l,s,i);var y=u.match(tO);y&&(o["!autofilter"]=function(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}(y[0]));var b=[],x=u.match(YP);if(x)for(f=0;f!=x.length;++f)b[f]=lA(x[f].slice(x[f].indexOf('"')+1));var w=u.match(JP);w&&function(e,t,n){for(var r=Array.isArray(e),a=0;a!=t.length;++a){var s=jC(YC(t[a]),!0);if(!s.ref)return;var i=((n||{})["!id"]||[])[s.id];i?(s.Target=i.Target,s.location&&(s.Target+="#"+VC(s.location))):(s.Target="#"+VC(s.location),i={Target:s.Target,TargetMode:"Internal"}),s.Rel=i,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=lA(s.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=sA({c:c,r:l});r?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=s):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=s)}}}(o,w,r);var E=u.match(nO);if(E&&(o["!margins"]=function(e){var t={};return["left","right","top","bottom","header","footer"].forEach((function(n){e[n]&&(t[n]=parseFloat(e[n]))})),t}(jC(E[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=oA(l)),t.sheetRows>0&&o["!ref"]){var T=lA(o["!ref"]);t.sheetRows<=+T.e.r&&(T.e.r=t.sheetRows-1,T.e.r>l.e.r&&(T.e.r=l.e.r),T.e.r<T.s.r&&(T.s.r=T.e.r),T.e.c>l.e.c&&(T.e.c=l.e.c),T.e.c<T.s.c&&(T.s.c=T.e.c),o["!fullref"]=o["!ref"],o["!ref"]=oA(T))}return g.length>0&&(o["!cols"]=g),b.length>0&&(o["!merges"]=b),o}function oO(e,t,n,r){var a=jC(e);n.Sheets[r]||(n.Sheets[r]={}),a.codeName&&(n.Sheets[r].CodeName=VC(YC(a.codeName)))}var lO=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;var cO=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,s=JC("v"),i=JC("f");return function(o,l,c,u,h,d){for(var f,p,m,g,v,y=0,b="",x=[],w=[],E=0,T=0,k=0,S="",_=0,C=0,N=0,A=0,I=Array.isArray(d.CellXf),R=[],P=[],O=Array.isArray(l),D=[],M={},j=!1,L=!!c.sheetStubs,F=o.split(t),U=0,V=F.length;U!=V;++U){var B=(b=F[U].trim()).length;if(0!==B){var z=0;e:for(y=0;y<B;++y)switch(b[y]){case">":if("/"!=b[y-1]){++y;break e}if(c&&c.cellStyles){if(_=null!=(p=jC(b.slice(z,y),!0)).r?parseInt(p.r,10):_+1,C=-1,c.sheetRows&&c.sheetRows<_)continue;M={},j=!1,p.ht&&(j=!0,M.hpt=parseFloat(p.ht),M.hpx=DR(M.hpt)),"1"==p.hidden&&(j=!0,M.hidden=!0),null!=p.outlineLevel&&(j=!0,M.level=+p.outlineLevel),j&&(D[_-1]=M)}break;case"<":z=y}if(z>=y)break;if(_=null!=(p=jC(b.slice(z,y),!0)).r?parseInt(p.r,10):_+1,C=-1,!(c.sheetRows&&c.sheetRows<_)){u.s.r>_-1&&(u.s.r=_-1),u.e.r<_-1&&(u.e.r=_-1),c&&c.cellStyles&&(M={},j=!1,p.ht&&(j=!0,M.hpt=parseFloat(p.ht),M.hpx=DR(M.hpt)),"1"==p.hidden&&(j=!0,M.hidden=!0),null!=p.outlineLevel&&(j=!0,M.level=+p.outlineLevel),j&&(D[_-1]=M)),x=b.slice(y).split(e);for(var $=0;$!=x.length&&"<"==x[$].trim().charAt(0);++$);for(x=x.slice($),y=0;y!=x.length;++y)if(0!==(b=x[y].trim()).length){if(w=b.match(n),E=y,T=0,k=0,b="<c "+("<"==b.slice(0,1)?">":"")+b,null!=w&&2===w.length){for(E=0,S=w[1],T=0;T!=S.length&&!((k=S.charCodeAt(T)-64)<1||k>26);++T)E=26*E+k;C=--E}else++C;for(T=0;T!=b.length&&62!==b.charCodeAt(T);++T);if(++T,(p=jC(b.slice(0,T),!0)).r||(p.r=sA({r:_-1,c:C})),f={t:""},null!=(w=(S=b.slice(T)).match(s))&&""!==w[1]&&(f.v=VC(w[1])),c.cellFormula){if(null!=(w=S.match(i))&&""!==w[1]){if(f.f=VC(YC(w[1])).replace(/\r\n/g,"\n"),c.xlfn||(f.f=iP(f.f)),w[0].indexOf('t="array"')>-1)f.F=(S.match(a)||[])[1],f.F.indexOf(":")>-1&&R.push([lA(f.F),f.F]);else if(w[0].indexOf('t="shared"')>-1){g=jC(w[0]);var H=VC(YC(w[1]));c.xlfn||(H=iP(H)),P[parseInt(g.si,10)]=[g,H,p.r]}}else(w=S.match(/<f[^>]*\/>/))&&P[(g=jC(w[0])).si]&&(f.f=sP(P[g.si][1],P[g.si][2],p.r));var W=aA(p.r);for(T=0;T<R.length;++T)W.r>=R[T][0].s.r&&W.r<=R[T][0].e.r&&W.c>=R[T][0].s.c&&W.c<=R[T][0].e.c&&(f.F=R[T][1])}if(null==p.t&&void 0===f.v)if(f.f||f.F)f.v=0,f.t="n";else{if(!L)continue;f.t="z"}else f.t=p.t||"n";switch(u.s.c>C&&(u.s.c=C),u.e.c<C&&(u.e.c=C),f.t){case"n":if(""==f.v||null==f.v){if(!L)continue;f.t="z"}else f.v=parseFloat(f.v);break;case"s":if("undefined"==typeof f.v){if(!L)continue;f.t="z"}else m=qP[parseInt(f.v,10)],f.v=m.t,f.r=m.r,c.cellHTML&&(f.h=m.h);break;case"str":f.t="s",f.v=null!=f.v?YC(f.v):"",c.cellHTML&&(f.h=$C(f.v));break;case"inlineStr":w=S.match(r),f.t="s",null!=w&&(m=sR(w[1]))?(f.v=m.t,c.cellHTML&&(f.h=m.h)):f.v="";break;case"b":f.v=WC(f.v);break;case"d":c.cellDates?f.v=hC(f.v,1):(f.v=nC(hC(f.v,1)),f.t="n");break;case"e":c&&!1===c.cellText||(f.w=f.v),f.v=FA[f.v]}if(N=A=0,v=null,I&&void 0!==p.s&&null!=(v=d.CellXf[p.s])&&(null!=v.numFmtId&&(N=v.numFmtId),c.cellStyles&&null!=v.fillId&&(A=v.fillId)),XP(f,N,A,c,h,d),c.cellDates&&I&&"n"==f.t&&B_(f_[N])&&(f.t="d",f.v=iC(f.v)),p.cm&&c.xlmeta){var q=(c.xlmeta.Cell||[])[+p.cm-1];q&&"XLDAPR"==q.type&&(f.D=!0)}if(O){var G=aA(p.r);l[G.r]||(l[G.r]=[]),l[G.r][G.c]=f}else l[p.r]=f}}}}D.length>0&&(l["!rows"]=D)}}();var uO=_A;function hO(e){return[bA(e),CA(e),"n"]}var dO=_A;var fO=["left","right","top","bottom","header","footer"];function pO(e,t,n,r,a,s){var i=s||{"!type":"chart"};if(!e)return s;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach((function(e){var t=function(e){var t,n=[],r=e.match(/^<c:numCache>/);(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/gm)||[]).forEach((function(e){var t=e.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);t&&(n[+t[1]]=r?+t[2]:t[2])}));var a=VC((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/gm)||[]).forEach((function(e){t=e.replace(/<.*?>/g,"")})),[n,a,t]}(e);u.s.r=u.s.c=0,u.e.c=o,c=rA(o),t[0].forEach((function(e,n){i[c+tA(n)]={t:"n",v:e,z:t[1]},l=n})),u.e.r<l&&(u.e.r=l),++o})),o>0&&(i["!ref"]=oA(u)),i}var mO=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],gO=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],vO=[],yO=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function bO(e,t){for(var n=0;n!=e.length;++n)for(var r=e[n],a=0;a!=t.length;++a){var s=t[a];if(null==r[s[0]])r[s[0]]=s[1];else switch(s[2]){case"bool":"string"==typeof r[s[0]]&&(r[s[0]]=WC(r[s[0]]));break;case"int":"string"==typeof r[s[0]]&&(r[s[0]]=parseInt(r[s[0]],10))}}}function xO(e,t){for(var n=0;n!=t.length;++n){var r=t[n];if(null==e[r[0]])e[r[0]]=r[1];else switch(r[2]){case"bool":"string"==typeof e[r[0]]&&(e[r[0]]=WC(e[r[0]]));break;case"int":"string"==typeof e[r[0]]&&(e[r[0]]=parseInt(e[r[0]],10))}}}function wO(e){xO(e.WBProps,mO),xO(e.CalcPr,yO),bO(e.WBView,gO),bO(e.Sheets,vO),GP.date1904=WC(e.WBProps.date1904)}var EO="][*?/\\".split("");function TO(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var n=!0;return EO.forEach((function(r){if(-1!=e.indexOf(r)){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");n=!1}})),n}var kO=/<\w+:workbook/;function SO(e,t){var n={};return e.read_shift(4),n.ArchID=e.read_shift(4),e.l+=t-8,n}function _O(e,t,n){return".bin"===t.slice(-4)?function(e,t){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],a=!1;t||(t={}),t.biff=12;var s=[],i=[[]];return i.SheetNames=[],i.XTI=[],nD[16]={n:"BrtFRTArchID$",f:SO},KN(e,(function(e,o,l){switch(l){case 156:i.SheetNames.push(e.name),n.Sheets.push(e);break;case 153:n.WBProps=e;break;case 39:null!=e.Sheet&&(t.SID=e.Sheet),e.Ref=PP(e.Ptg,0,null,i,t),delete t.SID,delete e.Ptg,s.push(e);break;case 1036:case 361:case 2071:case 158:case 143:case 664:case 353:case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:case 16:break;case 357:case 358:case 355:case 667:i[0].length?i.push([l,e]):i[0]=[l,e],i[i.length-1].XTI=[];break;case 362:0===i.length&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(e),i.XTI=i.XTI.concat(e);break;case 35:case 37:r.push(l),a=!0;break;case 36:case 38:r.pop(),a=!1;break;default:if(o.T);else if(!a||t.WTF&&37!=r[r.length-1]&&35!=r[r.length-1])throw new Error("Unexpected record 0x"+l.toString(16))}}),t),wO(n),n.Names=s,n.supbooks=i,n}(e,n):function(e,t){if(!e)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,a="xmlns",s={},i=0;if(e.replace(OC,(function(o,l){var c=jC(o);switch(LC(c[0])){case"<?xml":case"</workbook>":case"<fileVersion/>":case"</fileVersion>":case"<fileSharing":case"<fileSharing/>":case"</workbookPr>":case"<workbookProtection":case"<workbookProtection/>":case"<bookViews":case"<bookViews>":case"</bookViews>":case"</workbookView>":case"<sheets":case"<sheets>":case"</sheets>":case"</sheet>":case"<functionGroups":case"<functionGroups/>":case"<functionGroup":case"<externalReferences":case"</externalReferences>":case"<externalReferences>":case"<externalReference":case"<definedNames/>":case"<definedName/>":case"</calcPr>":case"<oleSize":case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":case"<customWorkbookView":case"</customWorkbookView>":case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":case"<pivotCache":case"<smartTagPr":case"<smartTagPr/>":case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":case"<smartTagType":case"<webPublishing":case"<webPublishing/>":case"<fileRecoveryPr":case"<fileRecoveryPr/>":case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":case"<webPublishObject":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":case"<ArchID":case"<revisionPtr":break;case"<workbook":o.match(kO)&&(a="xmlns"+o.match(/<(\w+):/)[1]),n.xmlns=c[a];break;case"<fileVersion":delete c[0],n.AppVersion=c;break;case"<workbookPr":case"<workbookPr/>":mO.forEach((function(e){if(null!=c[e[0]])switch(e[2]){case"bool":n.WBProps[e[0]]=WC(c[e[0]]);break;case"int":n.WBProps[e[0]]=parseInt(c[e[0]],10);break;default:n.WBProps[e[0]]=c[e[0]]}})),c.codeName&&(n.WBProps.CodeName=YC(c.codeName));break;case"<workbookView":case"<workbookView/>":delete c[0],n.WBView.push(c);break;case"<sheet":switch(c.state){case"hidden":c.Hidden=1;break;case"veryHidden":c.Hidden=2;break;default:c.Hidden=0}delete c.state,c.name=VC(YC(c.name)),delete c[0],n.Sheets.push(c);break;case"<definedNames>":case"<definedNames":case"<ext":case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</definedNames>":case"</ext>":case"</AlternateContent>":r=!1;break;case"<definedName":(s={}).Name=YC(c.name),c.comment&&(s.Comment=c.comment),c.localSheetId&&(s.Sheet=+c.localSheetId),WC(c.hidden||"0")&&(s.Hidden=!0),i=l+o.length;break;case"</definedName>":s.Ref=VC(YC(e.slice(i,l))),n.Names.push(s);break;case"<calcPr":case"<calcPr/>":delete c[0],n.CalcPr=c;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+c[0]+" in workbook")}return o})),-1===uN.indexOf(n.xmlns))throw new Error("Unknown Namespace: "+n.xmlns);return wO(n),n}(e,n)}function CO(e,t,n,r,a,s,i,o){return".bin"===t.slice(-4)?function(e,t,n,r,a,s,i){if(!e)return e;var o=t||{};r||(r={"!id":{}});var l,c,u,h,d,f,p,m,g,v,y=o.dense?[]:{},b={s:{r:2e6,c:2e6},e:{r:0,c:0}},x=[],w=!1,E=!1,T=[];o.biff=12,o["!row"]=0;var k=0,S=!1,_=[],C={},N=o.supbooks||a.supbooks||[[]];if(N.sharedf=C,N.arrayf=_,N.SheetNames=a.SheetNames||a.Sheets.map((function(e){return e.name})),!o.supbooks&&(o.supbooks=N,a.Names))for(var A=0;A<a.Names.length;++A)N[0][A+1]=a.Names[A];var I,R,P=[],O=[],D=!1;if(nD[16]={n:"BrtShortReal",f:hO},KN(e,(function(e,t,A){if(!E)switch(A){case 148:l=e;break;case 0:c=e,o.sheetRows&&o.sheetRows<=c.r&&(E=!0),g=tA(d=c.r),o["!row"]=c.r,(e.hidden||e.hpt||null!=e.level)&&(e.hpt&&(e.hpx=DR(e.hpt)),O[e.r]=e);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(u={t:e[2]},e[2]){case"n":u.v=e[1];break;case"s":m=qP[e[1]],u.v=m.t,u.r=m.r;break;case"b":u.v=!!e[1];break;case"e":u.v=e[1],!1!==o.cellText&&(u.w=LA[u.v]);break;case"str":u.t="s",u.v=e[1];break;case"is":u.t="s",u.v=e[1].t}if((h=i.CellXf[e[0].iStyleRef])&&XP(u,h.numFmtId,null,o,s,i),f=-1==e[0].c?f+1:e[0].c,o.dense?(y[d]||(y[d]=[]),y[d][f]=u):y[rA(f)+g]=u,o.cellFormula){for(S=!1,k=0;k<_.length;++k){var M=_[k];c.r>=M[0].s.r&&c.r<=M[0].e.r&&f>=M[0].s.c&&f<=M[0].e.c&&(u.F=oA(M[0]),S=!0)}!S&&e.length>3&&(u.f=e[3])}if(b.s.r>c.r&&(b.s.r=c.r),b.s.c>f&&(b.s.c=f),b.e.r<c.r&&(b.e.r=c.r),b.e.c<f&&(b.e.c=f),o.cellDates&&h&&"n"==u.t&&B_(f_[h.numFmtId])){var j=v_(u.v);j&&(u.t="d",u.v=new Date(j.y,j.m-1,j.d,j.H,j.M,j.S,j.u))}I&&("XLDAPR"==I.type&&(u.D=!0),I=void 0),R&&(R=void 0);break;case 1:case 12:if(!o.sheetStubs||w)break;u={t:"z",v:void 0},f=-1==e[0].c?f+1:e[0].c,o.dense?(y[d]||(y[d]=[]),y[d][f]=u):y[rA(f)+g]=u,b.s.r>c.r&&(b.s.r=c.r),b.s.c>f&&(b.s.c=f),b.e.r<c.r&&(b.e.r=c.r),b.e.c<f&&(b.e.c=f),I&&("XLDAPR"==I.type&&(u.D=!0),I=void 0),R&&(R=void 0);break;case 176:T.push(e);break;case 49:I=((o.xlmeta||{}).Cell||[])[e-1];break;case 494:var L=r["!id"][e.relId];for(L?(e.Target=L.Target,e.loc&&(e.Target+="#"+e.loc),e.Rel=L):""==e.relId&&(e.Target="#"+e.loc),d=e.rfx.s.r;d<=e.rfx.e.r;++d)for(f=e.rfx.s.c;f<=e.rfx.e.c;++f)o.dense?(y[d]||(y[d]=[]),y[d][f]||(y[d][f]={t:"z",v:void 0}),y[d][f].l=e):(p=sA({c:f,r:d}),y[p]||(y[p]={t:"z",v:void 0}),y[p].l=e);break;case 426:if(!o.cellFormula)break;_.push(e),(v=o.dense?y[d][f]:y[rA(f)+g]).f=PP(e[1],0,{r:c.r,c:f},N,o),v.F=oA(e[0]);break;case 427:if(!o.cellFormula)break;C[sA(e[0].s)]=e[1],(v=o.dense?y[d][f]:y[rA(f)+g]).f=PP(e[1],0,{r:c.r,c:f},N,o);break;case 60:if(!o.cellStyles)break;for(;e.e>=e.s;)P[e.e--]={width:e.w/256,hidden:!!(1&e.flags),level:e.level},D||(D=!0,IR(e.w/256)),RR(P[e.e+1]);break;case 161:y["!autofilter"]={ref:oA(e)};break;case 476:y["!margins"]=e;break;case 147:a.Sheets[n]||(a.Sheets[n]={}),e.name&&(a.Sheets[n].CodeName=e.name),(e.above||e.left)&&(y["!outline"]={above:e.above,left:e.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),e.RTL&&(a.Views[0].RTL=!0);break;case 485:case 64:case 1053:case 151:case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:w=!0;break;case 36:w=!1;break;case 37:x.push(A),w=!0;break;case 38:x.pop(),w=!1;break;default:if(t.T);else if(!w||o.WTF)throw new Error("Unexpected record 0x"+A.toString(16))}}),o),delete o.supbooks,delete o["!row"],!y["!ref"]&&(b.s.r<2e6||l&&(l.e.r>0||l.e.c>0||l.s.r>0||l.s.c>0))&&(y["!ref"]=oA(l||b)),o.sheetRows&&y["!ref"]){var M=lA(y["!ref"]);o.sheetRows<=+M.e.r&&(M.e.r=o.sheetRows-1,M.e.r>b.e.r&&(M.e.r=b.e.r),M.e.r<M.s.r&&(M.s.r=M.e.r),M.e.c>b.e.c&&(M.e.c=b.e.c),M.e.c<M.s.c&&(M.s.c=M.e.c),y["!fullref"]=y["!ref"],y["!ref"]=oA(M))}return T.length>0&&(y["!merges"]=T),P.length>0&&(y["!cols"]=P),O.length>0&&(y["!rows"]=O),y}(e,r,n,a,s,i,o):iO(e,r,n,a,s,i,o)}function NO(e,t,n,r,a,s,i,o){return".bin"===t.slice(-4)?function(e,t,n,r,a){if(!e)return e;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i=[],o=!1;return KN(e,(function(e,r,l){switch(l){case 550:s["!rel"]=e;break;case 651:a.Sheets[n]||(a.Sheets[n]={}),e.name&&(a.Sheets[n].CodeName=e.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(l);break;case 38:i.pop();break;default:if(r.T>0)i.push(l);else if(r.T<0)i.pop();else if(!o||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),t),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}(e,r,n,a,s):function(e,t,n,r,a){if(!e)return e;r||(r={"!id":{}});var s,i={"!type":"chart","!drawel":null,"!rel":""},o=e.match(rO);return o&&oO(o[0],0,a,n),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),r["!id"][i["!rel"]]&&(i["!drawel"]=r["!id"][i["!rel"]]),i}(e,0,n,a,s)}function AO(e,t,n,r){return".bin"===t.slice(-4)?function(e,t,n){var r={NumberFmt:[]};for(var a in f_)r.NumberFmt[a]=f_[a];r.CellXf=[],r.Fonts=[];var s=[],i=!1;return KN(e,(function(e,a,o){switch(o){case 44:r.NumberFmt[e[0]]=e[1],q_(e[1],e[0]);break;case 43:r.Fonts.push(e),null!=e.color.theme&&t&&t.themeElements&&t.themeElements.clrScheme&&(e.color.rgb=kR(t.themeElements.clrScheme[e.color.theme].rgb,e.color.tint||0));break;case 1025:case 45:case 46:case 48:case 507:case 572:case 475:case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 47:617==s[s.length-1]&&r.CellXf.push(e);break;case 35:i=!0;break;case 36:i=!1;break;case 37:s.push(o),i=!0;break;case 38:s.pop(),i=!1;break;default:if(a.T>0)s.push(o);else if(a.T<0)s.pop();else if(!i||n.WTF&&37!=s[s.length-1])throw new Error("Unexpected record 0x"+o.toString(16))}})),r}(e,n,r):FR(e,n,r)}function IO(e,t,n){return".bin"===t.slice(-4)?function(e,t){var n=[],r=!1;return KN(e,(function(e,a,s){switch(s){case 159:n.Count=e[0],n.Unique=e[1];break;case 19:n.push(e);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(a.T,!r||t.WTF)throw new Error("Unexpected record 0x"+s.toString(16))}})),n}(e,n):function(e,t){var n=[],r="";if(!e)return n;var a=e.match(iR);if(a){r=a[2].replace(oR,"").split(lR);for(var s=0;s!=r.length;++s){var i=sR(r[s].trim(),t);null!=i&&(n[n.length]=i)}a=jC(a[1]),n.Count=a.count,n.Unique=a.uniqueCount}return n}(e,n)}function RO(e,t,n){return".bin"===t.slice(-4)?function(e,t){var n=[],r=[],a={},s=!1;return KN(e,(function(e,i,o){switch(o){case 632:r.push(e);break;case 635:a=e;break;case 637:a.t=e.t,a.h=e.h,a.r=e.r;break;case 636:if(a.author=r[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,n.push(a);break;case 3072:case 37:case 38:break;case 35:s=!0;break;case 36:s=!1;break;default:if(i.T);else if(!s||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}})),n}(e,n):function(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach((function(e){if(""!==e&&""!==e.trim()){var t=e.match(/<(?:\w+:)?author[^>]*>(.*)/);t&&n.push(t[1])}}));var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach((function(e){if(""!==e&&""!==e.trim()){var a=e.match(/<(?:\w+:)?comment[^>]*>/);if(a){var s=jC(a[0]),i={author:s.authorId&&n[s.authorId]||"sheetjsghost",ref:s.ref,guid:s.guid},o=aA(s.ref);if(!(t.sheetRows&&t.sheetRows<=o.r)){var l=e.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),c=!!l&&!!l[1]&&sR(l[1])||{r:"",t:"",h:""};i.r=c.r,"<t></t>"==c.r&&(c.t=c.h=""),i.t=(c.t||"").replace(/\r\n/g,"\n").replace(/\r/g,"\n"),t.cellHTML&&(i.h=c.h),r.push(i)}}}})),r}(e,n)}function PO(e,t,n){return".bin"===t.slice(-4)?function(e){var t=[];return KN(e,(function(e,n,r){if(63===r)t.push(e);else if(!n.T)throw new Error("Unexpected record 0x"+r.toString(16))})),t}(e):function(e){var t=[];if(!e)return t;var n=1;return(e.match(OC)||[]).forEach((function(e){var r=jC(e);switch(r[0]){case"<?xml":case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete r[0],r.i?n=r.i:r.i=n,t.push(r)}})),t}(e)}function OO(e,t,n,r){if(".bin"===n.slice(-4))return function(e,t,n,r){if(!e)return e;var a=r||{},s=!1;KN(e,(function(e,t,n){switch(n){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(t.T);else if(!s||a.WTF)throw new Error("Unexpected record 0x"+n.toString(16))}}),a)}(e,0,0,r)}function DO(e,t,n){return".bin"===t.slice(-4)?function(e,t,n){var r={Types:[],Cell:[],Value:[]},a=n||{},s=[],i=!1,o=2;return KN(e,(function(e,t,n){switch(n){case 335:r.Types.push({name:e.name});break;case 51:e.forEach((function(e){1==o?r.Cell.push({type:r.Types[e[0]-1].name,index:e[1]}):0==o&&r.Value.push({type:r.Types[e[0]-1].name,index:e[1]})}));break;case 337:o=e?1:0;break;case 338:o=2;break;case 35:s.push(n),i=!0;break;case 36:s.pop(),i=!1;break;default:if(t.T);else if(!i||a.WTF&&35!=s[s.length-1])throw new Error("Unexpected record 0x"+n.toString(16))}})),r}(e,0,n):function(e,t,n){var r={Types:[],Cell:[],Value:[]};if(!e)return r;var a,s=!1,i=2;return e.replace(OC,(function(e){var t=jC(e);switch(LC(t[0])){case"<?xml":case"<metadata":case"</metadata>":case"<metadataTypes":case"</metadataTypes>":case"</metadataType>":case"</futureMetadata>":case"<bk>":case"</bk>":case"</rc>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<metadataType":r.Types.push({name:t.name});break;case"<futureMetadata":for(var o=0;o<r.Types.length;++o)r.Types[o].name==t.name&&(a=r.Types[o]);break;case"<rc":1==i?r.Cell.push({type:r.Types[t.t-1].name,index:+t.v}):0==i&&r.Value.push({type:r.Types[t.t-1].name,index:+t.v});break;case"<cellMetadata":i=1;break;case"</cellMetadata>":case"</valueMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+t.i);break;default:if(!s&&n.WTF)throw new Error("unrecognized "+t[0]+" in metadata")}return e})),r}(e,0,n)}var MO,jO=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,LO=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function FO(e,t){var n=e.split(/\s+/),r=[];if(t||(r[0]=n[0]),1===n.length)return r;var a,s,i,o=e.match(jO);if(o)for(i=0;i!=o.length;++i)-1===(s=(a=o[i].match(LO))[1].indexOf(":"))?r[a[1]]=a[2].slice(1,a[2].length-1):r["xmlns:"===a[1].slice(0,6)?"xmlns"+a[1].slice(6):a[1].slice(s+1)]=a[2].slice(1,a[2].length-1);return r}function UO(e){var t={};if(1===e.split(/\s+/).length)return t;var n,r,a,s=e.match(jO);if(s)for(a=0;a!=s.length;++a)-1===(r=(n=s[a].match(LO))[1].indexOf(":"))?t[n[1]]=n[2].slice(1,n[2].length-1):t["xmlns:"===n[1].slice(0,6)?"xmlns"+n[1].slice(6):n[1].slice(r+1)]=n[2].slice(1,n[2].length-1);return t}function VO(e,t,n,r){var a=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=WC(r);break;case"i2":case"int":a=parseInt(r,10);break;case"r4":case"float":a=parseFloat(r);break;case"date":case"dateTime.tz":a=hC(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}e[VC(t)]=a}function BO(e,t,n){if("z"!==e.t){if(!n||!1!==n.cellText)try{"e"===e.t?e.w=e.w||LA[e.v]:"General"===t?"n"===e.t?(0|e.v)===e.v?e.w=e.v.toString(10):e.w=T_(e.v):e.w=k_(e.v):e.w=function(e,t){var n=MO[e]||VC(e);return"General"===n?k_(t):W_(n,t)}(t||"General",e.v)}catch(Pm){if(n.WTF)throw Pm}try{var r=MO[t]||t||"General";if(n.cellNF&&(e.z=r),n.cellDates&&"n"==e.t&&B_(r)){var a=v_(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(Pm){if(n.WTF)throw Pm}}}function zO(e,t,n){if(n.cellStyles&&t.Interior){var r=t.Interior;r.Pattern&&(r.patternType=MR[r.Pattern]||r.Pattern)}e[t.ID]=t}function $O(e,t,n,r,a,s,i,o,l,c){var u="General",h=r.StyleID,d={};c=c||{};var f=[],p=0;for(void 0===h&&o&&(h=o.StyleID),void 0===h&&i&&(h=i.StyleID);void 0!==s[h]&&(s[h].nf&&(u=s[h].nf),s[h].Interior&&f.push(s[h].Interior),s[h].Parent);)h=s[h].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=WC(e);break;case"String":r.t="s",r.r=HC(VC(e)),r.v=e.indexOf("<")>-1?VC(t||e).replace(/<.*?>/g,""):r.r;break;case"DateTime":"Z"!=e.slice(-1)&&(e+="Z"),r.v=(hC(e)-new Date(Date.UTC(1899,11,30)))/864e5,r.v!==r.v?r.v=VC(e):r.v<60&&(r.v=r.v-1),u&&"General"!=u||(u="yyyy-mm-dd");case"Number":void 0===r.v&&(r.v=+e),r.t||(r.t="n");break;case"Error":r.t="e",r.v=FA[e],!1!==c.cellText&&(r.w=e);break;default:""==e&&""==t?r.t="z":(r.t="s",r.v=HC(t||e))}if(BO(r,u,c),!1!==c.cellFormula)if(r.Formula){var m=VC(r.Formula);61==m.charCodeAt(0)&&(m=m.slice(1)),r.f=tP(m,a),delete r.Formula,"RC"==r.ArrayRange?r.F=tP("RC:RC",a):r.ArrayRange&&(r.F=tP(r.ArrayRange,a),l.push([lA(r.F),r.F]))}else for(p=0;p<l.length;++p)a.r>=l[p][0].s.r&&a.r<=l[p][0].e.r&&a.c>=l[p][0].s.c&&a.c<=l[p][0].e.c&&(r.F=l[p][1]);c.cellStyles&&(f.forEach((function(e){!d.patternType&&e.patternType&&(d.patternType=e.patternType)})),r.s=d),void 0!==r.StyleID&&(r.ixfe=r.StyleID)}function HO(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),e.v=e.w=e.ixfe=void 0}function WO(e,t){var n=t||{};G_();var r=zS(oN(e));"binary"!=n.type&&"array"!=n.type&&"base64"!=n.type||(r="undefined"!==typeof BS?BS.utils.decode(65001,US(r)):YC(r));var a,s=r.slice(0,1024).toLowerCase(),i=!1;if((1023&(s=s.replace(/".*?"/g,"")).indexOf(">"))>Math.min(1023&s.indexOf(","),1023&s.indexOf(";"))){var o=fC(n);return o.type="string",JI.to_workbook(r,o)}if(-1==s.indexOf("<?xml")&&["html","table","head","meta","script","style","div"].forEach((function(e){s.indexOf("<"+e)>=0&&(i=!0)})),i)return function(e,t){var n=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||0==n.length)throw new Error("Invalid HTML: could not find <table>");if(1==n.length)return hA(sD(n[0],t),t);var r={SheetNames:[],Sheets:{}};return n.forEach((function(e,n){aM(r,sD(e,t),"Sheet"+(n+1))})),r}(r,n);MO={"General Number":"General","General Date":f_[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":f_[15],"Short Date":f_[14],"Long Time":f_[19],"Medium Time":f_[18],"Short Time":f_[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:f_[2],Standard:f_[4],Percent:f_[10],Scientific:f_[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[];var u,h={},d=[],f=n.dense?[]:{},p="",m={},g={},v=FO('<Data ss:Type="String">'),y=0,b=0,x=0,w={s:{r:2e6,c:2e6},e:{r:0,c:0}},E={},T={},k="",S=0,_=[],C={},N={},A=0,I=[],R=[],P={},O=[],D=!1,M=[],j=[],L={},F=0,U=0,V={Sheets:[],WBProps:{date1904:!1}},B={};lN.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/gm,"");for(var z="";a=lN.exec(r);)switch(a[3]=(z=a[3]).toLowerCase()){case"data":if("data"==z){if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==a[0].charAt(a[0].length-2)&&c.push([a[3],!0]);break}if(c[c.length-1][1])break;"/"===a[1]?$O(r.slice(y,a.index),k,v,"comment"==c[c.length-1][0]?P:m,{c:b,r:x},E,O[b],g,M,n):(k="",v=FO(a[0]),y=a.index+a[0].length);break;case"cell":if("/"===a[1])if(R.length>0&&(m.c=R),(!n.sheetRows||n.sheetRows>x)&&void 0!==m.v&&(n.dense?(f[x]||(f[x]=[]),f[x][b]=m):f[rA(b)+tA(x)]=m),m.HRef&&(m.l={Target:VC(m.HRef)},m.HRefScreenTip&&(m.l.Tooltip=m.HRefScreenTip),delete m.HRef,delete m.HRefScreenTip),(m.MergeAcross||m.MergeDown)&&(F=b+(0|parseInt(m.MergeAcross,10)),U=x+(0|parseInt(m.MergeDown,10)),_.push({s:{c:b,r:x},e:{c:F,r:U}})),n.sheetStubs)if(m.MergeAcross||m.MergeDown){for(var $=b;$<=F;++$)for(var H=x;H<=U;++H)($>b||H>x)&&(n.dense?(f[H]||(f[H]=[]),f[H][$]={t:"z"}):f[rA($)+tA(H)]={t:"z"});b=F+1}else++b;else m.MergeAcross?b=F+1:++b;else(m=UO(a[0])).Index&&(b=+m.Index-1),b<w.s.c&&(w.s.c=b),b>w.e.c&&(w.e.c=b),"/>"===a[0].slice(-2)&&++b,R=[];break;case"row":"/"===a[1]||"/>"===a[0].slice(-2)?(x<w.s.r&&(w.s.r=x),x>w.e.r&&(w.e.r=x),"/>"===a[0].slice(-2)&&(g=FO(a[0])).Index&&(x=+g.Index-1),b=0,++x):((g=FO(a[0])).Index&&(x=+g.Index-1),L={},("0"==g.AutoFitHeight||g.Height)&&(L.hpx=parseInt(g.Height,10),L.hpt=OR(L.hpx),j[x]=L),"1"==g.Hidden&&(L.hidden=!0,j[x]=L));break;case"worksheet":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"));d.push(p),w.s.r<=w.e.r&&w.s.c<=w.e.c&&(f["!ref"]=oA(w),n.sheetRows&&n.sheetRows<=w.e.r&&(f["!fullref"]=f["!ref"],w.e.r=n.sheetRows-1,f["!ref"]=oA(w))),_.length&&(f["!merges"]=_),O.length>0&&(f["!cols"]=O),j.length>0&&(f["!rows"]=j),h[p]=f}else w={s:{r:2e6,c:2e6},e:{r:0,c:0}},x=b=0,c.push([a[3],!1]),l=FO(a[0]),p=VC(l.Name),f=n.dense?[]:{},_=[],M=[],j=[],B={name:p,Hidden:0},V.Sheets.push(B);break;case"table":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else{if("/>"==a[0].slice(-2))break;c.push([a[3],!1]),O=[],D=!1}break;case"style":"/"===a[1]?zO(E,T,n):T=FO(a[0]);break;case"numberformat":T.nf=VC(FO(a[0]).Format||"General"),MO[T.nf]&&(T.nf=MO[T.nf]);for(var W=0;392!=W&&f_[W]!=T.nf;++W);if(392==W)for(W=57;392!=W;++W)if(null==f_[W]){q_(T.nf,W);break}break;case"column":if("table"!==c[c.length-1][0])break;if((u=FO(a[0])).Hidden&&(u.hidden=!0,delete u.Hidden),u.Width&&(u.wpx=parseInt(u.Width,10)),!D&&u.wpx>10){D=!0,SR=6;for(var q=0;q<O.length;++q)O[q]&&RR(O[q])}D&&RR(u),O[u.Index-1||O.length]=u;for(var G=0;G<+u.Span;++G)O[O.length]=fC(u);break;case"namedrange":if("/"===a[1])break;V.Names||(V.Names=[]);var K=jC(a[0]),X={Name:K.Name,Ref:tP(K.RefersTo.slice(1),{r:0,c:0})};V.Sheets.length>0&&(X.Sheet=V.Sheets.length-1),V.Names.push(X);break;case"namedcell":case"b":case"i":case"u":case"s":case"em":case"h2":case"h3":case"sub":case"sup":case"span":case"alignment":case"borders":case"border":case"protection":case"paragraphs":case"name":case"pixelsperinch":case"null":break;case"font":if("/>"===a[0].slice(-2))break;"/"===a[1]?k+=r.slice(S,a.index):S=a.index+a[0].length;break;case"interior":if(!n.cellStyles)break;T.Interior=FO(a[0]);break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if("/>"===a[0].slice(-2))break;"/"===a[1]?QA(C,z,r.slice(A,a.index)):A=a.index+a[0].length;break;case"styles":case"workbook":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else c.push([a[3],!1]);break;case"comment":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"));HO(P),R.push(P)}else c.push([a[3],!1]),P={a:(l=FO(a[0])).Author};break;case"autofilter":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else if("/"!==a[0].charAt(a[0].length-2)){var Y=FO(a[0]);f["!autofilter"]={ref:tP(Y.Range).replace(/\$/g,"")},c.push([a[3],!0])}break;case"datavalidation":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==a[0].charAt(a[0].length-2)&&c.push([a[3],!0]);break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==a[0].charAt(a[0].length-2)&&c.push([a[3],!0]);break;default:if(0==c.length&&"document"==a[3])return yD(r,n);if(0==c.length&&"uof"==a[3])return yD(r,n);var Q=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(a[3]){case"allowpng":case"removepersonalinformation":case"downloadcomponents":case"locationofcomponents":case"colors":case"color":case"index":case"rgb":case"targetscreensize":case"readonlyrecommended":break;default:Q=!1}break;case"componentoptions":switch(a[3]){case"toolbar":case"hideofficelogo":case"spreadsheetautofit":case"label":case"caption":case"maxheight":case"maxwidth":case"nextsheetnumber":break;default:Q=!1}break;case"excelworkbook":switch(a[3]){case"date1904":V.WBProps.date1904=!0;break;case"windowheight":case"windowwidth":case"windowtopx":case"windowtopy":case"tabratio":case"protectstructure":case"protectwindow":case"protectwindows":case"activesheet":case"displayinknotes":case"firstvisiblesheet":case"supbook":case"sheetname":case"sheetindex":case"sheetindexfirst":case"sheetindexlast":case"dll":case"acceptlabelsinformulas":case"donotsavelinkvalues":case"iteration":case"maxiterations":case"maxchange":case"path":case"xct":case"count":case"selectedsheets":case"calculation":case"uncalced":case"startupprompt":case"crn":case"externname":case"formula":case"colfirst":case"collast":case"wantadvise":case"boolean":case"error":case"text":case"ole":case"noautorecover":case"publishobjects":case"donotcalculatebeforesave":case"number":case"refmoder1c1":case"embedsavesmarttags":break;default:Q=!1}break;case"workbookoptions":switch(a[3]){case"owcversion":case"height":case"width":break;default:Q=!1}break;case"worksheetoptions":switch(a[3]){case"visible":if("/>"===a[0].slice(-2));else if("/"===a[1])switch(r.slice(A,a.index)){case"SheetHidden":B.Hidden=1;break;case"SheetVeryHidden":B.Hidden=2}else A=a.index+a[0].length;break;case"header":f["!margins"]||KP(f["!margins"]={},"xlml"),isNaN(+jC(a[0]).Margin)||(f["!margins"].header=+jC(a[0]).Margin);break;case"footer":f["!margins"]||KP(f["!margins"]={},"xlml"),isNaN(+jC(a[0]).Margin)||(f["!margins"].footer=+jC(a[0]).Margin);break;case"pagemargins":var J=jC(a[0]);f["!margins"]||KP(f["!margins"]={},"xlml"),isNaN(+J.Top)||(f["!margins"].top=+J.Top),isNaN(+J.Left)||(f["!margins"].left=+J.Left),isNaN(+J.Right)||(f["!margins"].right=+J.Right),isNaN(+J.Bottom)||(f["!margins"].bottom=+J.Bottom);break;case"displayrighttoleft":V.Views||(V.Views=[]),V.Views[0]||(V.Views[0]={}),V.Views[0].RTL=!0;break;case"freezepanes":case"frozennosplit":case"splithorizontal":case"splitvertical":case"donotdisplaygridlines":case"activerow":case"activecol":case"toprowbottompane":case"leftcolumnrightpane":case"unsynced":case"print":case"printerrors":case"panes":case"scale":case"pane":case"number":case"layout":case"pagesetup":case"selected":case"protectobjects":case"enableselection":case"protectscenarios":case"validprinterinfo":case"horizontalresolution":case"verticalresolution":case"numberofcopies":case"activepane":case"toprowvisible":case"leftcolumnvisible":case"fittopage":case"rangeselection":case"papersizeindex":case"pagelayoutzoom":case"pagebreakzoom":case"filteron":case"fitwidth":case"fitheight":case"commentslayout":case"zoom":case"lefttoright":case"gridlines":case"allowsort":case"allowfilter":case"allowinsertrows":case"allowdeleterows":case"allowinsertcols":case"allowdeletecols":case"allowinserthyperlinks":case"allowformatcells":case"allowsizecols":case"allowsizerows":case"tabcolorindex":case"donotdisplayheadings":case"showpagelayoutzoom":case"blackandwhite":case"donotdisplayzeros":case"displaypagebreak":case"rowcolheadings":case"donotdisplayoutline":case"noorientation":case"allowusepivottables":case"zeroheight":case"viewablerange":case"selection":case"protectcontents":break;case"nosummaryrowsbelowdetail":f["!outline"]||(f["!outline"]={}),f["!outline"].above=!0;break;case"nosummarycolumnsrightdetail":f["!outline"]||(f["!outline"]={}),f["!outline"].left=!0;break;default:Q=!1}break;case"pivottable":case"pivotcache":switch(a[3]){case"immediateitemsondrop":case"showpagemultipleitemlabel":case"compactrowindent":case"location":case"pivotfield":case"orientation":case"layoutform":case"layoutsubtotallocation":case"layoutcompactrow":case"position":case"pivotitem":case"datatype":case"datafield":case"sourcename":case"parentfield":case"ptlineitems":case"ptlineitem":case"countofsameitems":case"item":case"itemtype":case"ptsource":case"cacheindex":case"consolidationreference":case"filename":case"reference":case"nocolumngrand":case"norowgrand":case"blanklineafteritems":case"hidden":case"subtotal":case"basefield":case"mapchilditems":case"function":case"refreshonfileopen":case"printsettitles":case"mergelabels":case"defaultversion":case"refreshname":case"refreshdate":case"refreshdatecopy":case"versionlastrefresh":case"versionlastupdate":case"versionupdateablemin":case"versionrefreshablemin":case"calculation":break;default:Q=!1}break;case"pagebreaks":switch(a[3]){case"colbreaks":case"colbreak":case"rowbreaks":case"rowbreak":case"colstart":case"colend":case"rowend":break;default:Q=!1}break;case"autofilter":switch(a[3]){case"autofiltercolumn":case"autofiltercondition":case"autofilterand":case"autofilteror":break;default:Q=!1}break;case"querytable":switch(a[3]){case"id":case"autoformatfont":case"autoformatpattern":case"querysource":case"querytype":case"enableredirections":case"refreshedinxl9":case"urlstring":case"htmltables":case"connection":case"commandtext":case"refreshinfo":case"notitles":case"nextid":case"columninfo":case"overwritecells":case"donotpromptforfile":case"textwizardsettings":case"source":case"number":case"decimal":case"thousandseparator":case"trailingminusnumbers":case"formatsettings":case"fieldtype":case"delimiters":case"tab":case"comma":case"autoformatname":case"versionlastedit":case"versionlastrefresh":break;default:Q=!1}break;case"datavalidation":switch(a[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":case"cellrangelist":break;default:Q=!1}break;case"sorting":case"conditionalformatting":switch(a[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"cellrangelist":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":break;default:Q=!1}break;case"mapinfo":case"schema":case"data":switch(a[3]){case"map":case"entry":case"range":case"xpath":case"field":case"xsdtype":case"filteron":case"aggregate":case"elementtype":case"attributetype":case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":case"row":break;default:Q=!1}break;case"smarttags":break;default:Q=!1}if(Q)break;if(a[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+a[3]+"|"+c.join("|");if("customdocumentproperties"===c[c.length-1][0]){if("/>"===a[0].slice(-2))break;"/"===a[1]?VO(N,z,I,r.slice(A,a.index)):(I=a,A=a.index+a[0].length);break}if(n.WTF)throw"Unrecognized tag: "+a[3]+"|"+c.join("|")}var Z={};return n.bookSheets||n.bookProps||(Z.Sheets=h),Z.SheetNames=d,Z.Workbook=V,Z.SSF=fC(f_),Z.Props=C,Z.Custprops=N,Z}function qO(e,t){switch(UD(t=t||{}),t.type||"base64"){case"base64":return WO(GS(e),t);case"binary":case"buffer":case"file":return WO(e,t);case"array":return WO(ZS(e),t)}}function GO(e){var t={},n=e.content;if(n.l=28,t.AnsiUserType=n.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=function(e){return NA(e,1)}(n),n.length-n.l<=4)return t;var r=n.read_shift(4);return 0==r||r>40?t:(n.l-=4,t.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4||1907505652!==(r=n.read_shift(4))?t:(t.UnicodeClipboardFormat=function(e){return NA(e,2)}(n),0==(r=n.read_shift(4))||r>40?t:(n.l-=4,void(t.Reserved2=n.read_shift(0,"lpwstr")))))}var KO=[60,1084,2066,2165,2175];function XO(e,t,n,r,a){var s=r,i=[],o=n.slice(n.l,n.l+s);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:case 133:break;default:a.enc.insitu(o)}i.push(o),n.l+=s;for(var l=DN(n,n.l),c=rD[l],u=0;null!=c&&KO.indexOf(l)>-1;)s=DN(n,n.l+2),u=n.l+4,2066==l?u+=4:2165!=l&&2175!=l||(u+=12),o=n.slice(u,n.l+4+s),i.push(o),n.l+=4+s,c=rD[l=DN(n,n.l)];var h=t_(i);WN(h,0);var d=0;h.lens=[];for(var f=0;f<i.length;++f)h.lens.push(d),d+=i[f].length;if(h.length<r)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+h.length+" < "+r;return t.f(h,h.length,a)}function YO(e,t,n){if("z"!==e.t&&e.XF){var r=0;try{r=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=f_[r])}catch(Pm){if(t.WTF)throw Pm}if(!t||!1!==t.cellText)try{"e"===e.t?e.w=e.w||LA[e.v]:0===r||"General"==r?"n"===e.t?(0|e.v)===e.v?e.w=e.v.toString(10):e.w=T_(e.v):e.w=k_(e.v):e.w=W_(r,e.v,{date1904:!!n,dateNF:t&&t.dateNF})}catch(Pm){if(t.WTF)throw Pm}if(t.cellDates&&r&&"n"==e.t&&B_(f_[r]||String(r))){var a=v_(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function QO(e,t,n){return{v:e,ixfe:t,t:n}}function JO(e,t){var n={opts:{}},r={};var a,s,i,o,l,c,u,h,d=t.dense?[]:{},f={},p={},m=null,g=[],v="",y={},b="",x={},w=[],E=[],T=[],k={Sheets:[],WBProps:{date1904:!1},Views:[{}]},S={},_=function(e){return e<8?jA[e]:e<64&&T[e-8]||jA[e]},C=function(e,t,n){if(!(L>1)&&!(n.sheetRows&&e.r>=n.sheetRows)){if(n.cellStyles&&t.XF&&t.XF.data&&function(e,t,n){var r,a=t.XF.data;a&&a.patternType&&n&&n.cellStyles&&(t.s={},t.s.patternType=a.patternType,(r=TR(_(a.icvFore)))&&(t.s.fgColor={rgb:r}),(r=TR(_(a.icvBack)))&&(t.s.bgColor={rgb:r}))}(0,t,n),delete t.ixfe,delete t.XF,a=e,b=sA(e),p&&p.s&&p.e||(p={s:{r:0,c:0},e:{r:0,c:0}}),e.r<p.s.r&&(p.s.r=e.r),e.c<p.s.c&&(p.s.c=e.c),e.r+1>p.e.r&&(p.e.r=e.r+1),e.c+1>p.e.c&&(p.e.c=e.c+1),n.cellFormula&&t.f)for(var r=0;r<w.length;++r)if(!(w[r][0].s.c>e.c||w[r][0].s.r>e.r)&&!(w[r][0].e.c<e.c||w[r][0].e.r<e.r)){t.F=oA(w[r][0]),w[r][0].s.c==e.c&&w[r][0].s.r==e.r||delete t.f,t.f&&(t.f=""+PP(w[r][1],0,e,D,N));break}n.dense?(d[e.r]||(d[e.r]=[]),d[e.r][e.c]=t):d[b]=t}},N={enc:!1,sbcch:0,snames:[],sharedf:x,arrayf:w,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(N.password=t.password);var A=[],I=[],R=[],P=[],O=!1,D=[];D.SheetNames=N.snames,D.sharedf=N.sharedf,D.arrayf=N.arrayf,D.names=[],D.XTI=[];var M,j=0,L=0,F=0,U=[],V=[];N.codepage=1200,LS(1200);for(var B=!1;e.l<e.length-1;){var z=e.l,$=e.read_shift(2);if(0===$&&10===j)break;var H=e.l===e.length?0:e.read_shift(2),W=rD[$];if(W&&W.f){if(t.bookSheets&&133===j&&133!==$)break;if(j=$,2===W.r||12==W.r){var q=e.read_shift(2);if(H-=2,!N.enc&&q!==$&&((255&q)<<8|q>>8)!==$)throw new Error("rt mismatch: "+q+"!="+$);12==W.r&&(e.l+=10,H-=10)}var G={};if(G=10===$?W.f(e,H,N):XO($,W,e,H,N),0==L&&-1===[9,521,1033,2057].indexOf(j))continue;switch($){case 34:n.opts.Date1904=k.WBProps.date1904=G;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(N.enc||(e.l=0),N.enc=G,!t.password)throw new Error("File is password-protected");if(null==G.valid)throw new Error("Encryption scheme unsupported");if(!G.valid)throw new Error("Password is incorrect");break;case 92:N.lastuser=G;break;case 66:var K=Number(G);switch(K){case 21010:K=1200;break;case 32768:K=1e4;break;case 32769:K=1252}LS(N.codepage=K),B=!0;break;case 317:N.rrtabid=G;break;case 25:N.winlocked=G;break;case 439:n.opts.RefreshAll=G;break;case 12:n.opts.CalcCount=G;break;case 16:n.opts.CalcDelta=G;break;case 17:n.opts.CalcIter=G;break;case 13:n.opts.CalcMode=G;break;case 14:n.opts.CalcPrecision=G;break;case 95:n.opts.CalcSaveRecalc=G;break;case 15:N.CalcRefMode=G;break;case 2211:n.opts.FullCalc=G;break;case 129:G.fDialog&&(d["!type"]="dialog"),G.fBelow||((d["!outline"]||(d["!outline"]={})).above=!0),G.fRight||((d["!outline"]||(d["!outline"]={})).left=!0);break;case 224:E.push(G);break;case 430:D.push([G]),D[D.length-1].XTI=[];break;case 35:case 547:D[D.length-1].push(G);break;case 24:case 536:M={Name:G.Name,Ref:PP(G.rgce,0,null,D,N)},G.itab>0&&(M.Sheet=G.itab-1),D.names.push(M),D[0]||(D[0]=[],D[0].XTI=[]),D[D.length-1].push(G),"_xlnm._FilterDatabase"==G.Name&&G.itab>0&&G.rgce&&G.rgce[0]&&G.rgce[0][0]&&"PtgArea3d"==G.rgce[0][0][0]&&(V[G.itab-1]={ref:oA(G.rgce[0][0][1][2])});break;case 22:N.ExternCount=G;break;case 23:0==D.length&&(D[0]=[],D[0].XTI=[]),D[D.length-1].XTI=D[D.length-1].XTI.concat(G),D.XTI=D.XTI.concat(G);break;case 2196:if(N.biff<8)break;null!=M&&(M.Comment=G[1]);break;case 18:d["!protect"]=G;break;case 19:0!==G&&N.WTF&&console.error("Password verifier: "+G);break;case 133:f[G.pos]=G,N.snames.push(G.name);break;case 10:if(--L)break;if(p.e){if(p.e.r>0&&p.e.c>0){if(p.e.r--,p.e.c--,d["!ref"]=oA(p),t.sheetRows&&t.sheetRows<=p.e.r){var X=p.e.r;p.e.r=t.sheetRows-1,d["!fullref"]=d["!ref"],d["!ref"]=oA(p),p.e.r=X}p.e.r++,p.e.c++}A.length>0&&(d["!merges"]=A),I.length>0&&(d["!objects"]=I),R.length>0&&(d["!cols"]=R),P.length>0&&(d["!rows"]=P),k.Sheets.push(S)}""===v?y=d:r[v]=d,d=t.dense?[]:{};break;case 9:case 521:case 1033:case 2057:if(8===N.biff&&(N.biff={9:2,521:3,1033:4}[$]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[G.BIFFVer]||8),N.biffguess=0==G.BIFFVer,0==G.BIFFVer&&4096==G.dt&&(N.biff=5,B=!0,LS(N.codepage=28591)),8==N.biff&&0==G.BIFFVer&&16==G.dt&&(N.biff=2),L++)break;if(d=t.dense?[]:{},N.biff<8&&!B&&(B=!0,LS(N.codepage=t.codepage||1252)),N.biff<5||0==G.BIFFVer&&4096==G.dt){""===v&&(v="Sheet1"),p={s:{r:0,c:0},e:{r:0,c:0}};var Y={pos:e.l-H,name:v};f[Y.pos]=Y,N.snames.push(v)}else v=(f[z]||{name:""}).name;32==G.dt&&(d["!type"]="chart"),64==G.dt&&(d["!type"]="macro"),A=[],I=[],N.arrayf=w=[],R=[],P=[],O=!1,S={Hidden:(f[z]||{hs:0}).hs,name:v};break;case 515:case 3:case 2:"chart"==d["!type"]&&(t.dense?(d[G.r]||[])[G.c]:d[sA({c:G.c,r:G.r})])&&++G.c,c={ixfe:G.ixfe,XF:E[G.ixfe]||{},v:G.val,t:"n"},F>0&&(c.z=U[c.ixfe>>8&63]),YO(c,t,n.opts.Date1904),C({c:G.c,r:G.r},c,t);break;case 5:case 517:c={ixfe:G.ixfe,XF:E[G.ixfe],v:G.val,t:G.t},F>0&&(c.z=U[c.ixfe>>8&63]),YO(c,t,n.opts.Date1904),C({c:G.c,r:G.r},c,t);break;case 638:c={ixfe:G.ixfe,XF:E[G.ixfe],v:G.rknum,t:"n"},F>0&&(c.z=U[c.ixfe>>8&63]),YO(c,t,n.opts.Date1904),C({c:G.c,r:G.r},c,t);break;case 189:for(var Q=G.c;Q<=G.C;++Q){var J=G.rkrec[Q-G.c][0];c={ixfe:J,XF:E[J],v:G.rkrec[Q-G.c][1],t:"n"},F>0&&(c.z=U[c.ixfe>>8&63]),YO(c,t,n.opts.Date1904),C({c:Q,r:G.r},c,t)}break;case 6:case 518:case 1030:if("String"==G.val){m=G;break}if((c=QO(G.val,G.cell.ixfe,G.tt)).XF=E[c.ixfe],t.cellFormula){var Z=G.formula;if(Z&&Z[0]&&Z[0][0]&&"PtgExp"==Z[0][0][0]){var ee=Z[0][0][1][0],te=Z[0][0][1][1],ne=sA({r:ee,c:te});x[ne]?c.f=""+PP(G.formula,0,G.cell,D,N):c.F=((t.dense?(d[ee]||[])[te]:d[ne])||{}).F}else c.f=""+PP(G.formula,0,G.cell,D,N)}F>0&&(c.z=U[c.ixfe>>8&63]),YO(c,t,n.opts.Date1904),C(G.cell,c,t),m=G;break;case 7:case 519:if(!m)throw new Error("String record expects Formula");m.val=G,(c=QO(G,m.cell.ixfe,"s")).XF=E[c.ixfe],t.cellFormula&&(c.f=""+PP(m.formula,0,m.cell,D,N)),F>0&&(c.z=U[c.ixfe>>8&63]),YO(c,t,n.opts.Date1904),C(m.cell,c,t),m=null;break;case 33:case 545:w.push(G);var re=sA(G[0].s);if(s=t.dense?(d[G[0].s.r]||[])[G[0].s.c]:d[re],t.cellFormula&&s){if(!m)break;if(!re||!s)break;s.f=""+PP(G[1],0,G[0],D,N),s.F=oA(G[0])}break;case 1212:if(!t.cellFormula)break;if(b){if(!m)break;x[sA(m.cell)]=G[0],((s=t.dense?(d[m.cell.r]||[])[m.cell.c]:d[sA(m.cell)])||{}).f=""+PP(G[0],0,a,D,N)}break;case 253:c=QO(g[G.isst].t,G.ixfe,"s"),g[G.isst].h&&(c.h=g[G.isst].h),c.XF=E[c.ixfe],F>0&&(c.z=U[c.ixfe>>8&63]),YO(c,t,n.opts.Date1904),C({c:G.c,r:G.r},c,t);break;case 513:t.sheetStubs&&(c={ixfe:G.ixfe,XF:E[G.ixfe],t:"z"},F>0&&(c.z=U[c.ixfe>>8&63]),YO(c,t,n.opts.Date1904),C({c:G.c,r:G.r},c,t));break;case 190:if(t.sheetStubs)for(var ae=G.c;ae<=G.C;++ae){var se=G.ixfe[ae-G.c];c={ixfe:se,XF:E[se],t:"z"},F>0&&(c.z=U[c.ixfe>>8&63]),YO(c,t,n.opts.Date1904),C({c:ae,r:G.r},c,t)}break;case 214:case 516:case 4:(c=QO(G.val,G.ixfe,"s")).XF=E[c.ixfe],F>0&&(c.z=U[c.ixfe>>8&63]),YO(c,t,n.opts.Date1904),C({c:G.c,r:G.r},c,t);break;case 0:case 512:1===L&&(p=G);break;case 252:g=G;break;case 1054:if(4==N.biff){U[F++]=G[1];for(var ie=0;ie<F+163&&f_[ie]!=G[1];++ie);ie>=163&&q_(G[1],F+163)}else q_(G[1],G[0]);break;case 30:U[F++]=G;for(var oe=0;oe<F+163&&f_[oe]!=G;++oe);oe>=163&&q_(G,F+163);break;case 229:A=A.concat(G);break;case 93:I[G.cmo[0]]=N.lastobj=G;break;case 438:N.lastobj.TxO=G;break;case 127:N.lastobj.ImData=G;break;case 440:for(l=G[0].s.r;l<=G[0].e.r;++l)for(o=G[0].s.c;o<=G[0].e.c;++o)(s=t.dense?(d[l]||[])[o]:d[sA({c:o,r:l})])&&(s.l=G[1]);break;case 2048:for(l=G[0].s.r;l<=G[0].e.r;++l)for(o=G[0].s.c;o<=G[0].e.c;++o)(s=t.dense?(d[l]||[])[o]:d[sA({c:o,r:l})])&&s.l&&(s.l.Tooltip=G[1]);break;case 28:if(N.biff<=5&&N.biff>=2)break;s=t.dense?(d[G[0].r]||[])[G[0].c]:d[sA(G[0])];var le=I[G[2]];s||(t.dense?(d[G[0].r]||(d[G[0].r]=[]),s=d[G[0].r][G[0].c]={t:"z"}):s=d[sA(G[0])]={t:"z"},p.e.r=Math.max(p.e.r,G[0].r),p.s.r=Math.min(p.s.r,G[0].r),p.e.c=Math.max(p.e.c,G[0].c),p.s.c=Math.min(p.s.c,G[0].c)),s.c||(s.c=[]),i={a:G[1],t:le.TxO.t},s.c.push(i);break;case 2173:E[G.ixfe],G.ext.forEach((function(e){e[0]}));break;case 125:if(!N.cellStyles)break;for(;G.e>=G.s;)R[G.e--]={width:G.w/256,level:G.level||0,hidden:!!(1&G.flags)},O||(O=!0,IR(G.w/256)),RR(R[G.e+1]);break;case 520:var ce={};null!=G.level&&(P[G.r]=ce,ce.level=G.level),G.hidden&&(P[G.r]=ce,ce.hidden=!0),G.hpt&&(P[G.r]=ce,ce.hpt=G.hpt,ce.hpx=DR(G.hpt));break;case 38:case 39:case 40:case 41:d["!margins"]||KP(d["!margins"]={}),d["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[$]]=G;break;case 161:d["!margins"]||KP(d["!margins"]={}),d["!margins"].header=G.header,d["!margins"].footer=G.footer;break;case 574:G.RTL&&(k.Views[0].RTL=!0);break;case 146:T=G;break;case 2198:h=G;break;case 140:u=G;break;case 442:v?S.CodeName=G||S.name:k.WBProps.CodeName=G||"ThisWorkbook"}}else W||console.error("Missing Info for XLS Record 0x"+$.toString(16)),e.l+=H}return n.SheetNames=Z_(f).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return f[e].name})),t.bookSheets||(n.Sheets=r),!n.SheetNames.length&&y["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=y)):n.Preamble=y,n.Sheets&&V.forEach((function(e,t){n.Sheets[n.SheetNames[t]]["!autofilter"]=e})),n.Strings=g,n.SSF=fC(f_),N.enc&&(n.Encryption=N.enc),h&&(n.Themes=h),n.Metadata={},void 0!==u&&(n.Metadata.Country=u),D.names.length>0&&(k.Names=D.names),n.Workbook=k,n}var ZO="e0859ff2f94f6810ab9108002b27b3d9",eD="02d5cdd59c2e1b10939708002b2cf9ae";function tD(e,t){var n,r,a,s;if(t||(t={}),UD(t),FS(),t.codepage&&jS(t.codepage),e.FullPaths){if(Q_.find(e,"/encryption"))throw new Error("File is password-protected");n=Q_.find(e,"!CompObj"),r=Q_.find(e,"/Workbook")||Q_.find(e,"/Book")}else{switch(t.type){case"base64":e=JS(GS(e));break;case"binary":e=JS(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e))}WN(e,0),r={content:e}}if(n&&GO(n),t.bookProps&&!t.bookSheets)a={};else{var i=KS?"buffer":"array";if(r&&r.content)a=JO(r.content,t);else if((s=Q_.find(e,"PerfectOffice_MAIN"))&&s.content)a=ZI.to_workbook(s.content,(t.type=i,t));else{if(!(s=Q_.find(e,"NativeContent_MAIN"))||!s.content)throw(s=Q_.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");a=ZI.to_workbook(s.content,(t.type=i,t))}t.bookVBA&&e.FullPaths&&Q_.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=function(e){var t=Q_.utils.cfb_new({root:"R"});return e.FullPaths.forEach((function(n,r){if("/"!==n.slice(-1)&&n.match(/_VBA_PROJECT_CUR/)){var a=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Q_.utils.cfb_add(t,a,e.FileIndex[r].content)}})),Q_.write(t)}(e))}var o={};return e.FullPaths&&function(e,t,n){var r=Q_.find(e,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var a=lI(r,RA,eD);for(var s in a)t[s]=a[s]}catch(Pm){if(n.WTF)throw Pm}var i=Q_.find(e,"/!SummaryInformation");if(i&&i.size>0)try{var o=lI(i,PA,ZO);for(var l in o)null==t[l]&&(t[l]=o[l])}catch(Pm){if(n.WTF)throw Pm}t.HeadingPairs&&t.TitlesOfParts&&(GA(t.HeadingPairs,t.TitlesOfParts,t,n),delete t.HeadingPairs,delete t.TitlesOfParts)}(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}var nD={0:{f:function(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=r,7&s&&(n.level=7&s),16&s&&(n.hidden=!0),32&s&&(n.hpt=a/20),n}},1:{f:function(e){return[yA(e)]}},2:{f:function(e){return[yA(e),kA(e),"n"]}},3:{f:function(e){return[yA(e),e.read_shift(1),"e"]}},4:{f:function(e){return[yA(e),e.read_shift(1),"b"]}},5:{f:function(e){return[yA(e),CA(e),"n"]}},6:{f:function(e){return[yA(e),pA(e),"str"]}},7:{f:function(e){return[yA(e),e.read_shift(4),"s"]}},8:{f:function(e,t,n){var r=e.l+t,a=yA(e);a.r=n["!row"];var s=[a,pA(e),"str"];if(n.cellFormula){e.l+=2;var i=FP(e,r-e.l,n);s[3]=PP(i,0,a,n.supbooks,n)}else e.l=r;return s}},9:{f:function(e,t,n){var r=e.l+t,a=yA(e);a.r=n["!row"];var s=[a,CA(e),"n"];if(n.cellFormula){e.l+=2;var i=FP(e,r-e.l,n);s[3]=PP(i,0,a,n.supbooks,n)}else e.l=r;return s}},10:{f:function(e,t,n){var r=e.l+t,a=yA(e);a.r=n["!row"];var s=[a,e.read_shift(1),"b"];if(n.cellFormula){e.l+=2;var i=FP(e,r-e.l,n);s[3]=PP(i,0,a,n.supbooks,n)}else e.l=r;return s}},11:{f:function(e,t,n){var r=e.l+t,a=yA(e);a.r=n["!row"];var s=[a,e.read_shift(1),"e"];if(n.cellFormula){e.l+=2;var i=FP(e,r-e.l,n);s[3]=PP(i,0,a,n.supbooks,n)}else e.l=r;return s}},12:{f:function(e){return[bA(e)]}},13:{f:function(e){return[bA(e),kA(e),"n"]}},14:{f:function(e){return[bA(e),e.read_shift(1),"e"]}},15:{f:function(e){return[bA(e),e.read_shift(1),"b"]}},16:{f:hO},17:{f:function(e){return[bA(e),pA(e),"str"]}},18:{f:function(e){return[bA(e),e.read_shift(4),"s"]}},19:{f:gA},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=EA(e),i=UP(e,0,n),o=wA(e);e.l=r;var l={Name:s,Ptg:i};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}},40:{},42:{},43:{f:function(e,t,n){var r={};r.sz=e.read_shift(2)/20;var a=function(e){var t=e.read_shift(1);return e.l++,{fBold:1&t,fItalic:2&t,fUnderline:4&t,fStrikeout:8&t,fOutline:16&t,fShadow:32&t,fCondense:64&t,fExtend:128&t}}(e);switch(a.fItalic&&(r.italic=1),a.fCondense&&(r.condense=1),a.fExtend&&(r.extend=1),a.fShadow&&(r.shadow=1),a.fOutline&&(r.outline=1),a.fStrikeout&&(r.strike=1),700===e.read_shift(2)&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript"}var s=e.read_shift(1);0!=s&&(r.underline=s);var i=e.read_shift(1);i>0&&(r.family=i);var o=e.read_shift(1);switch(o>0&&(r.charset=o),e.l++,r.color=function(e){var t={},n=e.read_shift(1)>>>1,r=e.read_shift(1),a=e.read_shift(2,"i"),s=e.read_shift(1),i=e.read_shift(1),o=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=r;var l=jA[r];l&&(t.rgb=TR(l));break;case 2:t.rgb=TR([s,i,o]);break;case 3:t.theme=r}return 0!=a&&(t.tint=a>0?a/32767:a/32768),t}(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor"}return r.name=pA(e),r}},44:{f:function(e,t){return[e.read_shift(2),pA(e)]}},45:{f:UR},46:{f:VR},47:{f:function(e,t){var n=e.l+t,r=e.read_shift(2),a=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:a}}},48:{},49:{f:function(e){return e.read_shift(4,"i")}},50:{},51:{f:function(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:$I},62:{f:function(e){return[yA(e),gA(e),"is"]}},63:{f:function(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=sA(n);var r=e.read_shift(1);return 2&r&&(t.l="1"),8&r&&(t.a="1"),t}},64:{f:function(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:qN,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function(e){var t=e.read_shift(2);return e.l+=28,{RTL:32&t}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function(e,t){var n={},r=e[e.l];return++e.l,n.above=!(64&r),n.left=!(128&r),e.l+=18,n.name=xA(e,t-19),n}},148:{f:uO,p:16},151:{f:function(){}},152:{},153:{f:function(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var a=t>8?pA(e):"";return a.length>0&&(n.CodeName=a),n.autoCompressPictures=!!(65536&r),n.backupFile=!!(64&r),n.checkCompatibility=!!(4096&r),n.date1904=!!(1&r),n.filterPrivacy=!!(8&r),n.hidePivotFieldList=!!(1024&r),n.promptedSolutions=!!(16&r),n.publishItems=!!(2048&r),n.refreshAllConnections=!!(262144&r),n.saveExternalLinkValues=!!(128&r),n.showBorderUnselectedTables=!!(4&r),n.showInkAnnotation=!!(32&r),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(32768&r),n.updateLinks=["userSet","never","always"][r>>8&3],n}},154:{},155:{},156:{f:function(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=TA(e,t-8),n.name=pA(e),n}},157:{},158:{},159:{T:1,f:function(e){return[e.read_shift(4),e.read_shift(4)]}},160:{T:-1},161:{T:1,f:_A},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:dO},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:pA(e)}}},336:{T:-1},337:{f:function(e){return e.l+=4,0!=e.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:TA},357:{},358:{},359:{},360:{T:1},361:{},362:{f:VI},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function(e,t,n){var r=e.l+t,a=SA(e),s=e.read_shift(1),i=[a];if(i[2]=s,n.cellFormula){var o=LP(e,r-e.l,n);i[1]=o}else e.l=r;return i}},427:{f:function(e,t,n){var r=e.l+t,a=[_A(e,16)];if(n.cellFormula){var s=VP(e,r-e.l,n);a[1]=s,e.l=r}else e.l=r;return a}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function(e){var t={};return fO.forEach((function(n){t[n]=CA(e)})),t}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function(e,t){var n=e.l+t,r=_A(e,16),a=wA(e),s=pA(e),i=pA(e),o=pA(e);e.l=n;var l={rfx:r,relId:a,loc:s,display:o};return i&&(l.Tooltip=i),l}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:TA},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:eP},633:{T:1},634:{T:-1},635:{T:1,f:function(e){var t={};t.iauthor=e.read_shift(4);var n=_A(e,16);return t.rfx=n.s,t.ref=sA(n.s),e.l+=16,t}},636:{T:-1},637:{f:vA},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function(e,t){return e.l+=10,{name:pA(e)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},rD={6:{f:MP},10:{f:cI},12:{f:hI},13:{f:hI},14:{f:uI},15:{f:uI},16:{f:CA},17:{f:uI},18:{f:uI},19:{f:hI},20:{f:jI},21:{f:jI},23:{f:VI},24:{f:UI},25:{f:uI},26:{},27:{},28:{f:function(e,t,n){return function(e,t,n){if(!(n.biff<8)){var r=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=vI(e,0,n);return n.biff<8&&e.read_shift(1),[{r:r,c:a},o,i,s]}}(e,0,n)}},29:{},34:{f:uI},35:{f:LI},38:{f:CA},39:{f:CA},40:{f:CA},41:{f:CA},42:{f:uI},43:{f:uI},47:{f:function(e,t,n){var r={Type:n.biff>=8?e.read_shift(2):0};return r.Type?wR(e,t-2,r):function(e,t,n,r){var a={key:hI(e),verificationBytes:hI(e)};n.password&&(a.verifier=yR(n.password)),r.valid=a.verificationBytes===a.verifier,r.valid&&(r.insitu=xR(n.password))}(e,n.biff,n,r),r}},49:{f:function(e,t,n){var r={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10}return r.name=fI(e,0,n),r}},51:{f:hI},60:{},61:{f:function(e){return{Pos:[e.read_shift(2),e.read_shift(2)],Dim:[e.read_shift(2),e.read_shift(2)],Flags:e.read_shift(2),CurTab:e.read_shift(2),FirstTab:e.read_shift(2),Selected:e.read_shift(2),TabRatio:e.read_shift(2)}}},64:{f:uI},65:{f:function(){}},66:{f:hI},77:{},80:{},81:{},82:{},85:{f:hI},89:{},90:{},91:{},92:{f:function(e,t,n){if(n.enc)return e.l+=t,"";var r=e.l,a=vI(e,0,n);return e.read_shift(t+r-e.l),a}},93:{f:function(e,t,n){if(n&&n.biff<8)return function(e,t,n){e.l+=4;var r=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var i=[];return i.push((zI[r]||qN)(e,t,n)),{cmo:[a,r,s],ft:i}}(e,t,n);var r=NI(e),a=function(e,t){for(var n=e.l+t,r=[];e.l<n;){var a=e.read_shift(2);e.l-=2;try{r.push(II[a](e,n-e.l))}catch(Pm){return e.l=n,r}}return e.l!=n&&(e.l=n),r}(e,t-22,r[1]);return{cmo:r,ft:a}}},94:{},95:{f:uI},96:{},97:{},99:{f:uI},125:{f:$I},128:{f:function(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(0!==t[0]&&t[0]--,0!==t[1]&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}},129:{f:function(e,t,n){var r=n&&8==n.biff||2==t?e.read_shift(2):(e.l+=t,0);return{fDialog:16&r,fBelow:64&r,fRight:128&r}}},130:{f:hI},131:{f:uI},132:{f:uI},133:{f:function(e,t,n){var r=e.read_shift(4),a=3&e.read_shift(1),s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule"}var i=fI(e,0,n);return 0===i.length&&(i="Sheet1"),{pos:r,hs:a,dt:s,name:i}}},134:{},140:{f:function(e){var t,n=[0,0];return t=e.read_shift(2),n[0]=OA[t]||t,t=e.read_shift(2),n[1]=OA[t]||t,n}},141:{f:hI},144:{},146:{f:function(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(wI(e));return n}},151:{},152:{},153:{},154:{},155:{},156:{f:hI},157:{},158:{},160:{f:WI},161:{f:function(e,t){var n={};return t<32||(e.l+=16,n.header=CA(e),n.footer=CA(e),e.l+=2),n}},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:function(e,t){for(var n=e.l+t-2,r=e.read_shift(2),a=e.read_shift(2),s=[];e.l<n;)s.push(kI(e));if(e.l!==n)throw new Error("MulRK read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulRK length mismatch");return{r:r,c:a,C:i,rkrec:s}}},190:{f:function(e,t){for(var n=e.l+t-2,r=e.read_shift(2),a=e.read_shift(2),s=[];e.l<n;)s.push(e.read_shift(2));if(e.l!==n)throw new Error("MulBlank read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulBlank length mismatch");return{r:r,c:a,C:i,ixfe:s}}},193:{f:cI},197:{},198:{},199:{},200:{},201:{},202:{f:uI},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:hI},220:{},221:{f:uI},222:{},224:{f:function(e,t,n){var r={};return r.ifnt=e.read_shift(2),r.numFmtId=e.read_shift(2),r.flags=e.read_shift(2),r.fStyle=r.flags>>2&1,r.data=function(e,t,n,r){var a={},s=e.read_shift(4),i=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return a.patternType=DA[o>>26],r.cellStyles?(a.alc=7&s,a.fWrap=s>>3&1,a.alcV=s>>4&7,a.fJustLast=s>>7&1,a.trot=s>>8&255,a.cIndent=s>>16&15,a.fShrinkToFit=s>>20&1,a.iReadOrder=s>>22&2,a.fAtrNum=s>>26&1,a.fAtrFnt=s>>27&1,a.fAtrAlc=s>>28&1,a.fAtrBdr=s>>29&1,a.fAtrPat=s>>30&1,a.fAtrProt=s>>31&1,a.dgLeft=15&i,a.dgRight=i>>4&15,a.dgTop=i>>8&15,a.dgBottom=i>>12&15,a.icvLeft=i>>16&127,a.icvRight=i>>23&127,a.grbitDiag=i>>30&3,a.icvTop=127&o,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=127&l,a.icvBack=l>>7&127,a.fsxButton=l>>14&1,a):a}(e,0,r.fStyle,n),r}},225:{f:function(e,t){return 0===t||e.read_shift(2),1200}},226:{f:cI},227:{},229:{f:function(e,t){for(var n=[],r=e.read_shift(2);r--;)n.push(SI(e));return n}},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:function(e,t){for(var n=e.l+t,r=e.read_shift(4),a=e.read_shift(4),s=[],i=0;i!=a&&e.l<n;++i)s.push(pI(e));return s.Count=r,s.Unique=a,s}},253:{f:function(e){var t=EI(e);return t.isst=e.read_shift(4),t}},255:{f:function(e,t){var n={};return n.dsst=e.read_shift(2),e.l+=t-2,n}},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:dI},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:uI},353:{f:cI},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:function(e,t,n){var r=e.l+t,a=e.read_shift(2),s=e.read_shift(2);if(n.sbcch=s,1025==s||14849==s)return[s,a];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var i=mI(e,s),o=[];r>e.l;)o.push(gI(e));return[s,a,i,o]}},431:{f:uI},432:{},433:{},434:{},437:{},438:{f:function(e,t,n){var r=e.l,a="";try{e.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1];-1==[0,5,7,11,12,14].indexOf(s)?e.l+=6:function(e){var t=e.read_shift(1);e.l++;var n=e.read_shift(2);return e.l+=2,[t,n]}(e);var i=e.read_shift(2);e.read_shift(2),hI(e);var o=e.read_shift(2);e.l+=o;for(var l=1;l<e.lens.length-1;++l){if(e.l-r!=e.lens[l])throw new Error("TxO: bad continue record");var c=e[e.l];if((a+=mI(e,e.lens[l+1]-e.lens[l]-1)).length>=(c?i:2*i))break}if(a.length!==i&&a.length!==2*i)throw new Error("cchText: "+i+" != "+a.length);return e.l=r+t,{t:a}}catch(Pm){return e.l=r+t,{t:a}}}},439:{f:uI},440:{f:function(e,t){var n=SI(e);e.l+=16;var r=function(e,t){var n=e.l+t,r=e.read_shift(4);if(2!==r)throw new Error("Unrecognized streamVersion: "+r);var a=e.read_shift(2);e.l+=2;var s,i,o,l,c,u,h="";16&a&&(s=bI(e,e.l)),128&a&&(i=bI(e,e.l)),257===(257&a)&&(o=bI(e,e.l)),1===(257&a)&&(l=yI(e,e.l)),8&a&&(h=bI(e,e.l)),32&a&&(c=e.read_shift(16)),64&a&&(u=JA(e)),e.l=n;var d=i||o||l||"";d&&h&&(d+="#"+h),d||(d="#"+h),2&a&&"/"==d.charAt(0)&&"/"!=d.charAt(1)&&(d="file://"+d);var f={Target:d};return c&&(f.guid=c),u&&(f.time=u),s&&(f.Tooltip=s),f}(e,t-24);return[n,r]}},441:{},442:{f:gI},443:{},444:{f:hI},445:{},446:{},448:{f:cI},449:{f:function(e){return e.read_shift(2),e.read_shift(4)},r:2},450:{f:cI},512:{f:DI},513:{f:HI},515:{f:function(e,t,n){n.biffguess&&2==n.biff&&(n.biff=5);var r=EI(e),a=CA(e);return r.val=a,r}},516:{f:function(e,t,n){n.biffguess&&2==n.biff&&(n.biff=5),e.l;var r=EI(e);2==n.biff&&e.l++;var a=gI(e,e.l,n);return r.val=a,r}},517:{f:MI},519:{f:qI},520:{f:function(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var n=e.read_shift(2);e.l+=4;var r=e.read_shift(1);return e.l+=3,7&r&&(t.level=7&r),32&r&&(t.hidden=!0),64&r&&(t.hpt=n/20),t}},523:{},545:{f:BI},549:{f:PI},566:{},574:{f:function(e,t,n){return n&&n.biff>=2&&n.biff<5?{}:{RTL:64&e.read_shift(2)}}},638:{f:function(e){var t=e.read_shift(2),n=e.read_shift(2),r=kI(e);return{r:t,c:n,ixfe:r[0],rknum:r[1]}}},659:{},1048:{},1054:{f:function(e,t,n){return[e.read_shift(2),vI(e,0,n)]}},1084:{},1212:{f:function(e,t,n){var r=_I(e);e.l++;var a=e.read_shift(1);return[DP(e,t-=8,n),a,r]}},2048:{f:function(e,t){e.read_shift(2);var n=SI(e),r=e.read_shift((t-10)/2,"dbcs-cont");return[n,r=r.replace(n_,"")]}},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:RI},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:cI},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:function(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t},r:12},2173:{f:function(e,t){e.l,e.l+=2;var n=e.read_shift(2);e.l+=2;for(var r=e.read_shift(2),a=[];r-- >0;)a.push(JR(e,e.l));return{ixfe:n,ext:a}},r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:uI,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:function(e,t,n){if(!(n.biff<8)){var r=e.read_shift(2),a=e.read_shift(2);return[mI(e,r,n),mI(e,a,n)]}e.l+=t},r:12},2197:{},2198:{f:function(e,t,n){var r=e.l+t;if(124226!==e.read_shift(4))if(n.cellStyles){var a,s=e.slice(e.l);e.l=r;try{a=NC(s,{type:"array"})}catch(Pm){return}var i=kC(a,"theme/theme/theme1.xml",!0);if(i)return XR(i,n)}else e.l=r},r:12},2199:{},2200:{},2201:{},2202:{f:function(e){return[0!==e.read_shift(4),0!==e.read_shift(4),e.read_shift(4)]},r:12},2203:{f:cI},2204:{},2205:{},2206:{},2207:{},2211:{f:function(e){var t=function(e){var t=e.read_shift(2),n=e.read_shift(2);return e.l+=8,{type:t,flags:n}}(e);if(2211!=t.type)throw new Error("Invalid Future Record "+t.type);return 0!==e.read_shift(4)}},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:hI},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:function(e,t,n){var r={area:!1};if(5!=n.biff)return e.l+=t,r;var a=e.read_shift(1);return e.l+=3,16&a&&(r.area=!0),r}},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:function(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(wI(e));return n}},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:DI},1:{},2:{f:function(e){var t=EI(e);++e.l;var n=e.read_shift(2);return t.t="n",t.val=n,t}},3:{f:function(e){var t=EI(e);++e.l;var n=CA(e);return t.t="n",t.val=n,t}},4:{f:function(e,t,n){n.biffguess&&5==n.biff&&(n.biff=2);var r=EI(e);++e.l;var a=vI(e,0,n);return r.t="str",r.val=a,r}},5:{f:MI},7:{f:function(e){var t=e.read_shift(1);return 0===t?(e.l++,""):e.read_shift(t,"sbcs-cont")}},8:{},9:{f:RI},11:{},22:{f:hI},30:{f:OI},31:{},32:{},33:{f:BI},36:{},37:{f:PI},50:{f:function(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}},62:{},52:{},67:{},68:{f:hI},69:{},86:{},126:{},127:{f:function(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),a={fmt:t,env:n,len:r,data:e.slice(e.l,e.l+r)};return e.l+=r,a}},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:function(e,t,n){var r=e.l+t,a=EI(e),s=e.read_shift(2),i=mI(e,s,n);return e.l=r,a.t="str",a.val=i,a}},223:{},234:{},354:{},421:{},518:{f:MP},521:{f:RI},536:{f:UI},547:{f:LI},561:{},579:{},1030:{f:MP},1033:{f:RI},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function aD(e,t,n,r){var a=t;if(!isNaN(a)){var s=r||(n||[]).length||0,i=e.next(4);i.write_shift(2,a),i.write_shift(2,s),s>0&&RN(n)&&e.push(n)}}function sD(e,t){var n=t||{};var r=n.dense?[]:{},a=(e=e.replace(/<!--.*?-->/g,"")).match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),i=a.index,o=s&&s.index||e.length,l=yC(e.slice(i,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,h=0,d=0,f={s:{r:1e7,c:1e7},e:{r:0,c:0}},p=[];for(i=0;i<l.length;++i){var m=l[i].trim(),g=m.slice(0,3).toLowerCase();if("<tr"!=g){if("<td"==g||"<th"==g){var v=m.split(/<\/t[dh]>/i);for(o=0;o<v.length;++o){var y=v[o].trim();if(y.match(/<t[dh]/i)){for(var b=y,x=0;"<"==b.charAt(0)&&(x=b.indexOf(">"))>-1;)b=b.slice(x+1);for(var w=0;w<p.length;++w){var E=p[w];E.s.c==u&&E.s.r<c&&c<=E.e.r&&(u=E.e.c+1,w=-1)}var T=jC(y.slice(0,y.indexOf(">")));d=T.colspan?+T.colspan:1,((h=+T.rowspan)>1||d>1)&&p.push({s:{r:c,c:u},e:{r:c+(h||1)-1,c:u+d-1}});var k=T.t||T["data-t"]||"";if(b.length)if(b=ZC(b),f.s.r>c&&(f.s.r=c),f.e.r<c&&(f.e.r=c),f.s.c>u&&(f.s.c=u),f.e.c<u&&(f.e.c=u),b.length){var S={t:"s",v:b};n.raw||!b.trim().length||"s"==k||("TRUE"===b?S={t:"b",v:!0}:"FALSE"===b?S={t:"b",v:!1}:isNaN(mC(b))?isNaN(vC(b).getDate())||(S={t:"d",v:hC(b)},n.cellDates||(S={t:"n",v:nC(S.v)}),S.z=n.dateNF||f_[14]):S={t:"n",v:mC(b)}),n.dense?(r[c]||(r[c]=[]),r[c][u]=S):r[sA({r:c,c:u})]=S,u+=d}else u+=d;else u+=d}}}}else{if(++c,n.sheetRows&&n.sheetRows<=c){--c;break}u=0}}return r["!ref"]=oA(f),p.length&&(r["!merges"]=p),r}function iD(e,t,n,r){for(var a=e["!merges"]||[],s=[],i=t.s.c;i<=t.e.c;++i){for(var o=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>n||a[c].s.c>i)&&!(a[c].e.r<n||a[c].e.c<i)){if(a[c].s.r<n||a[c].s.c<i){o=-1;break}o=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(o<0)){var u=sA({r:n,c:i}),h=r.dense?(e[n]||[])[i]:e[u],d=h&&null!=h.v&&(h.h||$C(h.w||(uA(h),h.w)||""))||"",f={};o>1&&(f.rowspan=o),l>1&&(f.colspan=l),r.editable?d='<span contenteditable="true">'+d+"</span>":h&&(f["data-t"]=h&&h.t||"z",null!=h.v&&(f["data-v"]=h.v),null!=h.z&&(f["data-z"]=h.z),h.l&&"#"!=(h.l.Target||"#").charAt(0)&&(d='<a href="'+h.l.Target+'">'+d+"</a>")),f.id=(r.id||"sjs")+"-"+u,s.push(iN("td",d,f))}}return"<tr>"+s.join("")+"</tr>"}var oD='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',lD="</body></html>";function cD(e,t,n){return[].join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function uD(e,t){var n=t||{},r=null!=n.header?n.header:oD,a=null!=n.footer?n.footer:lD,s=[r],i=iA(e["!ref"]);n.dense=Array.isArray(e),s.push(cD(0,0,n));for(var o=i.s.r;o<=i.e.r;++o)s.push(iD(e,i,o,n));return s.push("</table>"+a),s.join("")}function hD(e,t,n){var r=n||{};var a=0,s=0;if(null!=r.origin)if("number"==typeof r.origin)a=r.origin;else{var i="string"==typeof r.origin?aA(r.origin):r.origin;a=i.r,s=i.c}var o=t.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var u=iA(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),-1==a&&(c.e.r=a=u.e.r+1)}var h=[],d=0,f=e["!rows"]||(e["!rows"]=[]),p=0,m=0,g=0,v=0,y=0,b=0;for(e["!cols"]||(e["!cols"]=[]);p<o.length&&m<l;++p){var x=o[p];if(fD(x)){if(r.display)continue;f[m]={hidden:!0}}var w=x.children;for(g=v=0;g<w.length;++g){var E=w[g];if(!r.display||!fD(E)){var T=E.hasAttribute("data-v")?E.getAttribute("data-v"):E.hasAttribute("v")?E.getAttribute("v"):ZC(E.innerHTML),k=E.getAttribute("data-z")||E.getAttribute("z");for(d=0;d<h.length;++d){var S=h[d];S.s.c==v+s&&S.s.r<m+a&&m+a<=S.e.r&&(v=S.e.c+1-s,d=-1)}b=+E.getAttribute("colspan")||1,((y=+E.getAttribute("rowspan")||1)>1||b>1)&&h.push({s:{r:m+a,c:v+s},e:{r:m+a+(y||1)-1,c:v+s+(b||1)-1}});var _={t:"s",v:T},C=E.getAttribute("data-t")||E.getAttribute("t")||"";null!=T&&(0==T.length?_.t=C||"z":r.raw||0==T.trim().length||"s"==C||("TRUE"===T?_={t:"b",v:!0}:"FALSE"===T?_={t:"b",v:!1}:isNaN(mC(T))?isNaN(vC(T).getDate())||(_={t:"d",v:hC(T)},r.cellDates||(_={t:"n",v:nC(_.v)}),_.z=r.dateNF||f_[14]):_={t:"n",v:mC(T)})),void 0===_.z&&null!=k&&(_.z=k);var N="",A=E.getElementsByTagName("A");if(A&&A.length)for(var I=0;I<A.length&&(!A[I].hasAttribute("href")||"#"==(N=A[I].getAttribute("href")).charAt(0));++I);N&&"#"!=N.charAt(0)&&(_.l={Target:N}),r.dense?(e[m+a]||(e[m+a]=[]),e[m+a][v+s]=_):e[sA({c:v+s,r:m+a})]=_,c.e.c<v+s&&(c.e.c=v+s),v+=b}}++m}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),c.e.r=Math.max(c.e.r,m-1+a),e["!ref"]=oA(c),m>=l&&(e["!fullref"]=oA((c.e.r=o.length-p+m-1+a,c))),e}function dD(e,t){return hD((t||{}).dense?[]:{},e,t)}function fD(e){var t="",n=function(e){return e.ownerDocument.defaultView&&"function"===typeof e.ownerDocument.defaultView.getComputedStyle?e.ownerDocument.defaultView.getComputedStyle:"function"===typeof getComputedStyle?getComputedStyle:null}(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),"none"===t}function pD(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,(function(e,t){return Array(parseInt(t,10)+1).join(" ")})).replace(/<text:tab[^>]*\/>/g,"\t").replace(/<text:line-break\/>/g,"\n");return[VC(t.replace(/<[^>]*>/g,""))]}var mD={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function gD(e,t){var n=t||{};var r,a,s,i,o,l,c=oN(e),u=[],h={name:""},d="",f=0,p={},m=[],g=n.dense?[]:{},v={value:""},y="",b=0,x=[],w=-1,E=-1,T={s:{r:1e6,c:1e7},e:{r:0,c:0}},k=0,S={},_=[],C={},N=[],A=1,I=1,R=[],P={Names:[]},O={},D=["",""],M=[],j={},L="",F=0,U=!1,V=!1,B=0;for(lN.lastIndex=0,c=c.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");o=lN.exec(c);)switch(o[3]=o[3].replace(/_.*$/,"")){case"table":case"\u5de5\u4f5c\u8868":"/"===o[1]?(T.e.c>=T.s.c&&T.e.r>=T.s.r?g["!ref"]=oA(T):g["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=T.e.r&&(g["!fullref"]=g["!ref"],T.e.r=n.sheetRows-1,g["!ref"]=oA(T)),_.length&&(g["!merges"]=_),N.length&&(g["!rows"]=N),s.name=s["\u540d\u79f0"]||s.name,"undefined"!==typeof JSON&&JSON.stringify(s),m.push(s.name),p[s.name]=g,V=!1):"/"!==o[0].charAt(o[0].length-2)&&(s=jC(o[0],!1),w=E=-1,T.s.r=T.s.c=1e7,T.e.r=T.e.c=0,g=n.dense?[]:{},_=[],N=[],V=!0);break;case"table-row-group":"/"===o[1]?--k:++k;break;case"table-row":case"\u884c":if("/"===o[1]){w+=A,A=1;break}if((i=jC(o[0],!1))["\u884c\u53f7"]?w=i["\u884c\u53f7"]-1:-1==w&&(w=0),(A=+i["number-rows-repeated"]||1)<10)for(B=0;B<A;++B)k>0&&(N[w+B]={level:k});E=-1;break;case"covered-table-cell":"/"!==o[1]&&++E,n.sheetStubs&&(n.dense?(g[w]||(g[w]=[]),g[w][E]={t:"z"}):g[sA({r:w,c:E})]={t:"z"}),y="",x=[];break;case"table-cell":case"\u6570\u636e":if("/"===o[0].charAt(o[0].length-2))++E,v=jC(o[0],!1),I=parseInt(v["number-columns-repeated"]||"1",10),l={t:"z",v:null},v.formula&&0!=n.cellFormula&&(l.f=HP(VC(v.formula))),"string"==(v["\u6570\u636e\u7c7b\u578b"]||v["value-type"])&&(l.t="s",l.v=VC(v["string-value"]||""),n.dense?(g[w]||(g[w]=[]),g[w][E]=l):g[sA({r:w,c:E})]=l),E+=I-1;else if("/"!==o[1]){y="",b=0,x=[],I=1;var z=A?w+A-1:w;if(++E>T.e.c&&(T.e.c=E),E<T.s.c&&(T.s.c=E),w<T.s.r&&(T.s.r=w),z>T.e.r&&(T.e.r=z),M=[],j={},l={t:(v=jC(o[0],!1))["\u6570\u636e\u7c7b\u578b"]||v["value-type"],v:null},n.cellFormula)if(v.formula&&(v.formula=VC(v.formula)),v["number-matrix-columns-spanned"]&&v["number-matrix-rows-spanned"]&&(C={s:{r:w,c:E},e:{r:w+(parseInt(v["number-matrix-rows-spanned"],10)||0)-1,c:E+(parseInt(v["number-matrix-columns-spanned"],10)||0)-1}},l.F=oA(C),R.push([C,l.F])),v.formula)l.f=HP(v.formula);else for(B=0;B<R.length;++B)w>=R[B][0].s.r&&w<=R[B][0].e.r&&E>=R[B][0].s.c&&E<=R[B][0].e.c&&(l.F=R[B][1]);switch((v["number-columns-spanned"]||v["number-rows-spanned"])&&(C={s:{r:w,c:E},e:{r:w+(parseInt(v["number-rows-spanned"],10)||0)-1,c:E+(parseInt(v["number-columns-spanned"],10)||0)-1}},_.push(C)),v["number-columns-repeated"]&&(I=parseInt(v["number-columns-repeated"],10)),l.t){case"boolean":l.t="b",l.v=WC(v["boolean-value"]);break;case"float":case"percentage":case"currency":l.t="n",l.v=parseFloat(v.value);break;case"date":l.t="d",l.v=hC(v["date-value"]),n.cellDates||(l.t="n",l.v=nC(l.v)),l.z="m/d/yy";break;case"time":l.t="n",l.v=oC(v["time-value"])/86400,n.cellDates&&(l.t="d",l.v=iC(l.v)),l.z="HH:MM:SS";break;case"number":l.t="n",l.v=parseFloat(v["\u6570\u636e\u6570\u503c"]);break;default:if("string"!==l.t&&"text"!==l.t&&l.t)throw new Error("Unsupported value type "+l.t);l.t="s",null!=v["string-value"]&&(y=VC(v["string-value"]),x=[])}}else{if(U=!1,"s"===l.t&&(l.v=y||"",x.length&&(l.R=x),U=0==b),O.Target&&(l.l=O),M.length>0&&(l.c=M,M=[]),y&&!1!==n.cellText&&(l.w=y),U&&(l.t="z",delete l.v),(!U||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=w))for(var $=0;$<A;++$){if(I=parseInt(v["number-columns-repeated"]||"1",10),n.dense)for(g[w+$]||(g[w+$]=[]),g[w+$][E]=0==$?l:fC(l);--I>0;)g[w+$][E+I]=fC(l);else for(g[sA({r:w+$,c:E})]=l;--I>0;)g[sA({r:w+$,c:E+I})]=fC(l);T.e.c<=E&&(T.e.c=E)}E+=(I=parseInt(v["number-columns-repeated"]||"1",10))-1,I=0,l={},y="",x=[]}O={};break;case"document":case"document-content":case"\u7535\u5b50\u8868\u683c\u6587\u6863":case"spreadsheet":case"\u4e3b\u4f53":case"scripts":case"styles":case"font-face-decls":case"master-styles":if("/"===o[1]){if((r=u.pop())[0]!==o[3])throw"Bad state: "+r}else"/"!==o[0].charAt(o[0].length-2)&&u.push([o[3],!0]);break;case"annotation":if("/"===o[1]){if((r=u.pop())[0]!==o[3])throw"Bad state: "+r;j.t=y,x.length&&(j.R=x),j.a=L,M.push(j)}else"/"!==o[0].charAt(o[0].length-2)&&u.push([o[3],!1]);L="",F=0,y="",b=0,x=[];break;case"creator":"/"===o[1]?L=c.slice(F,o.index):F=o.index+o[0].length;break;case"meta":case"\u5143\u6570\u636e":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if("/"===o[1]){if((r=u.pop())[0]!==o[3])throw"Bad state: "+r}else"/"!==o[0].charAt(o[0].length-2)&&u.push([o[3],!1]);y="",b=0,x=[];break;case"scientific-number":case"currency-symbol":case"currency-style":case"script":case"libraries":case"automatic-styles":case"default-style":case"page-layout":case"style":case"map":case"font-face":case"paragraph-properties":case"table-properties":case"table-column-properties":case"table-row-properties":case"table-cell-properties":case"fraction":case"boolean-style":case"boolean":case"text-style":case"text-content":case"text-properties":case"embedded-text":case"body":case"\u7535\u5b50\u8868\u683c":case"forms":case"table-column":case"table-header-rows":case"table-rows":case"table-column-group":case"table-header-columns":case"table-columns":case"null-date":case"graphic-properties":case"calculation-settings":case"named-expressions":case"label-range":case"label-ranges":case"named-expression":case"sort":case"sort-by":case"sort-groups":case"tab":case"line-break":case"span":case"s":case"date":case"object":case"title":case"\u6807\u9898":case"desc":case"binary-data":case"table-source":case"scenario":case"iteration":case"content-validations":case"content-validation":case"help-message":case"error-message":case"database-ranges":case"filter":case"filter-and":case"filter-or":case"filter-condition":case"list-level-style-bullet":case"list-level-style-number":case"list-level-properties":case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":case"event-listener":case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":case"config-item":case"page-number":case"page-count":case"time":case"cell-range-source":case"detective":case"operation":case"highlighted-range":case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":case"rect":case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":case"properties":case"property":case"table-protection":case"data-pilot-grand-total":case"office-document-common-attrs":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if("/"===o[1]){if(S[h.name]=d,(r=u.pop())[0]!==o[3])throw"Bad state: "+r}else"/"!==o[0].charAt(o[0].length-2)&&(d="",h=jC(o[0],!1),u.push([o[3],!0]));break;case"number":case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(u[u.length-1][0]){case"time-style":case"date-style":a=jC(o[0],!1),d+=mD[o[3]]["long"===a.style?1:0]}break;case"text":if("/>"===o[0].slice(-2))break;if("/"===o[1])switch(u[u.length-1][0]){case"number-style":case"date-style":case"time-style":d+=c.slice(f,o.index)}else f=o.index+o[0].length;break;case"named-range":D=WP((a=jC(o[0],!1))["cell-range-address"]);var H={Name:a.name,Ref:D[0]+"!"+D[1]};V&&(H.Sheet=m.length),P.Names.push(H);break;case"p":case"\u6587\u672c\u4e32":if(["master-styles"].indexOf(u[u.length-1][0])>-1)break;if("/"!==o[1]||v&&v["string-value"])jC(o[0],!1),b=o.index+o[0].length;else{var W=pD(c.slice(b,o.index));y=(y.length>0?y+"\n":"")+W[0]}break;case"database-range":if("/"===o[1])break;try{p[(D=WP(jC(o[0])["target-range-address"]))[0]]["!autofilter"]={ref:D[1]}}catch(Pm){}break;case"a":if("/"!==o[1]){if(!(O=jC(o[0],!1)).href)break;O.Target=VC(O.href),delete O.href,"#"==O.Target.charAt(0)&&O.Target.indexOf(".")>-1?(D=WP(O.Target.slice(1)),O.Target="#"+D[0]+"!"+D[1]):O.Target.match(/^\.\.[\\\/]/)&&(O.Target=O.Target.slice(3))}break;default:switch(o[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"\u8868:":case"\u5b57:":break;default:if(n.WTF)throw new Error(o)}}var q={Sheets:p,SheetNames:m,Workbook:P};return n.bookSheets&&delete q.Sheets,q}function vD(e,t){t=t||{},wC(e,"META-INF/manifest.xml")&&function(e,t){for(var n,r,a=oN(e);n=lN.exec(a);)switch(n[3]){case"manifest":break;case"file-entry":if("/"==(r=jC(n[0],!1)).path&&"application/vnd.oasis.opendocument.spreadsheet"!==r.type)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}(TC(e,"META-INF/manifest.xml"),t);var n=kC(e,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=gD(YC(n),t);return wC(e,"meta.xml")&&(r.Props=WA(TC(e,"meta.xml"))),r}function yD(e,t){return gD(e,t)}function bD(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function xD(e){return"undefined"!=typeof TextDecoder?(new TextDecoder).decode(e):YC(ZS(e))}function wD(e){var t=e.reduce((function(e,t){return e+t.length}),0),n=new Uint8Array(t),r=0;return e.forEach((function(e){n.set(e,r),r+=e.length})),n}function ED(e){return 16843009*((e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135)>>>24}function TD(e,t){var n=t?t[0]:0,r=127&e[n];e:if(e[n++]>=128){if(r|=(127&e[n])<<7,e[n++]<128)break e;if(r|=(127&e[n])<<14,e[n++]<128)break e;if(r|=(127&e[n])<<21,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,28),++n,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,35),++n,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,42),++n,e[n++]<128)break e}return t&&(t[0]=n),r}function kD(e){var t=0,n=127&e[t];e:if(e[t++]>=128){if(n|=(127&e[t])<<7,e[t++]<128)break e;if(n|=(127&e[t])<<14,e[t++]<128)break e;if(n|=(127&e[t])<<21,e[t++]<128)break e;n|=(127&e[t])<<28}return n}function SD(e){for(var t=[],n=[0];n[0]<e.length;){var r,a=n[0],s=TD(e,n),i=7&s,o=0;if(0==(s=Math.floor(s/8)))break;switch(i){case 0:for(var l=n[0];e[n[0]++]>=128;);r=e.slice(l,n[0]);break;case 5:o=4,r=e.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,r=e.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=TD(e,n),r=e.slice(n[0],n[0]+o),n[0]+=o;break;default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(a))}var c={data:r,type:i};null==t[s]?t[s]=[c]:t[s].push(c)}return t}function _D(e,t){return(null==e?void 0:e.map((function(e){return t(e.data)})))||[]}function CD(e){for(var t,n=[],r=[0];r[0]<e.length;){var a=TD(e,r),s=SD(e.slice(r[0],r[0]+a));r[0]+=a;var i={id:kD(s[1][0].data),messages:[]};s[2].forEach((function(t){var n=SD(t.data),a=kD(n[3][0].data);i.messages.push({meta:n,data:e.slice(r[0],r[0]+a)}),r[0]+=a})),(null==(t=s[3])?void 0:t[0])&&(i.merge=kD(s[3][0].data)>>>0>0),n.push(i)}return n}function ND(e,t){if(0!=e)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=TD(t,n),a=[];n[0]<t.length;){var s=3&t[n[0]];if(0!=s){var i=0,o=0;if(1==s?(o=4+(t[n[0]]>>2&7),i=(224&t[n[0]++])<<3,i|=t[n[0]++]):(o=1+(t[n[0]++]>>2),2==s?(i=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(i=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),a=[wD(a)],0==i)throw new Error("Invalid offset 0");if(i>a[0].length)throw new Error("Invalid offset beyond length");if(o>=i)for(a.push(a[0].slice(-i)),o-=i;o>=a[a.length-1].length;)a.push(a[a.length-1]),o-=a[a.length-1].length;a.push(a[0].slice(-i,-i+o))}else{var l=t[n[0]++]>>2;if(l<60)++l;else{var c=l-59;l=t[n[0]],c>1&&(l|=t[n[0]+1]<<8),c>2&&(l|=t[n[0]+2]<<16),c>3&&(l|=t[n[0]+3]<<24),l>>>=0,l++,n[0]+=c}a.push(t.slice(n[0],n[0]+l)),n[0]+=l}}var u=wD(a);if(u.length!=r)throw new Error("Unexpected length: ".concat(u.length," != ").concat(r));return u}function AD(e){for(var t=[],n=0;n<e.length;){var r=e[n++],a=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(ND(r,e.slice(n,n+a))),n+=a}if(n!==e.length)throw new Error("data is not a valid framed stream!");return wD(t)}function ID(e,t,n){var r,a=bD(e),s=a.getUint32(8,!0),i=12,o=-1,l=-1,c=NaN,u=NaN,h=new Date(2001,0,1);switch(1&s&&(c=function(e,t){for(var n=(127&e[t+15])<<7|e[t+14]>>1,r=1&e[t+14],a=t+13;a>=t;--a)r=256*r+e[a];return(128&e[t+15]?-r:r)*Math.pow(10,n-6176)}(e,i),i+=16),2&s&&(u=a.getFloat64(i,!0),i+=8),4&s&&(h.setTime(h.getTime()+1e3*a.getFloat64(i,!0)),i+=8),8&s&&(l=a.getUint32(i,!0),i+=4),16&s&&(o=a.getUint32(i,!0),i+=4),e[1]){case 0:break;case 2:case 10:r={t:"n",v:c};break;case 3:r={t:"s",v:t[l]};break;case 5:r={t:"d",v:h};break;case 6:r={t:"b",v:u>0};break;case 7:r={t:"n",v:u/86400};break;case 8:r={t:"e",v:0};break;case 9:if(!(o>-1))throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(31&s," : ").concat(e.slice(0,4)));r={t:"s",v:n[o]};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(31&s," : ").concat(e.slice(0,4)))}return r}function RD(e,t,n){switch(e[0]){case 0:case 1:case 2:case 3:return function(e,t,n,r){var a,s=bD(e),i=s.getUint32(4,!0),o=(r>1?12:8)+4*ED(i&(r>1?3470:398)),l=-1,c=-1,u=NaN,h=new Date(2001,0,1);switch(512&i&&(l=s.getUint32(o,!0),o+=4),o+=4*ED(i&(r>1?12288:4096)),16&i&&(c=s.getUint32(o,!0),o+=4),32&i&&(u=s.getFloat64(o,!0),o+=8),64&i&&(h.setTime(h.getTime()+1e3*s.getFloat64(o,!0)),o+=8),e[2]){case 0:break;case 2:a={t:"n",v:u};break;case 3:a={t:"s",v:t[c]};break;case 5:a={t:"d",v:h};break;case 6:a={t:"b",v:u>0};break;case 7:a={t:"n",v:u/86400};break;case 8:a={t:"e",v:0};break;case 9:if(l>-1)a={t:"s",v:n[l]};else if(c>-1)a={t:"s",v:t[c]};else{if(isNaN(u))throw new Error("Unsupported cell type ".concat(e.slice(0,4)));a={t:"n",v:u}}break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return a}(e,t,n,e[0]);case 5:return ID(e,t,n);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function PD(e){return TD(SD(e)[1][0].data)}function OD(e,t){var n=SD(t.data),r=kD(n[1][0].data),a=n[3],s=[];return(a||[]).forEach((function(t){var n=SD(t.data),a=kD(n[1][0].data)>>>0;switch(r){case 1:s[a]=xD(n[3][0].data);break;case 8:var i=SD(e[PD(n[9][0].data)][0].data),o=e[PD(i[1][0].data)][0],l=kD(o.meta[1][0].data);if(2001!=l)throw new Error("2000 unexpected reference to ".concat(l));var c=SD(o.data);s[a]=c[3].map((function(e){return xD(e.data)})).join("")}})),s}function DD(e,t){var n,r=SD(t.data),a=(null==(n=null==r?void 0:r[7])?void 0:n[0])?kD(r[7][0].data)>>>0>0?1:0:-1,s=_D(r[5],(function(e){return function(e,t){var n,r,a,s,i,o,l,c,u,h,d,f,p,m,g,v,y=SD(e),b=kD(y[1][0].data)>>>0,x=kD(y[2][0].data)>>>0,w=(null==(r=null==(n=y[8])?void 0:n[0])?void 0:r.data)&&kD(y[8][0].data)>0||!1;if((null==(s=null==(a=y[7])?void 0:a[0])?void 0:s.data)&&0!=t)g=null==(o=null==(i=y[7])?void 0:i[0])?void 0:o.data,v=null==(c=null==(l=y[6])?void 0:l[0])?void 0:c.data;else{if(!(null==(h=null==(u=y[4])?void 0:u[0])?void 0:h.data)||1==t)throw"NUMBERS Tile missing ".concat(t," cell storage");g=null==(f=null==(d=y[4])?void 0:d[0])?void 0:f.data,v=null==(m=null==(p=y[3])?void 0:p[0])?void 0:m.data}for(var E=w?4:1,T=bD(g),k=[],S=0;S<g.length/2;++S){var _=T.getUint16(2*S,!0);_<65535&&k.push([S,_])}if(k.length!=x)throw"Expected ".concat(x," cells, found ").concat(k.length);var C=[];for(S=0;S<k.length-1;++S)C[k[S][0]]=v.subarray(k[S][1]*E,k[S+1][1]*E);return k.length>=1&&(C[k[k.length-1][0]]=v.subarray(k[k.length-1][1]*E)),{R:b,cells:C}}(e,a)}));return{nrows:kD(r[4][0].data)>>>0,data:s.reduce((function(e,t){return e[t.R]||(e[t.R]=[]),t.cells.forEach((function(n,r){if(e[t.R][r])throw new Error("Duplicate cell r=".concat(t.R," c=").concat(r));e[t.R][r]=n})),e}),[])}}function MD(e,t){var n={"!ref":"A1"},r=e[PD(SD(t.data)[2][0].data)],a=kD(r[0].meta[1][0].data);if(6001!=a)throw new Error("6000 unexpected reference to ".concat(a));return function(e,t,n){var r,a=SD(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(kD(a[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(s.e.c=(kD(a[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));n["!ref"]=oA(s);var i=SD(a[4][0].data),o=OD(e,e[PD(i[4][0].data)][0]),l=(null==(r=i[17])?void 0:r[0])?OD(e,e[PD(i[17][0].data)][0]):[],c=SD(i[3][0].data),u=0;c[1].forEach((function(t){var r=SD(t.data),a=e[PD(r[2][0].data)][0],s=kD(a.meta[1][0].data);if(6002!=s)throw new Error("6001 unexpected reference to ".concat(s));var i=DD(0,a);i.data.forEach((function(e,t){e.forEach((function(e,r){var a=sA({r:u+t,c:r}),s=RD(e,o,l);s&&(n[a]=s)}))})),u+=i.nrows}))}(e,r[0],n),n}function jD(e,t){var n={SheetNames:[],Sheets:{}};if(_D(SD(t.data)[1],PD).forEach((function(t){e[t].forEach((function(t){if(2==kD(t.meta[1][0].data)){var r=function(e,t){var n,r=SD(t.data),a={name:(null==(n=r[1])?void 0:n[0])?xD(r[1][0].data):"",sheets:[]};return _D(r[2],PD).forEach((function(t){e[t].forEach((function(t){6e3==kD(t.meta[1][0].data)&&a.sheets.push(MD(e,t))}))})),a}(e,t);r.sheets.forEach((function(e,t){aM(n,e,0==t?r.name:r.name+"_"+t,!0)}))}}))})),0==n.SheetNames.length)throw new Error("Empty NUMBERS file");return n}function LD(e){var t,n,r,a,s={},i=[];if(e.FullPaths.forEach((function(e){if(e.match(/\.iwpv2/))throw new Error("Unsupported password protection")})),e.FileIndex.forEach((function(e){if(e.name.match(/\.iwa$/)){var t,n;try{t=AD(e.content)}catch(Pm){return console.log("?? "+e.content.length+" "+(Pm.message||Pm))}try{n=CD(t)}catch(Pm){return console.log("## "+(Pm.message||Pm))}n.forEach((function(e){s[e.id]=e.messages,i.push(e.id)}))}})),!i.length)throw new Error("File has no messages");var o=(null==(a=null==(r=null==(n=null==(t=null==s?void 0:s[1])?void 0:t[0])?void 0:n.meta)?void 0:r[1])?void 0:a[0].data)&&1==kD(s[1][0].meta[1][0].data)&&s[1][0];if(o||i.forEach((function(e){s[e].forEach((function(e){if(1==kD(e.meta[1][0].data)>>>0){if(o)throw new Error("Document has multiple roots");o=e}}))})),!o)throw new Error("Cannot find Document root");return jD(s,o)}function FD(e){return function(t){for(var n=0;n!=e.length;++n){var r=e[n];void 0===t[r[0]]&&(t[r[0]]=r[1]),"n"===r[2]&&(t[r[0]]=Number(t[r[0]]))}}}function UD(e){FD([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function VD(e){return VA.WS.indexOf(e)>-1?"sheet":VA.CS&&e==VA.CS?"chart":VA.DS&&e==VA.DS?"dialog":VA.MS&&e==VA.MS?"macro":e&&e.length?e:"sheet"}function BD(e,t,n,r,a,s,i,o,l,c,u,h){try{s[r]=zA(kC(e,n,!0),t);var d,f=TC(e,t);switch(o){case"sheet":d=CO(f,t,a,l,s[r],c,u,h);break;case"chart":if(!(d=NO(f,t,a,l,s[r],c))||!d["!drawel"])break;var p=AC(d["!drawel"].Target,t),m=BA(p),g=function(e,t){if(!e)return"??";var n=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][n].Target}(kC(e,p,!0),zA(kC(e,m,!0),p)),v=AC(g,p),y=BA(v);d=pO(kC(e,v,!0),0,0,zA(kC(e,y,!0),v),0,d);break;case"macro":x=t,s[r],x.slice(-4),d={"!type":"macro"};break;case"dialog":d=function(e,t){return t.slice(-4),{"!type":"dialog"}}(0,t,0,0,s[r]);break;default:throw new Error("Unrecognized sheet type "+o)}i[r]=d;var b=[];s&&s[r]&&Z_(s[r]).forEach((function(n){var a="";if(s[r][n].Type==VA.CMNT){a=AC(s[r][n].Target,t);var i=RO(TC(e,a,!0),a,l);if(!i||!i.length)return;ZR(d,i,!1)}s[r][n].Type==VA.TCMNT&&(a=AC(s[r][n].Target,t),b=b.concat(function(e,t){var n=[],r=!1,a={},s=0;return e.replace(OC,(function(i,o){var l=jC(i);switch(LC(l[0])){case"<?xml":case"<ThreadedComments":case"</ThreadedComments>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<threadedComment":a={author:l.personId,guid:l.id,ref:l.ref,T:1};break;case"</threadedComment>":null!=a.t&&n.push(a);break;case"<text>":case"<text":s=o+i.length;break;case"</text>":a.t=e.slice(s,o).replace(/\r\n/g,"\n").replace(/\r/g,"\n");break;case"<mentions":case"<mentions>":case"<ext":r=!0;break;case"</mentions>":case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return i})),n}(TC(e,a,!0),l)))})),b&&b.length&&ZR(d,b,!0,l.people||[])}catch(Pm){if(l.WTF)throw Pm}var x}function zD(e){return"/"==e.charAt(0)?e.slice(1):e}function $D(e,t){if(G_(),UD(t=t||{}),wC(e,"META-INF/manifest.xml"))return vD(e,t);if(wC(e,"objectdata.xml"))return vD(e,t);if(wC(e,"Index/Document.iwa")){if("undefined"==typeof Uint8Array)throw new Error("NUMBERS file parsing requires Uint8Array support");if(e.FileIndex)return LD(e);var n=Q_.utils.cfb_new();return _C(e).forEach((function(t){CC(n,t,SC(e,t))})),LD(n)}if(!wC(e,"[Content_Types].xml")){if(wC(e,"index.xml.gz"))throw new Error("Unsupported NUMBERS 08 file");if(wC(e,"index.xml"))throw new Error("Unsupported NUMBERS 09 file");throw new Error("Unsupported ZIP file")}var r,a,s=_C(e),i=function(e){var t={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};if(!e||!e.match)return t;var n={};if((e.match(OC)||[]).forEach((function(e){var r=jC(e);switch(r[0].replace(DC,"<")){case"<?xml":break;case"<Types":t.xmlns=r["xmlns"+(r[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[r.Extension]=r.ContentType;break;case"<Override":void 0!==t[UA[r.ContentType]]&&t[UA[r.ContentType]].push(r.PartName)}})),t.xmlns!==cN)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=n,delete t.calcchains,t}(kC(e,"[Content_Types].xml")),o=!1;if(0===i.workbooks.length&&TC(e,a="xl/workbook.xml",!0)&&i.workbooks.push(a),0===i.workbooks.length){if(!TC(e,a="xl/workbook.bin",!0))throw new Error("Could not find workbook");i.workbooks.push(a),o=!0}"bin"==i.workbooks[0].slice(-3)&&(o=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(qP=[],i.sst)try{qP=IO(TC(e,zD(i.sst)),i.sst,t)}catch(Pm){if(t.WTF)throw Pm}t.cellStyles&&i.themes.length&&(l=function(e,t,n){return XR(e,n)}(kC(e,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],t)),i.style&&(c=AO(TC(e,zD(i.style)),i.style,l,t))}i.links.map((function(n){try{zA(kC(e,BA(zD(n))),n);return OO(TC(e,zD(n)),0,n,t)}catch(Pm){}}));var u=_O(TC(e,zD(i.workbooks[0])),i.workbooks[0],t),h={},d="";i.coreprops.length&&((d=TC(e,zD(i.coreprops[0]),!0))&&(h=WA(d)),0!==i.extprops.length&&(d=TC(e,zD(i.extprops[0]),!0))&&function(e,t,n){var r={};t||(t={}),e=YC(e),qA.forEach((function(n){var a=(e.match(JC(n[0]))||[])[1];switch(n[2]){case"string":a&&(t[n[1]]=VC(a));break;case"bool":t[n[1]]="true"===a;break;case"raw":var s=e.match(new RegExp("<"+n[0]+"[^>]*>([\\s\\S]*?)</"+n[0]+">"));s&&s.length>0&&(r[n[1]]=s[1])}})),r.HeadingPairs&&r.TitlesOfParts&&GA(r.HeadingPairs,r.TitlesOfParts,t,n)}(d,h,t));var f={};t.bookSheets&&!t.bookProps||0!==i.custprops.length&&(d=kC(e,zD(i.custprops[0]),!0))&&(f=function(e,t){var n={},r="",a=e.match(KA);if(a)for(var s=0;s!=a.length;++s){var i=a[s],o=jC(i);switch(o[0]){case"<?xml":case"<Properties":break;case"<property":r=VC(o.name);break;case"</property>":r=null;break;default:if(0===i.indexOf("<vt:")){var l=i.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":case"cy":case"error":n[r]=VC(u);break;case"bool":n[r]=WC(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(u,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(u);break;case"filetime":case"date":n[r]=hC(u);break;default:if("/"==c.slice(-1))break;t.WTF&&"undefined"!==typeof console&&console.warn("Unexpected",i,c,l)}}else if("</"===i.slice(0,2));else if(t.WTF)throw new Error(i)}}return n}(d,t));var p={};if((t.bookSheets||t.bookProps)&&(u.Sheets?r=u.Sheets.map((function(e){return e.name})):h.Worksheets&&h.SheetNames.length>0&&(r=h.SheetNames),t.bookProps&&(p.Props=h,p.Custprops=f),t.bookSheets&&"undefined"!==typeof r&&(p.SheetNames=r),t.bookSheets?p.SheetNames:t.bookProps))return p;r={};var m={};t.bookDeps&&i.calcchain&&(m=PO(TC(e,zD(i.calcchain)),i.calcchain));var g,v,y=0,b={},x=u.Sheets;h.Worksheets=x.length,h.SheetNames=[];for(var w=0;w!=x.length;++w)h.SheetNames[w]=x[w].name;var E=o?"bin":"xml",T=i.workbooks[0].lastIndexOf("/"),k=(i.workbooks[0].slice(0,T+1)+"_rels/"+i.workbooks[0].slice(T+1)+".rels").replace(/^\//,"");wC(e,k)||(k="xl/_rels/workbook."+E+".rels");var S=zA(kC(e,k,!0),k.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(t.xlmeta=DO(TC(e,zD(i.metadata[0])),i.metadata[0],t)),(i.people||[]).length>=1&&(t.people=function(e,t){var n=[],r=!1;return e.replace(OC,(function(e){var a=jC(e);switch(LC(a[0])){case"<?xml":case"<personList":case"</personList>":case"</person>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<person":n.push({name:a.displayname,id:a.id});break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return e})),n}(TC(e,zD(i.people[0])),t)),S&&(S=function(e,t){if(!e)return 0;try{e=t.map((function(t){return t.id||(t.id=t.strRelID),[t.name,e["!id"][t.id].Target,VD(e["!id"][t.id].Type)]}))}catch(Pm){return null}return e&&0!==e.length?e:null}(S,u.Sheets));var _=TC(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=h.Worksheets;++y){var C="sheet";if(S&&S[y]?(g="xl/"+S[y][1].replace(/[\/]?xl\//,""),wC(e,g)||(g=S[y][1]),wC(e,g)||(g=k.replace(/_rels\/.*$/,"")+S[y][1]),C=S[y][2]):g=(g="xl/worksheets/sheet"+(y+1-_)+"."+E).replace(/sheet0\./,"sheet."),v=g.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&null!=t.sheets)switch(typeof t.sheets){case"number":if(y!=t.sheets)continue e;break;case"string":if(h.SheetNames[y].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var N=!1,A=0;A!=t.sheets.length;++A)"number"==typeof t.sheets[A]&&t.sheets[A]==y&&(N=1),"string"==typeof t.sheets[A]&&t.sheets[A].toLowerCase()==h.SheetNames[y].toLowerCase()&&(N=1);if(!N)continue e}}BD(e,g,v,h.SheetNames[y],y,b,r,C,t,u,l,c)}return p={Directory:i,Workbook:u,Props:h,Custprops:f,Deps:m,Sheets:r,SheetNames:h.SheetNames,Strings:qP,Styles:c,Themes:l,SSF:fC(f_)},t&&t.bookFiles&&(e.files?(p.keys=s,p.files=e.files):(p.keys=[],p.files={},e.FullPaths.forEach((function(t,n){t=t.replace(/^Root Entry[\/]/,""),p.keys.push(t),p.files[t]=e.FileIndex[n]})))),t&&t.bookVBA&&(i.vba.length>0?p.vbaraw=TC(e,zD(i.vba[0]),!0):i.defaults&&"application/vnd.ms-office.vbaProject"===i.defaults.bin&&(p.vbaraw=TC(e,"xl/vbaProject.bin",!0))),p}function HD(e,t){var n=t||{},r="Workbook",a=Q_.find(e,r);try{if(r="/!DataSpaces/Version",!(a=Q_.find(e,r))||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(function(e){var t={};t.id=e.read_shift(0,"lpp4"),t.R=uR(e,4),t.U=uR(e,4),t.W=uR(e,4)}(a.content),r="/!DataSpaces/DataSpaceMap",!(a=Q_.find(e,r))||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=function(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(hR(e));return t}(a.content);if(1!==s.length||1!==s[0].comps.length||0!==s[0].comps[0].t||"StrongEncryptionDataSpace"!==s[0].name||"EncryptedPackage"!==s[0].comps[0].v)throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",!(a=Q_.find(e,r))||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);var i=function(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(e.read_shift(0,"lpp4"));return t}(a.content);if(1!=i.length||"StrongEncryptionTransform"!=i[0])throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",!(a=Q_.find(e,r))||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);dR(a.content)}catch(Pm){}if(r="/EncryptionInfo",!(a=Q_.find(e,r))||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=function(e){var t=uR(e);switch(t.Minor){case 2:return[t.Minor,mR(e)];case 3:return[t.Minor,gR()];case 4:return[t.Minor,vR(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}(a.content);if(r="/EncryptedPackage",!(a=Q_.find(e,r))||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(4==o[0]&&"undefined"!==typeof decrypt_agile)return decrypt_agile(o[1],a.content,n.password||"",n);if(2==o[0]&&"undefined"!==typeof decrypt_std76)return decrypt_std76(o[1],a.content,n.password||"",n);throw new Error("File is password-protected")}function WD(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=GS(e.slice(0,12));break;case"binary":n=e;break;default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function qD(e,t){var n=0;e:for(;n<e.length;)switch(e.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return qO(e.slice(n),t);default:break e}return JI.to_workbook(e,t)}function GD(e,t,n,r){return r?(n.type="string",JI.to_workbook(e,n)):JI.to_workbook(t,n)}function KD(e,t){FS();var n=t||{};if("undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer)return KD(new Uint8Array(e),((n=fC(n)).type="array",n));"undefined"!==typeof Uint8Array&&e instanceof Uint8Array&&!n.type&&(n.type="undefined"!==typeof Deno?"buffer":"array");var r,a=e,s=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),GP={},n.dateNF&&(GP.dateNF=n.dateNF),n.type||(n.type=KS&&Buffer.isBuffer(e)?"buffer":"base64"),"file"==n.type&&(n.type=KS?"buffer":"binary",a=function(e){if("undefined"!==typeof J_)return J_.readFileSync(e);if("undefined"!==typeof Deno)return Deno.readFileSync(e);if("undefined"!==typeof $&&"undefined"!==typeof File&&"undefined"!==typeof Folder)try{var t=File(e);t.open("r"),t.encoding="binary";var n=t.read();return t.close(),n}catch(Pm){if(!Pm.message||!Pm.message.match(/onstruct/))throw Pm}throw new Error("Cannot access file "+e)}(e),"undefined"===typeof Uint8Array||KS||(n.type="array")),"string"==n.type&&(s=!0,n.type="binary",n.codepage=65001,a=function(e){return e.match(/[^\x00-\x7F]/)?QC(e):e}(e)),"array"==n.type&&"undefined"!==typeof Uint8Array&&e instanceof Uint8Array&&"undefined"!==typeof ArrayBuffer){var i=new ArrayBuffer(3),o=new Uint8Array(i);if(o.foo="bar",!o.foo)return(n=fC(n)).type="array",KD(e_(a),n)}switch((r=WD(a,n))[0]){case 208:if(207===r[1]&&17===r[2]&&224===r[3]&&161===r[4]&&177===r[5]&&26===r[6]&&225===r[7])return function(e,t){return Q_.find(e,"EncryptedPackage")?HD(e,t):tD(e,t)}(Q_.read(a,n),n);break;case 9:if(r[1]<=8)return tD(a,n);break;case 60:return qO(a,n);case 73:if(73===r[1]&&42===r[2]&&0===r[3])throw new Error("TIFF Image File is not a spreadsheet");if(68===r[1])return function(e,t){var n=t||{},r=!!n.WTF;n.WTF=!0;try{var a=XI.to_workbook(e,n);return n.WTF=r,a}catch(Pm){if(n.WTF=r,!Pm.message.match(/SYLK bad record ID/)&&r)throw Pm;return JI.to_workbook(e,t)}}(a,n);break;case 84:if(65===r[1]&&66===r[2]&&76===r[3])return YI.to_workbook(a,n);break;case 80:return 75===r[1]&&r[2]<9&&r[3]<9?function(e,t){var n=e,r=t||{};return r.type||(r.type=KS&&Buffer.isBuffer(e)?"buffer":"base64"),$D(NC(n,r),r)}(a,n):GD(e,a,n,s);case 239:return 60===r[3]?qO(a,n):GD(e,a,n,s);case 255:if(254===r[1])return function(e,t){var n=e;return"base64"==t.type&&(n=GS(n)),n=BS.utils.decode(1200,n.slice(2),"str"),t.type="binary",qD(n,t)}(a,n);if(0===r[1]&&2===r[2]&&0===r[3])return ZI.to_workbook(a,n);break;case 0:if(0===r[1]){if(r[2]>=2&&0===r[3])return ZI.to_workbook(a,n);if(0===r[2]&&(8===r[3]||9===r[3]))return ZI.to_workbook(a,n)}break;case 3:case 131:case 139:case 140:return KI.to_workbook(a,n);case 123:if(92===r[1]&&114===r[2]&&116===r[3])return ER.to_workbook(a,n);break;case 10:case 13:case 32:return function(e,t){var n="",r=WD(e,t);switch(t.type){case"base64":n=GS(e);break;case"binary":n=e;break;case"buffer":n=e.toString("binary");break;case"array":n=dC(e);break;default:throw new Error("Unrecognized type "+t.type)}return 239==r[0]&&187==r[1]&&191==r[2]&&(n=YC(n)),t.type="binary",qD(n,t)}(a,n);case 137:if(80===r[1]&&78===r[2]&&71===r[3])throw new Error("PNG Image File is not a spreadsheet")}return GI.indexOf(r[0])>-1&&r[2]<=12&&r[3]<=31?KI.to_workbook(a,n):GD(e,a,n,s)}function XD(e,t,n,r,a,s,i,o){var l=tA(n),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),h=!0,d=1===a?[]:{};if(1!==a)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:n,enumerable:!1})}catch(Pm){d.__rowNum__=n}else d.__rowNum__=n;if(!i||e[n])for(var f=t.s.c;f<=t.e.c;++f){var p=i?e[n][f]:e[r[f]+l];if(void 0!==p&&void 0!==p.t){var m=p.v;switch(p.t){case"z":if(null==m)break;continue;case"e":m=0==m?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(null!=s[f]){if(null==m)if("e"==p.t&&null===m)d[s[f]]=null;else if(void 0!==c)d[s[f]]=c;else{if(!u||null!==m)continue;d[s[f]]=null}else d[s[f]]=u&&("n"!==p.t||"n"===p.t&&!1!==o.rawNumbers)?m:uA(p,m,o);null!=m&&(h=!1)}}else{if(void 0===c)continue;null!=s[f]&&(d[s[f]]=c)}}return{row:d,isempty:h}}function YD(e,t){if(null==e||null==e["!ref"])return[];var n={t:"n",v:0},r=0,a=1,s=[],i=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=null!=c.range?c.range:e["!ref"];switch(1===c.header?r=1:"A"===c.header?r=2:Array.isArray(c.header)?r=3:null==c.header&&(r=0),typeof u){case"string":l=lA(u);break;case"number":(l=lA(e["!ref"])).s.r=u;break;default:l=u}r>0&&(a=0);var h=tA(l.s.r),d=[],f=[],p=0,m=0,g=Array.isArray(e),v=l.s.r,y=0,b={};g&&!e[v]&&(e[v]=[]);var x=c.skipHidden&&e["!cols"]||[],w=c.skipHidden&&e["!rows"]||[];for(y=l.s.c;y<=l.e.c;++y)if(!(x[y]||{}).hidden)switch(d[y]=rA(y),n=g?e[v][y]:e[d[y]+h],r){case 1:s[y]=y-l.s.c;break;case 2:s[y]=d[y];break;case 3:s[y]=c.header[y-l.s.c];break;default:if(null==n&&(n={w:"__EMPTY",t:"s"}),o=i=uA(n,null,c),m=b[i]||0){do{o=i+"_"+m++}while(b[o]);b[i]=m,b[o]=1}else b[i]=1;s[y]=o}for(v=l.s.r+a;v<=l.e.r;++v)if(!(w[v]||{}).hidden){var E=XD(e,l,v,d,r,s,g,c);(!1===E.isempty||(1===r?!1!==c.blankrows:c.blankrows))&&(f[p++]=E.row)}return f.length=p,f}var QD=/"/g;function JD(e,t,n,r,a,s,i,o){for(var l=!0,c=[],u="",h=tA(n),d=t.s.c;d<=t.e.c;++d)if(r[d]){var f=o.dense?(e[n]||[])[d]:e[r[d]+h];if(null==f)u="";else if(null!=f.v){l=!1,u=""+(o.rawNumbers&&"n"==f.t?f.v:uA(f,null,o));for(var p=0,m=0;p!==u.length;++p)if((m=u.charCodeAt(p))===a||m===s||34===m||o.forceQuotes){u='"'+u.replace(QD,'""')+'"';break}"ID"==u&&(u='"ID"')}else null==f.f||f.F?u="":(l=!1,(u="="+f.f).indexOf(",")>=0&&(u='"'+u.replace(QD,'""')+'"'));c.push(u)}return!1===o.blankrows&&l?null:c.join(i)}function ZD(e,t){var n=[],r=null==t?{}:t;if(null==e||null==e["!ref"])return"";var a=lA(e["!ref"]),s=void 0!==r.FS?r.FS:",",i=s.charCodeAt(0),o=void 0!==r.RS?r.RS:"\n",l=o.charCodeAt(0),c=new RegExp(("|"==s?"\\|":s)+"+$"),u="",h=[];r.dense=Array.isArray(e);for(var d=r.skipHidden&&e["!cols"]||[],f=r.skipHidden&&e["!rows"]||[],p=a.s.c;p<=a.e.c;++p)(d[p]||{}).hidden||(h[p]=rA(p));for(var m=0,g=a.s.r;g<=a.e.r;++g)(f[g]||{}).hidden||null!=(u=JD(e,a,g,h,i,l,s,r))&&(r.strip&&(u=u.replace(c,"")),(u||!1!==r.blankrows)&&n.push((m++?o:"")+u));return delete r.dense,n.join("")}function eM(e,t){t||(t={}),t.FS="\t",t.RS="\n";var n=ZD(e,t);if("undefined"==typeof BS||"string"==t.type)return n;var r=BS.utils.encode(1200,n,"str");return String.fromCharCode(255)+String.fromCharCode(254)+r}function tM(e,t,n){var r,a=n||{},s=+!a.skipHeader,i=e||{},o=0,l=0;if(i&&null!=a.origin)if("number"==typeof a.origin)o=a.origin;else{var c="string"==typeof a.origin?aA(a.origin):a.origin;o=c.r,l=c.c}var u={s:{c:0,r:0},e:{c:l,r:o+t.length-1+s}};if(i["!ref"]){var h=lA(i["!ref"]);u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),-1==o&&(o=h.e.r+1,u.e.r=o+t.length-1+s)}else-1==o&&(o=0,u.e.r=t.length-1+s);var d=a.header||[],f=0;t.forEach((function(e,t){Z_(e).forEach((function(n){-1==(f=d.indexOf(n))&&(d[f=d.length]=n);var c=e[n],u="z",h="",p=sA({c:l+f,r:o+t+s});r=nM(i,p),!c||"object"!==typeof c||c instanceof Date?("number"==typeof c?u="n":"boolean"==typeof c?u="b":"string"==typeof c?u="s":c instanceof Date?(u="d",a.cellDates||(u="n",c=nC(c)),h=a.dateNF||f_[14]):null===c&&a.nullError&&(u="e",c=0),r?(r.t=u,r.v=c,delete r.w,delete r.R,h&&(r.z=h)):i[p]=r={t:u,v:c},h&&(r.z=h)):i[p]=c}))})),u.e.c=Math.max(u.e.c,l+d.length-1);var p=tA(o);if(s)for(f=0;f<d.length;++f)i[rA(f+l)+p]={t:"s",v:d[f]};return i["!ref"]=oA(u),i}function nM(e,t,n){if("string"==typeof t){if(Array.isArray(e)){var r=aA(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return nM(e,sA("number"!=typeof t?t:{r:t,c:n||0}))}function rM(){return{SheetNames:[],Sheets:{}}}function aM(e,t,n,r){var a=1;if(!n)for(;a<=65535&&-1!=e.SheetNames.indexOf(n="Sheet"+a);++a,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var i=s&&s[1]||n;for(++a;a<=65535&&-1!=e.SheetNames.indexOf(n=i+a);++a);}if(TO(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function sM(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}var iM={encode_col:rA,encode_row:tA,encode_cell:sA,encode_range:oA,decode_col:nA,decode_row:eA,split_cell:function(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:aA,decode_range:iA,format_cell:uA,sheet_add_aoa:dA,sheet_add_json:tM,sheet_add_dom:hD,aoa_to_sheet:fA,json_to_sheet:function(e,t){return tM(null,e,t)},table_to_sheet:dD,table_to_book:function(e,t){return hA(dD(e,t),t)},sheet_to_csv:ZD,sheet_to_txt:eM,sheet_to_json:YD,sheet_to_html:uD,sheet_to_formulae:function(e){var t,n="",r="";if(null==e||null==e["!ref"])return[];var a,s=lA(e["!ref"]),i="",o=[],l=[],c=Array.isArray(e);for(a=s.s.c;a<=s.e.c;++a)o[a]=rA(a);for(var u=s.s.r;u<=s.e.r;++u)for(i=tA(u),a=s.s.c;a<=s.e.c;++a)if(n=o[a]+i,r="",void 0!==(t=c?(e[u]||[])[a]:e[n])){if(null!=t.F){if(n=t.F,!t.f)continue;r=t.f,-1==n.indexOf(":")&&(n=n+":"+n)}if(null!=t.f)r=t.f;else{if("z"==t.t)continue;if("n"==t.t&&null!=t.v)r=""+t.v;else if("b"==t.t)r=t.v?"TRUE":"FALSE";else if(void 0!==t.w)r="'"+t.w;else{if(void 0===t.v)continue;r="s"==t.t?"'"+t.v:""+t.v}}l[l.length]=n+"="+r}return l},sheet_to_row_object_array:YD,sheet_get_cell:nM,book_new:rM,book_append_sheet:aM,book_set_sheet_visibility:function(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=function(e,t){if("number"==typeof t){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}if("string"==typeof t){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}throw new Error("Cannot find sheet |"+t+"|")}(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n},cell_set_number_format:function(e,t){return e.z=t,e},cell_set_hyperlink:sM,cell_set_internal_link:function(e,t,n){return sM(e,"#"+t,n)},cell_add_comment:function(e,t,n){e.c||(e.c=[]),e.c.push({t:t,a:n||"SheetJS"})},sheet_set_array_formula:function(e,t,n,r){for(var a="string"!=typeof t?t:lA(t),s="string"==typeof t?t:oA(t),i=a.s.r;i<=a.e.r;++i)for(var o=a.s.c;o<=a.e.c;++o){var l=nM(e,i,o);l.t="n",l.F=s,delete l.v,i==a.s.r&&o==a.s.c&&(l.f=n,r&&(l.D=!0))}return e},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};RS.version;function oM(){const[e,t]=(0,r.useState)(""),[n,a]=(0,r.useState)(null),s=async e=>{try{const t=e.replace(/[^0-9]/g,""),n=await fetch(`https://viacep.com.br/ws/${t}/json/`);if(!n.ok)throw new Error("Erro ao consultar ViaCEP");const r=await n.json();if(r.erro)throw new Error("CEP n\xe3o encontrado");return r}catch(t){return console.error("Erro ViaCEP:",t),null}};return(0,dm.jsxs)("div",{className:"bg-white rounded-xl shadow p-6 max-w-xl mx-auto mt-10",children:[(0,dm.jsx)("h2",{className:"text-2xl font-bold text-pink-700 mb-4",children:"\ud83d\udce5 Importar Onboardings"}),(0,dm.jsx)("input",{type:"file",accept:".xlsx",onChange:async e=>{const n=e.target.files[0];if(!n)return;t(n.name);const r=KD(await n.arrayBuffer());for(const t of r.SheetNames){const e=hp(kf(hm,"onboardings"),fp("data","==",t));if(!(await Np(e)).empty)return void a({tipo:"erro",texto:`J\xe1 existem dados para a data ${t}`});const n=r.Sheets[t],u=iM.sheet_to_json(n);for(const r of u){var i,o,l,c;const e=r["ENDERE\xc7O"]||"",n=e.match(/CEP[:\s-]*(\d{5}-?\d{3})/i),a=n?n[1].replace(/[^0-9]/g,""):"";let u=null;8===a.length&&(u=await s(a));const[h]=e.split("- CEP"),d=h.split(/,\s*(.+)/),f=d[0]||"",p=d[1]||"";await Pp(kf(hm,"onboardings"),{data:t,nome:r.NOME||"",cpf:r.CPF||"",cargo:r.CARGO||"",gestor:r.GESTOR||"",email:r.EMAIL||"",telefone:r.TELEFONE||"",rua:f.trim(),numero:p.trim(),complemento:"",bairro:(null===(i=u)||void 0===i?void 0:i.bairro)||"",cidade:(null===(o=u)||void 0===o?void 0:o.localidade)||"",estado:(null===(l=u)||void 0===l?void 0:l.uf)||"",cep:(null===(c=u)||void 0===c?void 0:c.cep)||a,equipamento:r.EQUIPAMENTO||"",status:r.ENTREGA||"",serial:r["Serial "]||"",createdAt:new Date})}a({tipo:"sucesso",texto:"\u2705 Dados importados com sucesso!"})}}}),e&&(0,dm.jsx)("p",{className:"mt-2",children:e}),n&&(0,dm.jsx)("p",{className:"mt-4 font-semibold "+("sucesso"===n.tipo?"text-green-600":"text-red-600"),children:n.texto})]})}const lM=bm("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);function cM(e){let{open:t,onClose:n,editTask:a,usuario:s}=e;const[i,o]=(0,r.useState)((null===a||void 0===a?void 0:a.atividade)||""),[l,c]=(0,r.useState)((null===a||void 0===a?void 0:a.responsavel)||(null===s||void 0===s?void 0:s.email)||""),[u,h]=(0,r.useState)((null===a||void 0===a?void 0:a.prioridade)||"M\xe9dia"),[d,f]=(0,r.useState)((null===a||void 0===a?void 0:a.data)||""),[p,m]=(0,r.useState)(!1);return t?(0,dm.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:(0,dm.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md p-8 relative",children:[(0,dm.jsx)("button",{onClick:n,className:"absolute top-4 right-4 text-gray-400 hover:text-pink-600 text-xl",children:"\xd7"}),(0,dm.jsx)("h2",{className:"text-2xl font-bold text-pink-700 mb-6",children:a?"Editar Atividade":"Nova Atividade"}),(0,dm.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),m(!0);const t={atividade:i,responsavel:l,prioridade:u,data:d,status:"pendente",criadoEm:(new Date).toISOString()};try{a?await Ip(Sf(hm,"weekly-tasks",a.id),t):await Pp(kf(hm,"weekly-tasks"),t),n()}catch(r){alert("Erro ao salvar atividade")}finally{m(!1)}},className:"space-y-5",children:[(0,dm.jsxs)("div",{children:[(0,dm.jsx)("label",{className:"block mb-1 font-semibold",children:"Atividade"}),(0,dm.jsx)("textarea",{className:"w-full border rounded px-3 py-3 min-h-[80px] text-base",value:i,onChange:e=>o(e.target.value),required:!0,style:{resize:"vertical"},placeholder:"Descreva a atividade..."})]}),(0,dm.jsxs)("div",{className:"flex gap-4",children:[(0,dm.jsxs)("div",{className:"flex-1",children:[(0,dm.jsx)("label",{className:"block mb-1 font-semibold",children:"Respons\xe1vel"}),(0,dm.jsx)("input",{className:"w-full border rounded px-3 py-2",value:l,onChange:e=>c(e.target.value),required:!0,disabled:!!a})]}),(0,dm.jsxs)("div",{className:"flex-1",children:[(0,dm.jsx)("label",{className:"block mb-1 font-semibold",children:"Prioridade"}),(0,dm.jsxs)("select",{className:"w-full border rounded px-3 py-2",value:u,onChange:e=>h(e.target.value),required:!0,children:[(0,dm.jsx)("option",{value:"Baixa",children:"Baixa"}),(0,dm.jsx)("option",{value:"M\xe9dia",children:"M\xe9dia"}),(0,dm.jsx)("option",{value:"Alta",children:"Alta"})]})]})]}),(0,dm.jsxs)("div",{children:[(0,dm.jsx)("label",{className:"block mb-1 font-semibold",children:"Data"}),(0,dm.jsx)("input",{type:"date",className:"w-full border rounded px-3 py-2",value:d,onChange:e=>f(e.target.value),required:!0})]}),(0,dm.jsx)("button",{type:"submit",disabled:p,className:"w-full py-3 rounded-lg text-white font-bold mt-2 transition "+(p?"bg-gray-400 cursor-not-allowed":"bg-pink-600 hover:bg-pink-700"),children:p?"Salvando...":a?"Salvar Altera\xe7\xf5es":"Adicionar Atividade"})]})]})}):null}function uM(){const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)([]),[s,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(!0),{usuario:h}=Xk(),[d,f]=(0,r.useState)("ativas");(0,r.useEffect)((()=>{const e=Op(kf(hm,"weekly-tasks"),(e=>{const n=e.docs.map((e=>({id:e.id,...e.data()})));t(n.filter((e=>"concluida"!==e.status))),a(n.filter((e=>"concluida"===e.status))),u(!1)}));return()=>e()}),[]);const p="ativas"===d?e:n;return(0,dm.jsxs)("div",{className:"max-w-7xl mx-auto p-6 space-y-4",children:[(0,dm.jsxs)("header",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,dm.jsxs)("div",{className:"flex items-center gap-3 text-[var(--text)] text-3xl font-bold",children:[(0,dm.jsx)("span",{className:"text-[var(--accent)] drop-shadow",children:"Weekly Tasks"}),(0,dm.jsx)(fS,{className:"w-8 h-8 text-pink-400"})]}),(0,dm.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,dm.jsxs)("div",{className:"inline-flex rounded-xl border border-[var(--line)] bg-[var(--bg-card)] p-1",children:[(0,dm.jsx)("button",{onClick:()=>f("ativas"),className:["px-3 py-1.5 rounded-lg text-sm font-medium transition","ativas"===d?"bg-[var(--accent)]/20 text-[var(--accent)]":"text-[var(--text-muted)] hover:text-[var(--text)]"].join(" "),children:"Ativas"}),(0,dm.jsx)("button",{onClick:()=>f("finalizadas"),className:["px-3 py-1.5 rounded-lg text-sm font-medium transition","finalizadas"===d?"bg-[var(--accent)]/20 text-[var(--accent)]":"text-[var(--text-muted)] hover:text-[var(--text)]"].join(" "),children:"Finalizadas"})]}),(0,dm.jsxs)("button",{onClick:()=>{l(null),i(!0)},className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl border border-[var(--accent)]/60 bg-[var(--accent)]/10 text-[var(--accent)] font-semibold hover:bg-[var(--accent)]/20 transition",children:[(0,dm.jsx)($k,{className:"w-5 h-5"}),"Nova Atividade"]})]})]}),(0,dm.jsxs)("div",{className:"rounded-2xl border border-[var(--line)] bg-[var(--bg-card)] shadow-lg p-4",children:[(0,dm.jsxs)("div",{className:"grid grid-cols-12 gap-4 font-semibold text-[var(--text-muted)] text-xs uppercase tracking-wide mb-2",children:[(0,dm.jsx)("div",{className:"col-span-4",children:"Atividade"}),(0,dm.jsx)("div",{className:"col-span-2",children:"Respons\xe1vel"}),(0,dm.jsx)("div",{className:"col-span-2",children:"Prioridade"}),(0,dm.jsx)("div",{className:"col-span-2",children:"Data"}),(0,dm.jsx)("div",{className:"col-span-2 text-center",children:"finalizadas"===d?"Status":"A\xe7\xf5es"})]}),c?(0,dm.jsx)("div",{className:"text-center py-10 text-[var(--text-muted)]",children:"Carregando..."}):0===p.length?(0,dm.jsx)("div",{className:"text-center py-10 text-[var(--text-muted)]",children:"finalizadas"===d?"Nenhuma atividade finalizada.":"Nenhuma atividade em andamento."}):p.map((e=>(0,dm.jsxs)("div",{className:"grid grid-cols-12 gap-4 items-center border-t border-[var(--line)] py-3 last:border-b-0 hover:bg-[var(--rowHover)] transition",children:[(0,dm.jsx)("div",{className:"col-span-4 text-sm whitespace-pre-line text-[var(--text)]",children:e.atividade}),(0,dm.jsx)("div",{className:"col-span-2 text-[var(--text-muted)]",children:e.responsavel||"\u2014"}),(0,dm.jsx)("div",{className:"col-span-2",children:(0,dm.jsx)("span",{className:["px-2 py-1 rounded text-xs font-bold inline-flex items-center gap-1","Alta"===e.prioridade?"bg-rose-500/15 text-rose-300":"M\xe9dia"===e.prioridade?"bg-amber-500/15 text-amber-300":"bg-emerald-500/15 text-emerald-300"].join(" "),children:e.prioridade})}),(0,dm.jsx)("div",{className:"col-span-2 text-[var(--text)]",children:e.data||"\u2014"}),(0,dm.jsx)("div",{className:"col-span-2 flex justify-center gap-2",children:"finalizadas"===d?(0,dm.jsxs)("span",{className:"inline-flex items-center gap-2 px-2 py-1 rounded-full text-xs font-semibold bg-emerald-500/15 text-emerald-300",children:[(0,dm.jsx)(Ag,{className:"w-4 h-4"}),"Conclu\xedda"]}):(0,dm.jsxs)(dm.Fragment,{children:[(0,dm.jsx)("button",{onClick:()=>(e=>{l(e),i(!0)})(e),className:"p-2 rounded-lg border border-[var(--line)] text-[var(--text)] hover:bg-white/5 transition",children:(0,dm.jsx)(lM,{className:"w-4 h-4 text-[var(--accent)]"})}),(0,dm.jsx)("button",{onClick:()=>(async e=>{window.confirm("Tem certeza que deseja excluir esta atividade?")&&(await Rp(Sf(hm,"weekly-tasks",e)),Rg({type:"info",message:"Atividade removida."}))})(e.id),className:"p-2 rounded-lg border border-rose-500/40 text-rose-300 hover:bg-rose-500/15 transition",children:(0,dm.jsx)(Im,{className:"w-4 h-4"})}),(0,dm.jsx)("button",{onClick:()=>(async e=>{await Ip(Sf(hm,"weekly-tasks",e.id),{status:"concluida"}),Rg({type:"success",message:"Atividade marcada como conclu\xedda."})})(e),className:"p-2 rounded-lg border border-emerald-500/40 text-emerald-300 hover:bg-emerald-500/15 transition",children:(0,dm.jsx)(Ag,{className:"w-4 h-4"})})]})})]},e.id)))]}),s&&(0,dm.jsx)(cM,{open:s,onClose:()=>i(!1),editTask:o,usuario:h})]})}const hM=[{nome:"S\xe3o Paulo",path:"/equipment-movement/sp",subtitle:"Movimenta\xe7\xf5es de equipamentos"},{nome:"Rio de Janeiro",path:"/equipment-movement/rio",subtitle:"Movimenta\xe7\xf5es de equipamentos"},{nome:"Jo\xe3o Pessoa",path:"/equipment-movement/jp",subtitle:"Movimenta\xe7\xf5es de equipamentos"}];function dM(){return(0,dm.jsxs)("div",{className:"max-w-6xl mx-auto p-6",children:[(0,dm.jsxs)("div",{className:"flex items-center justify-center gap-2 text-[var(--text)] text-3xl font-bold mb-8",children:[(0,dm.jsx)("span",{className:"text-[var(--accent)] drop-shadow",children:"Equipment Movement"}),(0,dm.jsx)(Bk,{className:"w-8 h-8 text-pink-400"})]}),(0,dm.jsx)("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:hM.map(((e,t)=>(0,dm.jsxs)(Ok.div,{initial:{opacity:0,y:14},animate:{opacity:1,y:0},transition:{delay:.08*t},whileHover:{scale:1.02},className:"group relative rounded-2xl border border-[var(--line)] bg-[var(--bg-card)] hover:border-[var(--accent)] transition-all duration-200 shadow-xl",children:[(0,dm.jsx)("span",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 transition shadow-[0_0_24px_0_rgba(225,29,116,0.25),0_0_60px_0_rgba(225,29,116,0.18)]"}),(0,dm.jsxs)(tt,{to:e.path,className:"relative flex items-center gap-4 p-6",children:[(0,dm.jsx)("div",{className:"bg-pink-100/10 ring-1 ring-pink-500/30 text-pink-300 p-3 rounded-full group-hover:ring-pink-500/60 transition",children:(0,dm.jsx)(Bk,{className:"w-6 h-6"})}),(0,dm.jsxs)("div",{className:"min-w-0",children:[(0,dm.jsx)("h3",{className:"text-xl font-semibold text-[var(--text)]",children:e.nome}),(0,dm.jsx)("p",{className:"text-sm text-[var(--text-muted)]",children:e.subtitle})]}),(0,dm.jsx)("div",{className:"ml-auto w-2 h-2 rounded-full bg-pink-400/70 group-hover:bg-pink-400"})]})]},e.nome)))})]})}const fM=bm("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);function pM(){const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(!0),s=te();return(0,r.useEffect)((()=>{const e=Op(hp(kf(hm,"weekly-tasks"),fp("status","==","concluida")),(e=>{t(e.docs.map((e=>({id:e.id,...e.data()})))),a(!1)}));return()=>e()}),[]),(0,dm.jsxs)("div",{className:"max-w-6xl mx-auto p-6",children:[(0,dm.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,dm.jsxs)("div",{className:"flex items-center gap-2 text-pink-700 text-3xl font-bold",children:[(0,dm.jsx)("span",{children:"Atividades Finalizadas"}),(0,dm.jsx)(fS,{className:"w-8 h-8"})]}),(0,dm.jsxs)("button",{onClick:()=>s("/weekly-tasks"),className:"px-4 py-2 rounded-lg bg-pink-100 text-pink-700 font-semibold hover:bg-pink-200 flex items-center gap-2",children:[(0,dm.jsx)(fM,{className:"w-5 h-5"})," Voltar"]})]}),(0,dm.jsxs)("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 p-4",children:[(0,dm.jsxs)("div",{className:"grid grid-cols-12 gap-4 font-semibold text-gray-700 mb-2",children:[(0,dm.jsx)("div",{className:"col-span-4",children:"Atividade"}),(0,dm.jsx)("div",{className:"col-span-2",children:"Respons\xe1vel"}),(0,dm.jsx)("div",{className:"col-span-2",children:"Prioridade"}),(0,dm.jsx)("div",{className:"col-span-2",children:"Data"}),(0,dm.jsx)("div",{className:"col-span-2 text-center",children:"Status"})]}),n?(0,dm.jsx)("div",{className:"text-center py-8 text-gray-400",children:"Carregando..."}):0===e.length?(0,dm.jsx)("div",{className:"text-center py-8 text-gray-400",children:"Nenhuma atividade finalizada."}):e.map((e=>(0,dm.jsxs)("div",{className:"grid grid-cols-12 gap-4 items-center border-b py-3 last:border-b-0 group hover:bg-pink-50 transition",children:[(0,dm.jsx)("div",{className:"col-span-4 text-base whitespace-pre-line",children:e.atividade}),(0,dm.jsx)("div",{className:"col-span-2",children:e.responsavel}),(0,dm.jsx)("div",{className:"col-span-2",children:(0,dm.jsx)("span",{className:"px-2 py-1 rounded text-xs font-bold "+("Alta"===e.prioridade?"bg-red-100 text-red-700":"M\xe9dia"===e.prioridade?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"),children:e.prioridade})}),(0,dm.jsx)("div",{className:"col-span-2",children:e.data}),(0,dm.jsx)("div",{className:"col-span-2 text-center",children:(0,dm.jsx)("span",{className:"px-2 py-1 rounded bg-green-100 text-green-700 text-xs font-bold",children:"Conclu\xedda"})})]},e.id)))]})]})}const mM=bm("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),gM=bm("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),vM=bm("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),yM=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{if(!e)return"\u2014";if("function"===typeof(null===e||void 0===e?void 0:e.toDate))return t?e.toDate().toLocaleString("pt-BR"):e.toDate().toLocaleDateString("pt-BR");const n=new Date(e);return Number.isNaN(n.getTime())?String(e):t?n.toLocaleString("pt-BR"):n.toLocaleDateString("pt-BR")}catch{return String(null!==e&&void 0!==e?e:"\u2014")}};function bM(e){let{open:t,onClose:n,numeroSerie:a}=e;const[s,i]=(0,r.useState)([]),[o,l]=(0,r.useState)(!0);(0,r.useEffect)((()=>{if(!t)return;if(!a)return i([]),void l(!1);const e=Op(hp(kf(hm,"equipment-movements"),fp("numeroSerie","==",a),gp("criadoEm","desc")),(e=>{i(e.docs.map((e=>({id:e.id,...e.data()})))),l(!1)}),(()=>l(!1)));return()=>e()}),[t,a]);const c=(0,r.useMemo)((()=>{const e=[],t=(t,n)=>{if(!t)return;const r=t.registradoEm||t.criadoEm||(null===n||void 0===n?void 0:n.criadoEm),s={...t};delete s.historico,e.push({...s,numeroSerie:s.numeroSerie||(null===n||void 0===n?void 0:n.numeroSerie)||a,registradoEm:r,_originId:null===n||void 0===n?void 0:n.id})};s.forEach((e=>{const n=Array.isArray(e.historico)?e.historico:[];n.length?n.forEach((n=>t(n,e))):t({data:e.data,tipo:e.tipo,modelo:e.modelo,numeroSerie:e.numeroSerie,responsavel:e.responsavel,local:e.local,obs:e.obs,status:e.status,disponibilidade:e.disponibilidade,email:e.email,registradoEm:e.criadoEm},e)}));const n=e=>"function"===typeof(null===e||void 0===e?void 0:e.toMillis)?e.toMillis():"function"===typeof(null===e||void 0===e?void 0:e.toDate)?e.toDate().getTime():e?new Date(e).getTime():0;return e.sort(((e,t)=>n(t.registradoEm)-n(e.registradoEm)))}),[s,a]);return t?(0,dm.jsx)(Kg,{children:(0,dm.jsx)(Ok.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[120] p-4",children:(0,dm.jsxs)(Ok.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},transition:{type:"spring",stiffness:280,damping:26},className:"modal-card w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[(0,dm.jsxs)("div",{className:"modal-head px-6 py-4 flex items-center justify-between",children:[(0,dm.jsxs)("div",{className:"min-w-0",children:[(0,dm.jsx)("h2",{className:"text-xl font-semibold text-[var(--text)]",children:"Hist\xf3rico de Movimenta\xe7\xf5es"}),(0,dm.jsxs)("p",{className:"text-xs text-[var(--text-muted)] mt-1 flex items-center gap-2",children:[(0,dm.jsx)(Em,{className:"w-4 h-4"}),"N\xba de S\xe9rie:"," ",(0,dm.jsx)("span",{className:"font-mono text-[var(--accent)]",children:a})]})]}),(0,dm.jsx)("button",{onClick:n,className:"p-2 rounded-lg border border-[var(--line)] hover:bg-white/5 transition text-[var(--text)]","aria-label":"Fechar",children:(0,dm.jsx)(Tm,{className:"w-5 h-5"})})]}),(0,dm.jsx)("div",{className:"px-6 py-5 space-y-5 bg-[var(--bg-soft)] max-h-[calc(90vh-120px)] overflow-y-auto",children:o?(0,dm.jsx)("div",{className:"flex justify-center py-12",children:(0,dm.jsx)(qk,{className:"w-8 h-8 text-[var(--accent)] animate-spin"})}):0===c.length?(0,dm.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-[var(--text-muted)] gap-3",children:[(0,dm.jsx)(dS,{className:"w-12 h-12 text-[var(--text-muted)]/60"}),(0,dm.jsx)("p",{children:"Nenhuma movimenta\xe7\xe3o encontrada para este n\xfamero de s\xe9rie."})]}):(0,dm.jsxs)("div",{className:"relative pl-6",children:[(0,dm.jsx)("span",{className:"absolute left-1 top-3 bottom-3 w-px bg-[var(--accent)]/30"}),(0,dm.jsx)("div",{className:"space-y-4",children:c.map(((e,t)=>{const n="Entrada"===e.tipo,r=(e.disponibilidade||"").toLowerCase().includes("dispon");return(0,dm.jsxs)(Ok.div,{initial:{opacity:0,x:-16},animate:{opacity:1,x:0},transition:{delay:.05*t},className:"relative flex gap-4",children:[(0,dm.jsx)("div",{className:["mt-1 flex-shrink-0 w-10 h-10 rounded-full border flex items-center justify-center",n?"bg-emerald-500/15 border-emerald-500/40 text-emerald-300":"bg-rose-500/15 border-rose-500/40 text-rose-300"].join(" "),children:n?(0,dm.jsx)(mM,{className:"w-5 h-5"}):(0,dm.jsx)(gM,{className:"w-5 h-5"})}),(0,dm.jsxs)("div",{className:"flex-1 rounded-2xl border border-[var(--line)] bg-[var(--bg-card)] p-4 space-y-3",children:[(0,dm.jsxs)("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[(0,dm.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,dm.jsx)("span",{className:["px-3 py-1 rounded-full text-xs font-semibold",n?"bg-emerald-500/15 text-emerald-300":"bg-rose-500/15 text-rose-300"].join(" "),children:e.tipo||"Movimenta\xe7\xe3o"}),(0,dm.jsx)("span",{className:["px-3 py-1 rounded-full text-xs font-semibold","Finalizado"===e.status?"bg-emerald-500/15 text-emerald-300":"bg-amber-500/15 text-amber-300"].join(" "),children:e.status||"Pendente"}),(0,dm.jsx)("span",{className:["px-3 py-1 rounded-full text-xs font-semibold",r?"bg-emerald-500/15 text-emerald-300":"bg-rose-500/15 text-rose-300"].join(" "),children:e.disponibilidade||"\u2014"})]}),(0,dm.jsxs)("div",{className:"flex items-center gap-2 text-xs text-[var(--text-muted)]",children:[(0,dm.jsx)(xS,{className:"w-4 h-4"}),yM(e.data||e.criadoEm,!1),(0,dm.jsxs)("span",{className:"text-[var(--text-muted)]/70",children:["\u2022 ",yM(e.registradoEm||e.criadoEm,!0)]})]})]}),(0,dm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm text-[var(--text)]",children:[(0,dm.jsxs)("div",{className:"space-y-2",children:[(0,dm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dm.jsx)("strong",{className:"text-xs text-[var(--text-muted)] uppercase tracking-wide",children:"Modelo"}),(0,dm.jsx)("span",{children:e.modelo||"\u2014"})]}),(0,dm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dm.jsx)(vM,{className:"w-4 h-4 text-[var(--text-muted)]"}),(0,dm.jsx)("span",{children:e.local||"\u2014"})]})]}),(0,dm.jsxs)("div",{className:"space-y-2",children:[(0,dm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dm.jsx)(oS,{className:"w-4 h-4 text-[var(--text-muted)]"}),(0,dm.jsx)("span",{children:e.responsavel||"\u2014"})]}),e.email&&(0,dm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dm.jsx)(km,{className:"w-4 h-4 text-[var(--text-muted)]"}),(0,dm.jsx)("span",{children:e.email})]}),e.usuario&&(0,dm.jsxs)("div",{className:"flex items-center gap-2 text-xs text-[var(--text-muted)]",children:[(0,dm.jsx)("span",{children:"registrado por"}),(0,dm.jsx)("span",{className:"text-[var(--text)]",children:e.usuario})]})]})]}),e.obs&&(0,dm.jsxs)("div",{className:"rounded-xl border border-[var(--line)] bg-[var(--bg-soft)] px-3 py-2 text-xs text-[var(--text)] flex items-start gap-2",children:[(0,dm.jsx)(dS,{className:"w-4 h-4 text-[var(--accent)] mt-0.5 flex-shrink-0"}),(0,dm.jsxs)("div",{children:[(0,dm.jsx)("span",{className:"font-semibold uppercase tracking-wide text-[var(--text-muted)]",children:"Observa\xe7\xe3o"}),(0,dm.jsx)("p",{className:"mt-1 leading-relaxed",children:e.obs})]})]})]})]},(e._originId||e.id||t)+t)}))})]})}),(0,dm.jsxs)("div",{className:"px-6 py-4 border-t border-[var(--line)] bg-[var(--bg-card)] flex items-center justify-between",children:[(0,dm.jsxs)("span",{className:"text-xs text-[var(--text-muted)]",children:["Total de registros: ",c.length]}),(0,dm.jsx)("button",{onClick:n,className:"px-4 py-2 rounded-lg border border-[var(--line)] text-[var(--text)] hover:bg-white/5 transition",children:"Fechar"})]})]})})}):null}const xM=bm("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),wM=["S\xe3o Paulo","Rio de Janeiro","Jo\xe3o Pessoa","Outros"],EM={sp:"S\xe3o Paulo",rio:"Rio de Janeiro",jp:"Jo\xe3o Pessoa",ou:"Outros"};const TM=e=>{try{if(!e)return"\u2014";if("function"===typeof(null===e||void 0===e?void 0:e.toDate))return e.toDate().toLocaleDateString("pt-BR");const t=String(e),n=t.includes("T")?new Date(t):new Date(`${t}T00:00:00`);return Number.isNaN(n.getTime())?t:n.toLocaleDateString("pt-BR")}catch{return String(null!==e&&void 0!==e?e:"\u2014")}},kM=e=>{try{if(!e)return"\u2014";if("function"===typeof(null===e||void 0===e?void 0:e.toDate))return e.toDate().toLocaleString("pt-BR");const t=new Date(e);return Number.isNaN(t.getTime())?String(null!==e&&void 0!==e?e:"\u2014"):t.toLocaleString("pt-BR")}catch{return String(null!==e&&void 0!==e?e:"\u2014")}},SM=e=>`"${String(null!==e&&void 0!==e?e:"").replace(/"/g,'""')}"`;function _M(e){var t;let{office:n}=e;const a=function(e){const t=J();if(e)return e;const n=new URLSearchParams(t.search).get("office");if(n&&wM.includes(n))return n;const[,r,a]=t.pathname.split("/");return"equipment-movement"===r&&a&&EM[a]?EM[a]:null}(n),{usuario:s}=Xk(),i=Qk(),o=null!==(t=null===i||void 0===i?void 0:i.collapsed)&&void 0!==t&&t?"max-w-[calc(100vw-8rem)]":"max-w-[calc(100vw-22rem)]",[l,c]=(0,r.useState)([]),[u,h]=(0,r.useState)(!0),[d,f]=(0,r.useState)(""),[p,m]=(0,r.useState)(!1),[g,v]=(0,r.useState)(null),[y,b]=(0,r.useState)(null);(0,r.useEffect)((()=>{if(!a)return c([]),void h(!1);const e=hp(kf(hm,"equipment-movements"),fp("local","==",a));h(!0);const t=Op(e,(e=>{const t=e.docs.map((e=>({id:e.id,...e.data()}))).sort(((e,t)=>{const n=e=>{const t="function"===typeof(null===e||void 0===e?void 0:e.toMillis)?e.toMillis():"function"===typeof(null===e||void 0===e?void 0:e.toDate)?e.toDate().getTime():e instanceof Date?e.getTime():e?new Date(e).getTime():0;return Number.isFinite(t)?t:0};return n(t.criadoEm)-n(e.criadoEm)}));c(t),h(!1)}),(e=>{console.error("Erro ao carregar movimenta\xe7\xf5es:",e),c([]),h(!1)}));return()=>t()}),[a]);const x=(0,r.useMemo)((()=>{const e=d.trim().toLowerCase();return l.filter((t=>{if(!e)return!0;const n=[t.numeroSerie,t.modelo,t.tipo,t.responsavel,t.email,t.status,t.disponibilidade,t.obs].map((e=>String(null!==e&&void 0!==e?e:"").toLowerCase())).join(" ");return n.includes(e)}))}),[l,d]),w=e=>{v(e),m(!0)};return a?(0,dm.jsxs)("div",{className:`mx-auto w-full px-4 transition-all duration-200 ${o}`,children:[(0,dm.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between mb-6",children:[(0,dm.jsxs)("div",{children:[(0,dm.jsxs)("h2",{className:"text-2xl font-semibold text-[var(--text)]",children:[(0,dm.jsx)("span",{className:"text-[var(--accent)]",children:a})," ",(0,dm.jsx)("span",{className:"text-[var(--text-muted)]",children:"- Movimenta\xe7\xf5es"})]}),(0,dm.jsx)("p",{className:"text-sm text-[var(--text-muted)]",children:"Monitoramento das entradas e sa\xeddas de equipamentos."})]}),(0,dm.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,dm.jsx)("span",{className:"text-sm text-pink-300/90",children:u?"Carregando\u2026":`${x.length} registro${1===x.length?"":"s"}`}),(0,dm.jsx)("input",{value:d,onChange:e=>f(e.target.value),placeholder:"Buscar por serial, respons\xe1vel, modelo\u2026",className:"px-3 py-1.5 rounded-lg bg-[var(--bg-card)] border border-[var(--line)] text-[var(--text)] placeholder:text-[var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--accent)]"}),(0,dm.jsxs)("button",{onClick:()=>{if(!x.length)return;const e=[["Data","Tipo","Modelo","Numero de Serie","Responsavel","Email","Status do Termo","Disponibilidade","Observacoes","Local","Criado em"].join(","),...x.map((e=>[TM(e.data),e.tipo||"",e.modelo||"",e.numeroSerie||"",e.responsavel||"",e.email||"",e.status||"",e.disponibilidade||"",e.obs||"",e.local||"",kM(e.criadoEm)].map(SM).join(",")))].join("\n"),t=new Blob([e],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=`movements_${(a||"geral").toLowerCase().replace(/\s+/g,"-")}_${(new Date).toISOString().split("T")[0]}.csv`,r.click(),URL.revokeObjectURL(n)},disabled:!x.length,className:"inline-flex items-center gap-1 text-sm text-emerald-300/90 border border-emerald-400/40 px-3 py-1.5 rounded-lg hover:bg-emerald-400/10 transition disabled:opacity-40",children:[(0,dm.jsx)(zk,{className:"w-4 h-4"}),"Exportar"]}),(0,dm.jsxs)("button",{onClick:()=>{v(null),m(!0)},className:"inline-flex items-center gap-1 text-sm px-3 py-1.5 rounded-lg bg-[var(--accent)]/10 text-[var(--accent)] border border-[var(--accent)]/50 hover:bg-[var(--accent)]/20 transition",children:[(0,dm.jsx)($k,{className:"w-4 h-4"}),"Nova movimenta\xe7\xe3o"]})]})]}),(0,dm.jsx)("div",{className:"overflow-hidden rounded-xl border border-[var(--line)] bg-[var(--bg-card)]",children:(0,dm.jsxs)("table",{className:"min-w-full text-sm",children:[(0,dm.jsx)("thead",{className:"bg-[var(--accent-weak)]/40 text-[var(--text)]",children:(0,dm.jsxs)("tr",{className:"text-left",children:[(0,dm.jsx)("th",{className:"p-3",children:"Data"}),(0,dm.jsx)("th",{className:"p-3",children:"Tipo"}),(0,dm.jsx)("th",{className:"p-3",children:"Modelo"}),(0,dm.jsx)("th",{className:"p-3",children:"N\xba de S\xe9rie"}),(0,dm.jsx)("th",{className:"p-3",children:"Respons\xe1vel"}),(0,dm.jsx)("th",{className:"p-3",children:"E-mail"}),(0,dm.jsx)("th",{className:"p-3",children:"Status do Termo"}),(0,dm.jsx)("th",{className:"p-3",children:"Disponibilidade"}),(0,dm.jsx)("th",{className:"p-3",children:"Observa\xe7\xf5es"}),(0,dm.jsx)("th",{className:"p-3",children:"Criado em"}),(0,dm.jsx)("th",{className:"p-3 text-center",children:"A\xe7\xf5es"})]})}),(0,dm.jsx)("tbody",{children:u?(0,dm.jsx)("tr",{children:(0,dm.jsx)("td",{colSpan:11,className:"p-6 text-center text-[var(--text-muted)]",children:"Carregando movimenta\xe7\xf5es\u2026"})}):0===x.length?(0,dm.jsx)("tr",{children:(0,dm.jsx)("td",{colSpan:11,className:"p-6 text-center text-[var(--text-muted)]",children:"Nenhuma movimenta\xe7\xe3o encontrada."})}):x.map((e=>(0,dm.jsxs)("tr",{onClick:()=>w(e),className:"border-t border-[var(--line)] hover:bg-[var(--rowHover)] transition cursor-pointer",children:[(0,dm.jsx)("td",{className:"p-3",children:TM(e.data)}),(0,dm.jsx)("td",{className:"p-3",children:(0,dm.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-semibold "+("Entrada"===e.tipo?"bg-green-500/15 text-green-300":"bg-red-500/15 text-red-300"),children:e.tipo||"\u2014"})}),(0,dm.jsx)("td",{className:"p-3",children:e.modelo||"\u2014"}),(0,dm.jsx)("td",{className:"p-3",children:e.numeroSerie||"\u2014"}),(0,dm.jsx)("td",{className:"p-3",children:e.responsavel||"\u2014"}),(0,dm.jsx)("td",{className:"p-3",children:e.email||"\u2014"}),(0,dm.jsx)("td",{className:"p-3",children:(0,dm.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-semibold "+("Finalizado"===e.status?"bg-green-500/15 text-green-300":"bg-yellow-400/15 text-yellow-300"),children:e.status||"\u2014"})}),(0,dm.jsx)("td",{className:"p-3",children:(0,dm.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-semibold "+("Dispon\xedvel"===e.disponibilidade?"bg-emerald-500/15 text-emerald-300":"bg-red-500/15 text-red-300"),children:e.disponibilidade||"\u2014"})}),(0,dm.jsx)("td",{className:"p-3",children:e.obs||"\u2014"}),(0,dm.jsx)("td",{className:"p-3",children:kM(e.criadoEm)}),(0,dm.jsx)("td",{className:"p-3 text-center",onClick:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),children:(0,dm.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,dm.jsx)("button",{onClick:()=>w(e),className:"px-3 py-1.5 text-xs rounded border border-[var(--line)] text-[var(--text)] hover:bg-white/5 transition",children:"Editar"}),(0,dm.jsxs)("button",{onClick:()=>e.numeroSerie&&b(e.numeroSerie),className:"px-3 py-1.5 text-xs rounded border border-[var(--accent-weak)] text-[var(--accent)] hover:bg-[var(--accent)]/10 transition inline-flex items-center gap-1",children:[(0,dm.jsx)(xM,{className:"w-3.5 h-3.5"}),"Hist\xf3rico"]})]})})]},e.id||e.numeroSerie)))})]})}),(0,dm.jsx)(Vk,{open:p,onClose:()=>{m(!1),v(null)},office:a,usuario:s,numeroSerie:null!==g&&void 0!==g&&g.numeroSerie?String(g.numeroSerie):"",editMovement:g}),(0,dm.jsx)(bM,{open:Boolean(y),onClose:()=>b(null),numeroSerie:y||""})]}):(0,dm.jsx)("div",{className:`mx-auto w-full px-4 mt-6 space-y-3 transition-all duration-200 ${o}`,children:(0,dm.jsxs)("div",{className:"text-rose-300/90",children:[(0,dm.jsx)("p",{children:"Selecione um escrit\xf3rio para visualizar as movimenta\xe7\xf5es."}),(0,dm.jsxs)("p",{className:"mt-2",children:["Utilize os atalhos:",(0,dm.jsxs)("span",{className:"ml-2 inline-flex flex-wrap gap-2 text-sm text-[var(--text)]",children:[(0,dm.jsx)("code",{children:"/equipment-movement/sp"}),(0,dm.jsx)("code",{children:"/equipment-movement/rio"}),(0,dm.jsx)("code",{children:"/equipment-movement/jp"})]})," ","ou informe via query string como",(0,dm.jsx)("code",{className:"ml-2",children:"/equipment-movement?office=S\xe3o Paulo"}),"."]})]})})}const CM=bm("moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),NM=bm("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),AM=bm("headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]),IM=bm("keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]),RM=bm("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),PM=bm("mouse",[["rect",{x:"5",y:"2",width:"14",height:"20",rx:"7",key:"11ol66"}],["path",{d:"M12 6v4",key:"16clxf"}]]),OM=bm("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]),DM=bm("hard-drive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),MM=bm("router",[["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6.01 18H6",key:"19vcac"}],["path",{d:"M10.01 18H10",key:"uamcmx"}],["path",{d:"M15 10v4",key:"qjz1xs"}],["path",{d:"M17.84 7.17a4 4 0 0 0-5.66 0",key:"1rif40"}],["path",{d:"M20.66 4.34a8 8 0 0 0-11.31 0",key:"6a5xfq"}]]),jM=bm("plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]),LM=bm("server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),FM=bm("tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]),UM=bm("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),VM=bm("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),BM=bm("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),zM=bm("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),$M=bm("workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]),HM=bm("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),WM=[{id:"sao-paulo",nome:"S\xe3o Paulo",slug:"sao-paulo",collection:"sao-paulo",system:!0},{id:"rio-de-janeiro",nome:"Rio de Janeiro",slug:"rio-de-janeiro",collection:"rio-de-janeiro",system:!0},{id:"joao-pessoa",nome:"Jo\xe3o Pessoa",slug:"joao-pessoa",collection:"joao-pessoa",system:!0},{id:"outros",nome:"Outros",slug:"outros",collection:"outros",system:!0}],qM=[{id:"admin",nome:"Admin",descricao:"Acesso total \xe0s funcionalidades e configura\xe7\xf5es do sistema.",system:!0},{id:"operador",nome:"Operador",descricao:"Pode cadastrar movimenta\xe7\xf5es, atualizar estoques e exportar relat\xf3rios.",system:!0},{id:"leitor",nome:"Leitor",descricao:"Visualiza dados de invent\xe1rio e relat\xf3rios, sem altera\xe7\xf5es.",system:!0},{id:"seguranca",nome:"Seguran\xe7a",descricao:"Consulta registros relevantes a compliance e hist\xf3rico de movimenta\xe7\xf5es.",system:!0}],GM={fields:[{key:"serial",label:"Serial",visible:!0,required:!0},{key:"modelo",label:"Modelo",visible:!0,required:!0},{key:"status",label:"Status",visible:!0,required:!0},{key:"email",label:"E-mail",visible:!0,required:!1},{key:"observacao",label:"Observa\xe7\xe3o",visible:!0,required:!1}],statuses:[{id:"disponivel",label:"Dispon\xedvel",system:!0},{id:"indisponivel",label:"Indispon\xedvel",system:!0}],models:[{id:"macbook-air-m1",nome:"MacBook Air M1",system:!0},{id:"dell-latitude-5420",nome:"Dell Latitude 5420",system:!0},{id:"lenovo-thinkpad-l14",nome:"Lenovo ThinkPad L14",system:!0}]},KM={defaults:{tipo:"Sa\xedda",disponibilidade:"Indispon\xedvel",local:"S\xe3o Paulo"},options:{tipos:["Entrada","Sa\xedda"],disponibilidades:["Dispon\xedvel","Indispon\xedvel"]},validations:[{id:"entrada-modelo",label:'Impedir "Entrada" sem modelo definido',descricao:"Exige que movimenta\xe7\xf5es de Entrada informem o modelo.",enabled:!0},{id:"serie-obrigatoria",label:"N\xfamero de s\xe9rie obrigat\xf3rio",descricao:"Nenhuma movimenta\xe7\xe3o pode ser salva sem n\xfamero de s\xe9rie.",enabled:!0},{id:"saida-email",label:'Alertar "Sa\xedda" sem e-mail',descricao:"Exibe alerta quando uma sa\xedda n\xe3o possui e-mail do respons\xe1vel.",enabled:!1}],locations:[{id:"sao-paulo",label:"S\xe3o Paulo",system:!0},{id:"rio-de-janeiro",label:"Rio de Janeiro",system:!0},{id:"joao-pessoa",label:"Jo\xe3o Pessoa",system:!0},{id:"outros",label:"Outros",system:!0}]},XM={categories:[{id:"headset",label:"Fones",icon:"headphones",system:!0},{id:"keyboard-mouse",label:"Teclados / Mouses",icon:"keyboard",system:!0},{id:"monitor",label:"Monitores",icon:"monitor",system:!0}]},YM=[{id:"dark",label:"Neon Dark",description:"Visual original com fundo escuro",Icon:CM},{id:"light",label:"Clear",description:"Tema claro com detalhes rosa",Icon:NM}],QM=e=>{let{icon:t,title:n,description:r,children:a}=e;return(0,dm.jsxs)(Ok.section,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.25},className:"rounded-2xl border border-[var(--line)] bg-[var(--bg-card)] shadow-lg",children:[(0,dm.jsxs)("header",{className:"flex items-center gap-3 px-6 py-5 border-b border-[var(--line)]",children:[(0,dm.jsx)("div",{className:"p-3 rounded-xl bg-[var(--accent)]/15 text-[var(--accent)]",children:(0,dm.jsx)(t,{className:"w-5 h-5"})}),(0,dm.jsxs)("div",{children:[(0,dm.jsx)("h2",{className:"text-lg font-semibold text-[var(--text)]",children:n}),r&&(0,dm.jsx)("p",{className:"text-sm text-[var(--text-muted)]",children:r})]})]}),(0,dm.jsx)("div",{className:"px-6 py-5 space-y-4",children:a})]})},JM=e=>e.normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),ZM=()=>Math.random().toString(36).slice(2,10),ej=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(e)?e:Array.isArray(t)?t:[]},tj=e=>ej(e,GM.statuses).map((e=>{if("string"===typeof e){const t=e.trim();return t?{id:JM(t)||ZM(),label:t,system:!1}:null}const t=((null===e||void 0===e?void 0:e.label)||(null===e||void 0===e?void 0:e.nome)||"").trim();return t?{id:(null===e||void 0===e?void 0:e.id)||JM(t)||ZM(),label:t,system:Boolean(null===e||void 0===e?void 0:e.system)}:null})).filter(Boolean),nj=e=>ej(e,GM.models).map((e=>{if("string"===typeof e){const t=e.trim();return t?{id:JM(t)||ZM(),nome:t,system:!1}:null}const t=((null===e||void 0===e?void 0:e.nome)||(null===e||void 0===e?void 0:e.label)||"").trim();return t?{id:(null===e||void 0===e?void 0:e.id)||JM(t)||ZM(),nome:t,system:Boolean(null===e||void 0===e?void 0:e.system)}:null})).filter(Boolean),rj=e=>ej(e,XM.categories).map((e=>{if("string"===typeof e){const t=e.trim();return t?{id:JM(t)||ZM(),label:t,icon:t.toLowerCase().includes("monitor")?"monitor":t.toLowerCase().includes("mouse")||t.toLowerCase().includes("teclado")?"keyboard":"headphones",system:!1}:null}const t=((null===e||void 0===e?void 0:e.label)||(null===e||void 0===e?void 0:e.name)||"").trim();return t?{id:(null===e||void 0===e?void 0:e.id)||JM(t)||ZM(),label:t,icon:(null===e||void 0===e?void 0:e.icon)||"headphones",system:Boolean(null===e||void 0===e?void 0:e.system)}:null})).filter(Boolean),aj=[{value:"headphones",label:"Headset / Fones",Icon:AM},{value:"keyboard",label:"Teclados / Mouses",Icon:IM},{value:"monitor",label:"Monitores",Icon:RM},{value:"mouse",label:"Mouse",Icon:PM},{value:"printer",label:"Impressoras",Icon:OM},{value:"hard-drive",label:"Dock / Storage",Icon:DM},{value:"router",label:"Routers / Modems",Icon:MM},{value:"plug",label:"Cabos / Energia",Icon:jM},{value:"server",label:"Racks / Servers",Icon:LM},{value:"tablet",label:"Tablets / Mobile",Icon:FM}],sj=e=>{var t;return(null===(t=aj.find((t=>t.value===e)))||void 0===t?void 0:t.label)||e},ij=e=>{var t,n;const r=e&&"object"===typeof e?e:{},a=r.inventory||{},s=r.movements||{},i=r.peripherals||{};return{offices:ej(r.offices,WM).map((e=>({...e}))),roles:ej(r.roles,qM).map((e=>({...e}))),inventory:{fields:ej(a.fields,GM.fields).map((e=>({...e}))),statuses:tj(a.statuses),models:nj(a.models)},movements:{defaults:{...KM.defaults,...s.defaults||{}},options:{tipos:ej(null===(t=s.options)||void 0===t?void 0:t.tipos,KM.options.tipos).map((e=>String(e))),disponibilidades:ej(null===(n=s.options)||void 0===n?void 0:n.disponibilidades,KM.options.disponibilidades).map((e=>String(e)))},validations:ej(s.validations,KM.validations).map((e=>({...e})))},peripherals:{categories:rj(i.categories)}}},oj=e=>JSON.parse(JSON.stringify({offices:e.offices,roles:e.roles,inventory:e.inventory,movements:e.movements,peripherals:e.peripherals}));function lj(){var e,t,n;const{theme:a="dark",setTheme:s=()=>{}}=Qk(),i=(0,r.useMemo)((()=>Sf(hm,"appSettings","global")),[]),[o,l]=(0,r.useState)((()=>ij())),[c,u]=(0,r.useState)(!1),h=(0,r.useRef)(!0);(0,r.useEffect)((()=>{const e=Op(i,(e=>{const t=ij(e.data());h.current=!0,l(t),u(!0),e.exists()||Ap(i,oj(t)).catch((e=>console.error("N\xe3o foi poss\xedvel inicializar configura\xe7\xf5es:",e)))}),(e=>{console.error("N\xe3o foi poss\xedvel carregar configura\xe7\xf5es:",e),h.current=!0,l(ij()),u(!0)}));return()=>e()}),[i]),(0,r.useEffect)((()=>{if(!c)return;if(h.current)return void(h.current=!1);const e=setTimeout((()=>{Ap(i,oj(o)).catch((e=>console.error("N\xe3o foi poss\xedvel salvar configura\xe7\xf5es:",e)))}),350);return()=>clearTimeout(e)}),[o,c,i]);const[d,f]=(0,r.useState)({nome:"",slug:"",collection:""}),[p,m]=(0,r.useState)({nome:"",descricao:""}),[g,v]=(0,r.useState)(""),[y,b]=(0,r.useState)(""),[x,w]=(0,r.useState)({label:"",icon:aj[0].value}),E=(0,r.useMemo)((()=>{var e,t;const n=null!==(e=null===(t=o.offices[0])||void 0===t?void 0:t.nome)&&void 0!==e?e:KM.defaults.local;return o.movements.defaults.local||n}),[o.offices,o.movements.defaults.local]),T=(e,t,n)=>{l((r=>{var a;return{...r,peripherals:{...r.peripherals,categories:ej(null===(a=r.peripherals)||void 0===a?void 0:a.categories).map((r=>r.id===e?{...r,[t]:n}:r))}}}))},[k,S]=(0,r.useState)(""),_=(e,t)=>{l((n=>({...n,movements:{...n.movements,defaults:{...n.movements.defaults,[e]:t}}})))};return(0,dm.jsxs)("div",{className:"mx-auto max-w-6xl px-4 pb-12 space-y-6",children:[(0,dm.jsxs)("header",{className:"flex flex-col gap-3 pt-2",children:[(0,dm.jsxs)("div",{className:"inline-flex items-center gap-2 text-sm uppercase tracking-[0.2em] text-[var(--text-muted)]",children:[(0,dm.jsx)(UM,{className:"w-4 h-4 text-[var(--accent)]"}),"Centro de Configura\xe7\xf5es"]}),(0,dm.jsx)("h1",{className:"text-3xl font-semibold text-[var(--text)]",children:"Configura\xe7\xf5es"}),(0,dm.jsx)("p",{className:"text-sm text-[var(--text-muted)] max-w-2xl",children:"Ajuste cadastros b\xe1sicos, regras de acesso e par\xe2metros que moldam o comportamento do Notebook Stock e das Movimenta\xe7\xf5es de Equipamentos. Todas as altera\xe7\xf5es s\xe3o salvas automaticamente no Firebase."})]}),(0,dm.jsx)(QM,{icon:NM,title:"Apar\xeancia",description:"Escolha entre o tema escuro neon ou a vers\xe3o clara com detalhes rosa.",children:(0,dm.jsx)("div",{className:"grid gap-3 sm:grid-cols-2",children:YM.map((e=>{let{id:t,label:n,description:r,Icon:i}=e;const o=a===t;return(0,dm.jsxs)("button",{type:"button",onClick:()=>{s(t)},className:["w-full text-left rounded-2xl border px-4 py-4 transition flex items-start gap-3",o?"border-[var(--accent)] bg-[var(--accent)]/15 text-[var(--accent)] shadow-[0_0_24px_rgba(225,29,116,0.35)]":"border-[var(--line)] hover:border-[var(--accent)]/50 text-[var(--text)]"].join(" "),children:[(0,dm.jsx)("div",{className:["p-2 rounded-xl",o?"bg-[var(--accent)]/25 text-[var(--accent)]":"bg-[var(--bg-soft)] text-[var(--text-muted)]"].join(" "),children:(0,dm.jsx)(i,{className:"w-5 h-5"})}),(0,dm.jsxs)("div",{className:"space-y-1",children:[(0,dm.jsx)("div",{className:"text-sm font-semibold",children:n}),(0,dm.jsx)("p",{className:"text-xs text-[var(--text-muted)]",children:r}),o&&(0,dm.jsx)("span",{className:"inline-flex items-center gap-1 rounded-full bg-[var(--accent)]/15 text-[var(--accent)] text-[10px] font-semibold uppercase tracking-[0.2em] px-2 py-0.5",children:"Ativo"})]})]},t)}))})}),(0,dm.jsxs)(QM,{icon:VM,title:"Categorias de Perif\xe9ricos",description:"Personalize as categorias exibidas no m\xf3dulo Peripherals.",children:[(0,dm.jsxs)("form",{onSubmit:e=>{var t;e.preventDefault();const n=x.label.trim();if(!n)return;const r=(x.icon||aj[0].value).toString().trim().toLowerCase(),a=JM(n)||ZM();ej(null===(t=o.peripherals)||void 0===t?void 0:t.categories).some((e=>e.id===a||e.label.toLowerCase()===n.toLowerCase()))||l((e=>{var t;return{...e,peripherals:{...e.peripherals,categories:[...ej(null===(t=e.peripherals)||void 0===t?void 0:t.categories),{id:a,label:n,icon:r,system:!1}]}}})),w({label:"",icon:aj[0].value})},className:"grid gap-4 md:grid-cols-[minmax(0,240px)_minmax(0,180px)_auto]",children:[(0,dm.jsxs)("label",{className:"flex flex-col gap-1 text-sm text-[var(--text-muted)]",children:["Nome da categoria",(0,dm.jsx)("input",{value:x.label,onChange:e=>w((t=>({...t,label:e.target.value}))),className:"input-neon",placeholder:"Ex.: Bases de carregamento",required:!0})]}),(0,dm.jsxs)("label",{className:"flex flex-col gap-1 text-sm text-[var(--text-muted)]",children:["\xcdcone",(0,dm.jsx)("select",{value:x.icon,onChange:e=>w((t=>({...t,icon:e.target.value}))),className:"input-neon",children:aj.map((e=>(0,dm.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,dm.jsxs)("button",{type:"submit",className:"btn-neon flex items-center gap-2 justify-center",children:[(0,dm.jsx)($k,{className:"w-4 h-4"}),"Adicionar categoria"]})]}),(0,dm.jsxs)("div",{className:"mt-4 space-y-3",children:[ej(null===(e=o.peripherals)||void 0===e?void 0:e.categories).map((e=>{var t;const n=(null===(t=aj.find((t=>t.value===e.icon)))||void 0===t?void 0:t.Icon)||AM;return(0,dm.jsxs)("div",{className:"grid gap-3 rounded-xl border border-[var(--line)] bg-[var(--bg-soft)]/60 px-4 py-3 md:grid-cols-[minmax(0,240px)_minmax(0,180px)_auto]",children:[(0,dm.jsxs)("label",{className:"flex flex-col gap-1 text-sm text-[var(--text-muted)]",children:["Nome",(0,dm.jsx)("input",{value:e.label,onChange:t=>T(e.id,"label",t.target.value),className:"input-neon"})]}),(0,dm.jsxs)("label",{className:"flex flex-col gap-1 text-sm text-[var(--text-muted)]",children:["\xcdcone",(0,dm.jsx)("select",{value:e.icon,onChange:t=>T(e.id,"icon",t.target.value),className:"input-neon",children:aj.map((e=>(0,dm.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,dm.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,dm.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-lg border border-[var(--line)] px-3 py-1 text-sm text-[var(--text)]",children:[(0,dm.jsx)(n,{className:"h-4 w-4 text-[var(--accent)]"}),sj(e.icon)!==e.label&&(0,dm.jsx)("span",{children:sj(e.icon)})]}),(0,dm.jsxs)("button",{type:"button",onClick:()=>(e=>{l((t=>{var n,r,a;const s=null===(n=t.peripherals)||void 0===n||null===(r=n.categories)||void 0===r?void 0:r.find((t=>t.id===e));return!s||s.system?t:{...t,peripherals:{...t.peripherals,categories:ej(null===(a=t.peripherals)||void 0===a?void 0:a.categories).filter((t=>t.id!==e))}}}))})(e.id),disabled:e.system,className:"inline-flex items-center gap-1 rounded-lg border border-[var(--line)] px-3 py-1 text-xs text-red-300 hover:bg-red-500/10 disabled:cursor-not-allowed disabled:opacity-40",children:[(0,dm.jsx)(Im,{className:"w-3.5 h-3.5"}),"Remover"]})]})]},e.id)})),!(null!==(t=o.peripherals)&&void 0!==t&&null!==(n=t.categories)&&void 0!==n&&n.length)&&(0,dm.jsx)("div",{className:"rounded-xl border border-dashed border-[var(--line)] bg-[var(--bg-soft)]/60 px-4 py-3 text-sm text-[var(--text-muted)]",children:"Nenhuma categoria cadastrada."})]})]}),(0,dm.jsxs)(QM,{icon:Bk,title:"Cadastros de escrit\xf3rios",description:"Controle quais escrit\xf3rios aparecem nas telas de invent\xe1rio e movimenta\xe7\xe3o.",children:[(0,dm.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t={nome:d.nome.trim(),slug:(d.slug||JM(d.nome)).trim(),collection:d.collection.trim()};t.nome&&t.slug&&t.collection&&(l((e=>({...e,offices:[...e.offices,{id:t.slug,...t,system:!1}]}))),f({nome:"",slug:"",collection:""}))},className:"grid gap-4 md:grid-cols-[repeat(4,minmax(0,1fr))] md:items-end",children:[(0,dm.jsxs)("label",{className:"flex flex-col gap-1 text-sm text-[var(--text-muted)]",children:["Nome",(0,dm.jsx)("input",{value:d.nome,onChange:e=>f((t=>({...t,nome:e.target.value}))),className:"input-neon",placeholder:"Ex.: Recife",required:!0})]}),(0,dm.jsxs)("label",{className:"flex flex-col gap-1 text-sm text-[var(--text-muted)]",children:["Slug",(0,dm.jsx)("input",{value:d.slug,onChange:e=>f((t=>({...t,slug:e.target.value}))),className:"input-neon",placeholder:"recife"})]}),(0,dm.jsxs)("label",{className:"flex flex-col gap-1 text-sm text-[var(--text-muted)]",children:["Cole\xe7\xe3o do Firestore",(0,dm.jsx)("input",{value:d.collection,onChange:e=>f((t=>({...t,collection:e.target.value}))),className:"input-neon",placeholder:"recife",required:!0})]}),(0,dm.jsxs)("button",{type:"submit",className:"btn-neon flex items-center justify-center gap-2",children:[(0,dm.jsx)($k,{className:"w-4 h-4"}),"Adicionar"]})]}),(0,dm.jsx)("div",{className:"overflow-hidden rounded-xl border border-[var(--line)] bg-[var(--bg-soft)]/60",children:(0,dm.jsxs)("table",{className:"min-w-full text-sm",children:[(0,dm.jsx)("thead",{className:"bg-[var(--bg-card)] text-[var(--text-muted)] uppercase tracking-wide text-xs",children:(0,dm.jsxs)("tr",{children:[(0,dm.jsx)("th",{className:"px-4 py-3 text-left",children:"Nome"}),(0,dm.jsx)("th",{className:"px-4 py-3 text-left",children:"Slug"}),(0,dm.jsx)("th",{className:"px-4 py-3 text-left",children:"Cole\xe7\xe3o"}),(0,dm.jsx)("th",{className:"px-4 py-3 text-center",children:"A\xe7\xf5es"})]})}),(0,dm.jsx)("tbody",{children:o.offices.map((e=>(0,dm.jsxs)("tr",{className:"border-t border-[var(--line)] text-[var(--text)]",children:[(0,dm.jsx)("td",{className:"px-4 py-2",children:e.nome}),(0,dm.jsx)("td",{className:"px-4 py-2 font-mono text-xs text-[var(--text-muted)]",children:e.slug}),(0,dm.jsx)("td",{className:"px-4 py-2 font-mono text-xs text-[var(--text-muted)]",children:e.collection}),(0,dm.jsx)("td",{className:"px-4 py-2",children:(0,dm.jsx)("div",{className:"flex justify-center",children:(0,dm.jsxs)("button",{type:"button",onClick:()=>(e=>{l((t=>{const n=t.offices.find((t=>t.id===e));return null!==n&&void 0!==n&&n.system?t:{...t,offices:t.offices.filter((t=>t.id!==e))}}))})(e.id),disabled:e.system,className:"inline-flex items-center gap-1 rounded-lg border border-[var(--line)] px-3 py-1.5 text-xs text-red-300 hover:bg-red-500/10 disabled:opacity-40 disabled:cursor-not-allowed",children:[(0,dm.jsx)(Im,{className:"w-3.5 h-3.5"}),"Remover"]})})})]},e.id)))})]})})]}),(0,dm.jsx)(QM,{icon:BM,title:"Usu\xe1rios & Acesso (RBAC)",description:"\xc1rea reservada para configura\xe7\xe3o detalhada de pap\xe9is e permiss\xf5es.",children:(0,dm.jsx)("div",{className:"rounded-xl border border-dashed border-[var(--line)] bg-[var(--bg-soft)]/60 px-4 py-5 text-sm text-[var(--text-muted)]",children:"Em breve voc\xea poder\xe1 gerenciar pap\xe9is, permiss\xf5es e escalonamento de acesso diretamente por aqui. Caso precise de ajustes imediatos, continue utilizando os processos atuais."})}),(0,dm.jsx)(QM,{icon:zM,title:"Invent\xe1rio (Notebook Stock)",description:"Personalize campos exibidos/obrigat\xf3rios e os status aceitos no estoque.",children:(0,dm.jsxs)("div",{className:"grid gap-4",children:[(0,dm.jsxs)("div",{children:[(0,dm.jsx)("h3",{className:"text-sm font-semibold text-[var(--text)] mb-2",children:"Campos vis\xedveis / obrigat\xf3rios"}),(0,dm.jsx)("div",{className:"overflow-hidden rounded-xl border border-[var(--line)]",children:(0,dm.jsxs)("table",{className:"min-w-full text-sm",children:[(0,dm.jsx)("thead",{className:"bg-[var(--bg-card)] text-[var(--text-muted)] uppercase tracking-wide text-xs",children:(0,dm.jsxs)("tr",{children:[(0,dm.jsx)("th",{className:"px-4 py-3 text-left",children:"Campo"}),(0,dm.jsx)("th",{className:"px-4 py-3 text-center",children:"Vis\xedvel"}),(0,dm.jsx)("th",{className:"px-4 py-3 text-center",children:"Obrigat\xf3rio"})]})}),(0,dm.jsx)("tbody",{children:o.inventory.fields.map((e=>(0,dm.jsxs)("tr",{className:"border-t border-[var(--line)] text-[var(--text)]",children:[(0,dm.jsx)("td",{className:"px-4 py-2",children:e.label}),(0,dm.jsx)("td",{className:"px-4 py-2 text-center",children:(0,dm.jsx)("label",{className:"inline-flex items-center gap-2 cursor-pointer",children:(0,dm.jsx)("input",{type:"checkbox",checked:e.visible,onChange:t=>{return n=e.key,r=t.target.checked,void l((e=>({...e,inventory:{...e.inventory,fields:e.inventory.fields.map((e=>e.key===n?{...e,visible:r,required:!!r&&e.required}:e))}})));var n,r}})})}),(0,dm.jsx)("td",{className:"px-4 py-2 text-center",children:(0,dm.jsx)("label",{className:"inline-flex items-center gap-2 cursor-pointer",children:(0,dm.jsx)("input",{type:"checkbox",checked:e.required,disabled:!e.visible,onChange:()=>{return t=e.key,void l((e=>({...e,inventory:{...e.inventory,fields:e.inventory.fields.map((e=>e.key===t?{...e,required:e.visible?!e.required:e.required}:e))}})));var t}})})})]},e.key)))})]})})]}),(0,dm.jsxs)("div",{children:[(0,dm.jsx)("h3",{className:"text-sm font-semibold text-[var(--text)] mb-2",children:"Lista de status permitidos"}),(0,dm.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=g.trim();if(!t)return;const n=JM(t)||ZM();o.inventory.statuses.some((e=>e.id===n||e.label.toLowerCase()===t.toLowerCase()))||l((e=>({...e,inventory:{...e.inventory,statuses:[...e.inventory.statuses,{id:n,label:t,system:!1}]}}))),v("")},className:"flex flex-col sm:flex-row gap-3 mb-4",children:[(0,dm.jsxs)("label",{className:"flex flex-1 flex-col gap-1 text-sm text-[var(--text-muted)]",children:["Novo status",(0,dm.jsx)("input",{value:g,onChange:e=>v(e.target.value),className:"input-neon",placeholder:"Ex.: Em manuten\xe7\xe3o"})]}),(0,dm.jsxs)("button",{type:"submit",className:"btn-neon flex items-center gap-2 justify-center",children:[(0,dm.jsx)(VM,{className:"w-4 h-4"}),"Adicionar status"]})]}),(0,dm.jsx)("div",{className:"flex flex-wrap gap-2",children:o.inventory.statuses.map((e=>(0,dm.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full border border-[var(--line)] bg-[var(--bg-card)] px-3 py-1 text-sm text-[var(--text)]",children:[(0,dm.jsx)("span",{children:e.label}),(0,dm.jsx)("button",{type:"button",onClick:()=>(e=>{l((t=>{const n=t.inventory.statuses.find((t=>t.id===e));return null!==n&&void 0!==n&&n.system?t:{...t,inventory:{...t.inventory,statuses:t.inventory.statuses.filter((t=>t.id!==e))}}}))})(e.id),disabled:e.system,className:"rounded-full bg-red-500/10 p-1 text-red-300 hover:bg-red-500/20 disabled:opacity-40 disabled:cursor-not-allowed",children:(0,dm.jsx)(Tm,{className:"w-3 h-3"})})]},e.id)))})]}),(0,dm.jsxs)("div",{children:[(0,dm.jsx)("h3",{className:"text-sm font-semibold text-[var(--text)] mb-2",children:"Modelos dispon\xedveis"}),(0,dm.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=y.trim();if(!t)return;const n=JM(t)||ZM();o.inventory.models.some((e=>e.id===n||e.nome.toLowerCase()===t.toLowerCase()))||l((e=>({...e,inventory:{...e.inventory,models:[...e.inventory.models,{id:n,nome:t,system:!1}]}}))),b("")},className:"flex flex-col sm:flex-row gap-3 mb-4",children:[(0,dm.jsxs)("label",{className:"flex flex-1 flex-col gap-1 text-sm text-[var(--text-muted)]",children:["Novo modelo",(0,dm.jsx)("input",{value:y,onChange:e=>b(e.target.value),className:"input-neon",placeholder:"Ex.: HP EliteBook 840"})]}),(0,dm.jsxs)("button",{type:"submit",className:"btn-neon flex items-center gap-2 justify-center",children:[(0,dm.jsx)(_m,{className:"w-4 h-4"}),"Adicionar modelo"]})]}),(0,dm.jsx)("div",{className:"flex flex-wrap gap-2",children:o.inventory.models.map((e=>(0,dm.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full border border-[var(--line)] bg-[var(--bg-card)] px-3 py-1 text-sm text-[var(--text)]",children:[(0,dm.jsx)("span",{children:e.nome}),(0,dm.jsx)("button",{type:"button",onClick:()=>(e=>{l((t=>{const n=t.inventory.models.find((t=>t.id===e));return null!==n&&void 0!==n&&n.system?t:{...t,inventory:{...t.inventory,models:t.inventory.models.filter((t=>t.id!==e))}}}))})(e.id),disabled:e.system,className:"rounded-full bg-red-500/10 p-1 text-red-300 hover:bg-red-500/20 disabled:opacity-40 disabled:cursor-not-allowed",children:(0,dm.jsx)(Tm,{className:"w-3 h-3"})})]},e.id)))})]})]})}),(0,dm.jsxs)(QM,{icon:$M,title:"Movimenta\xe7\xf5es (Equipment Movement)",description:"Defina valores padr\xe3o do formul\xe1rio e ative valida\xe7\xf5es adicionais.",children:[(0,dm.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,dm.jsxs)("label",{className:"flex flex-col gap-2 text-sm text-[var(--text-muted)]",children:["Tipo padr\xe3o",(0,dm.jsx)("select",{value:o.movements.defaults.tipo,onChange:e=>_("tipo",e.target.value),className:"input-neon",children:o.movements.options.tipos.map((e=>(0,dm.jsx)("option",{value:e,children:e},e)))})]}),(0,dm.jsxs)("label",{className:"flex flex-col gap-2 text-sm text-[var(--text-muted)]",children:["Disponibilidade padr\xe3o",(0,dm.jsx)("select",{value:o.movements.defaults.disponibilidade,onChange:e=>_("disponibilidade",e.target.value),className:"input-neon",children:o.movements.options.disponibilidades.map((e=>(0,dm.jsx)("option",{value:e,children:e},e)))})]}),(0,dm.jsxs)("label",{className:"flex flex-col gap-2 text-sm text-[var(--text-muted)] md:col-span-2",children:["Local padr\xe3o",(0,dm.jsx)("input",{value:o.movements.defaults.local,onChange:e=>_("local",e.target.value),placeholder:E,className:"input-neon"})]})]}),(0,dm.jsxs)("div",{children:[(0,dm.jsx)("h3",{className:"text-sm font-semibold text-[var(--text)] mb-2",children:"Valida\xe7\xf5es ativas"}),(0,dm.jsx)("div",{className:"grid gap-3",children:o.movements.validations.map((e=>(0,dm.jsxs)("div",{className:"flex flex-col gap-2 rounded-xl border border-[var(--line)] bg-[var(--bg-soft)]/60 p-4 md:flex-row md:items-center md:justify-between",children:[(0,dm.jsxs)("div",{className:"flex items-start gap-3 text-sm text-[var(--text)]",children:[(0,dm.jsx)("div",{className:"rounded-full p-2 "+(e.enabled?"text-emerald-300":"text-[var(--text-muted)]"),children:e.enabled?(0,dm.jsx)(HM,{className:"w-4 h-4"}):(0,dm.jsx)(Tm,{className:"w-4 h-4"})}),(0,dm.jsxs)("div",{children:[(0,dm.jsx)("div",{className:"font-medium",children:e.label}),(0,dm.jsx)("p",{className:"text-xs text-[var(--text-muted)] mt-1",children:e.descricao})]})]}),(0,dm.jsxs)("label",{className:"inline-flex items-center gap-2 text-xs text-[var(--text-muted)] uppercase tracking-wide",children:[(0,dm.jsx)("span",{children:e.enabled?"Ativa":"Desativada"}),(0,dm.jsx)("input",{type:"checkbox",checked:e.enabled,onChange:()=>(e=>{l((t=>({...t,movements:{...t.movements,validations:t.movements.validations.map((t=>t.id===e?{...t,enabled:!t.enabled}:t))}})))})(e.id)})]})]},e.id)))})]})]}),(0,dm.jsxs)("footer",{className:"flex items-center justify-between rounded-2xl border border-[var(--line)] bg-[var(--bg-card)] px-6 py-4 text-sm text-[var(--text-muted)]",children:[(0,dm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dm.jsx)(Rm,{className:"w-4 h-4 text-[var(--accent)]"}),"Altera\xe7\xf5es salvas automaticamente em"," ",(0,dm.jsx)("code",{className:"font-mono text-xs bg-[var(--bg-soft)] px-2 py-1 rounded",children:"localStorage"})]}),(0,dm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dm.jsx)(BM,{className:"w-4 h-4 text-emerald-300"}),"Exporte manualmente se desejar replicar em outros dispositivos."]})]})]})}const cj=bm("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),uj=bm("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),hj="licenses-machines";function dj(){const[e,t]=(0,r.useState)({machine:"",serial:"",recoveryKey:""}),[n,a]=(0,r.useState)(!0),[s,i]=(0,r.useState)([]),[o,l]=(0,r.useState)("");(0,r.useEffect)((()=>{const e=Op(hp(kf(hm,hj),gp("machine","asc")),(e=>{i(e.docs.map((e=>({id:e.id,...e.data()})))),a(!1)}),(e=>{console.error("Erro ao carregar licen\xe7as:",e),a(!1)}));return()=>e()}),[]);const c=(0,r.useMemo)((()=>{const e=o.trim().toLowerCase();return e?s.filter((t=>{var n,r,a;return(null===(n=t.machine)||void 0===n?void 0:n.toLowerCase().includes(e))||(null===(r=t.serial)||void 0===r?void 0:r.toLowerCase().includes(e))||(null===(a=t.recoveryKey)||void 0===a?void 0:a.toLowerCase().includes(e))})):s}),[s,o]),u=async e=>{try{await navigator.clipboard.writeText(e),Rg({type:"success",message:"Copiado para a \xe1rea de transfer\xeancia."})}catch{Rg({type:"error",message:"N\xe3o foi poss\xedvel copiar."})}};return(0,dm.jsxs)("div",{className:"mx-auto w-full max-w-6xl px-4 py-6 space-y-6",children:[(0,dm.jsx)("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:(0,dm.jsxs)("div",{children:[(0,dm.jsxs)("div",{className:"inline-flex items-center gap-2 text-sm uppercase tracking-[0.2em] text-[var(--text-muted)]",children:[(0,dm.jsx)(mS,{className:"w-4 h-4 text-[var(--accent)]"}),"Licen\xe7as"]}),(0,dm.jsx)("h1",{className:"text-3xl font-semibold text-[var(--text)]",children:"Gest\xe3o de Recovery Keys"}),(0,dm.jsx)("p",{className:"text-sm text-[var(--text-muted)]",children:"Cadastre cada m\xe1quina com sua respectiva recovery key para manter o controle centralizado."})]})}),(0,dm.jsx)("section",{className:"rounded-2xl border border-[var(--line)] bg-[var(--bg-card)] shadow-lg",children:(0,dm.jsxs)("form",{onSubmit:async n=>{n.preventDefault();const r=e.machine.trim(),a=e.serial.trim(),s=e.recoveryKey.trim();if(r&&a&&s)try{await Ap(Sf(hm,hj,a),{machine:r,serial:a,recoveryKey:s,createdAt:new Date}),Rg({type:"success",message:"Licen\xe7a cadastrada com sucesso."}),t({machine:"",serial:"",recoveryKey:""})}catch(i){console.error("Erro ao salvar licen\xe7a:",i),Rg({type:"error",message:"Erro ao salvar licen\xe7a.",description:null===i||void 0===i?void 0:i.message})}else Rg({type:"error",message:"Informe m\xe1quina, serial e a recovery key."})},className:"grid gap-4 px-6 py-5 md:grid-cols-[2fr,1.5fr,1.5fr,auto]",children:[(0,dm.jsxs)("label",{className:"flex flex-col gap-1 text-sm text-[var(--text-muted)]",children:["M\xe1quina",(0,dm.jsx)("input",{value:e.machine,onChange:e=>t((t=>({...t,machine:e.target.value}))),placeholder:"Ex.: MacBook - Jo\xe3o Silva",className:"input-neon",required:!0})]}),(0,dm.jsxs)("label",{className:"flex flex-col gap-1 text-sm text-[var(--text-muted)]",children:["Serial",(0,dm.jsx)("input",{value:e.serial,onChange:e=>t((t=>({...t,serial:e.target.value}))),placeholder:"Ex.: C02YD0ABC123",className:"input-neon",required:!0})]}),(0,dm.jsxs)("label",{className:"flex flex-col gap-1 text-sm text-[var(--text-muted)]",children:["Recovery key",(0,dm.jsx)("input",{value:e.recoveryKey,onChange:e=>t((t=>({...t,recoveryKey:e.target.value}))),placeholder:"Ex.: XXXX-XXXX-XXXX-XXXX",className:"input-neon",required:!0})]}),(0,dm.jsxs)("button",{type:"submit",className:"mt-auto inline-flex items-center justify-center gap-2 rounded-xl border border-[var(--accent)]/60 bg-[var(--accent)]/10 px-4 py-2 font-semibold text-[var(--accent)] transition hover:bg-[var(--accent)]/20",children:[(0,dm.jsx)(cj,{className:"w-5 h-5"}),"Salvar"]})]})}),(0,dm.jsxs)("section",{className:"space-y-4",children:[(0,dm.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,dm.jsxs)("div",{className:"flex items-center gap-2 text-sm text-[var(--text-muted)]",children:[(0,dm.jsx)(iS,{className:"w-4 h-4 text-[var(--accent)]"}),(0,dm.jsx)("span",{children:n?"Carregando...":`${c.length} m\xe1quina${1===c.length?"":"s"} cadastrada${1===c.length?"":"s"}`})]}),(0,dm.jsx)("input",{value:o,onChange:e=>l(e.target.value),placeholder:"Buscar por m\xe1quina ou recovery key",className:"input-neon max-w-sm"})]}),(0,dm.jsx)("div",{className:"overflow-hidden rounded-2xl border border-[var(--line)] bg-[var(--bg-soft)]",children:(0,dm.jsxs)("table",{className:"min-w-full divide-y divide-[var(--line)]",children:[(0,dm.jsx)("thead",{className:"bg-[var(--bg-card)] text-left text-xs font-semibold uppercase tracking-wide text-[var(--text-muted)]",children:(0,dm.jsxs)("tr",{children:[(0,dm.jsx)("th",{className:"px-4 py-3",children:"M\xe1quina"}),(0,dm.jsx)("th",{className:"px-4 py-3",children:"Serial"}),(0,dm.jsx)("th",{className:"px-4 py-3",children:"Recovery Key"}),(0,dm.jsx)("th",{className:"px-4 py-3 text-right",children:"A\xe7\xf5es"})]})}),(0,dm.jsx)("tbody",{className:"divide-y divide-[var(--line)] text-sm",children:n?(0,dm.jsx)("tr",{children:(0,dm.jsx)("td",{colSpan:4,className:"px-4 py-6 text-center text-[var(--text-muted)]",children:"Carregando registros..."})}):0===c.length?(0,dm.jsx)("tr",{children:(0,dm.jsx)("td",{colSpan:4,className:"px-4 py-6 text-center text-[var(--text-muted)]",children:"Nenhum registro encontrado."})}):c.map((e=>(0,dm.jsxs)("tr",{children:[(0,dm.jsx)("td",{className:"px-4 py-3 text-[var(--text)]",children:e.machine||"\u2014"}),(0,dm.jsx)("td",{className:"px-4 py-3 text-[var(--text)]",children:(0,dm.jsx)("span",{className:"font-mono text-sm",children:e.serial||"\u2014"})}),(0,dm.jsx)("td",{className:"px-4 py-3 text-[var(--text)]",children:(0,dm.jsx)("span",{className:"font-mono text-sm",children:e.recoveryKey||"\u2014"})}),(0,dm.jsx)("td",{className:"px-4 py-3",children:(0,dm.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,dm.jsxs)("button",{type:"button",onClick:()=>u(e.serial),className:"inline-flex items-center gap-1 rounded-lg border border-[var(--line)] px-3 py-1.5 text-xs font-medium text-[var(--text)] transition hover:bg-white/5",children:[(0,dm.jsx)(Em,{className:"w-4 h-4"}),"Copiar serial"]}),(0,dm.jsxs)("button",{type:"button",onClick:()=>u(e.recoveryKey),className:"inline-flex items-center gap-1 rounded-lg border border-[var(--line)] px-3 py-1.5 text-xs font-medium text-[var(--text)] transition hover:bg-white/5",children:[(0,dm.jsx)(uj,{className:"w-4 h-4"}),"Copiar"]}),(0,dm.jsxs)("button",{type:"button",onClick:()=>(async e=>{if(null===e||void 0===e||!e.id)return;if("undefined"===typeof window||window.confirm(`Deseja remover a m\xe1quina "${e.machine}" e sua recovery key?`))try{await Rp(Sf(hm,hj,e.id)),Rg({type:"success",message:"Cadastro removido."})}catch(t){console.error("Erro ao remover licen\xe7a:",t),Rg({type:"error",message:"N\xe3o foi poss\xedvel remover o registro.",description:null===t||void 0===t?void 0:t.message})}})(e),className:"inline-flex items-center gap-1 rounded-lg border border-rose-500/40 px-3 py-1.5 text-xs font-medium text-rose-300 transition hover:bg-rose-500/10",children:[(0,dm.jsx)(Im,{className:"w-4 h-4"}),"Remover"]})]})})]},e.id)))})]})})]})]})}const fj=[{title:"Guia de configura\xe7\xe3o",description:"Documento base de configura\xe7\xe3o inicial das m\xe1quinas.",icon:dS,href:"#"},{title:"Pacote de drivers",description:"Drivers essenciais. Substitua por links reais futuramente.",icon:DM,href:"#"}];function pj(){return(0,dm.jsxs)("div",{className:"mx-auto w-full max-w-5xl px-4 py-6 space-y-6",children:[(0,dm.jsx)("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:(0,dm.jsxs)("div",{children:[(0,dm.jsxs)("div",{className:"inline-flex items-center gap-2 text-sm uppercase tracking-[0.2em] text-[var(--text-muted)]",children:[(0,dm.jsx)(zk,{className:"w-4 h-4 text-[var(--accent)]"}),"Downloads"]}),(0,dm.jsx)("h1",{className:"text-3xl font-semibold text-[var(--text)]",children:"Central de Downloads"}),(0,dm.jsx)("p",{className:"text-sm text-[var(--text-muted)]",children:"P\xe1gina inicial para organizar arquivos e utilit\xe1rios. Substitua os blocos abaixo pelos downloads reais quando estiverem dispon\xedveis."})]})}),(0,dm.jsx)("section",{className:"grid gap-4 sm:grid-cols-2",children:fj.map((e=>{let{title:t,description:n,icon:r,href:a}=e;return(0,dm.jsxs)("a",{href:a,className:"group rounded-2xl border border-[var(--line)] bg-[var(--bg-card)] p-5 transition hover:border-[var(--accent)]/50 hover:bg-[var(--bg-soft)]",children:[(0,dm.jsxs)("div",{className:"flex items-center gap-3",children:[(0,dm.jsx)("div",{className:"rounded-xl bg-[var(--accent)]/15 p-3 text-[var(--accent)]",children:(0,dm.jsx)(r,{className:"w-5 h-5"})}),(0,dm.jsx)("h2",{className:"text-xl font-semibold text-[var(--text)]",children:t})]}),(0,dm.jsx)("p",{className:"mt-3 text-sm text-[var(--text-muted)]",children:n}),(0,dm.jsxs)("span",{className:"mt-4 inline-flex items-center gap-2 text-sm font-semibold text-[var(--accent)] transition group-hover:gap-3",children:["Baixar",(0,dm.jsx)(zk,{className:"w-4 h-4"})]})]},t)}))}),(0,dm.jsx)("section",{className:"rounded-2xl border border-dashed border-[var(--line)] bg-[var(--bg-soft)] p-6 text-sm text-[var(--text-muted)]",children:"Personalize esta sess\xe3o com instru\xe7\xf5es, vers\xf5es e changelog dos arquivos futuramente. Inclua tamb\xe9m checklist de pr\xe9-requisitos ou observa\xe7\xf5es importantes para a equipe."})]})}const mj=bm("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),gj=[{id:"sao-paulo",name:"S\xe3o Paulo"},{id:"rio-de-janeiro",name:"Rio de Janeiro"},{id:"joao-pessoa",name:"Jo\xe3o Pessoa"},{id:"outros",name:"Outros"}],vj=Sf(hm,"appSettings","global"),yj=[{id:"headset",label:"Fones",icon:"headphones"},{id:"keyboard-mouse",label:"Teclados / Mouses",icon:"keyboard"},{id:"monitor",label:"Monitores",icon:"monitor"}],bj={headphones:AM,headset:AM,earphones:AM,keyboard:IM,"keyboard-mouse":IM,mouse:PM,peripherals:IM,monitor:RM,screen:RM,display:RM,printer:OM,"hard-drive":DM,storage:DM,dock:DM,plug:jM,cable:jM,router:MM,modem:MM,server:LM,rack:LM,tablet:FM,mobile:FM},xj=e=>gj.reduce(((t,n)=>(t[n.id]={office:n,totals:e.reduce(((e,t)=>(e[t.id]=0,e)),{})},t)),{});function wj(){var e,t;const[n,a]=(0,r.useState)((()=>yj)),[s,i]=(0,r.useState)((()=>xj(yj))),[o,l]=(0,r.useState)([]),[c,u]=(0,r.useState)(!0),[h,d]=(0,r.useState)(!1),[f,p]=(0,r.useState)({open:!1,office:null,category:null}),[m,g]=(0,r.useState)({open:!1,entry:null}),[v,y]=(0,r.useState)(gj[0]),[b,x]=(0,r.useState)((()=>gj.reduce(((e,t)=>(e[t.id]=!1,e)),{}))),[w,E]=(0,r.useState)({category:yj[0].id,model:"",email:"",quantity:1}),[T,k]=(0,r.useState)({model:"",email:"",quantity:1});(0,r.useEffect)((()=>{const e=Op(vj,(e=>{var t;const n=e.data(),r=(s=null===n||void 0===n||null===(t=n.peripherals)||void 0===t?void 0:t.categories,Array.isArray(s)&&0!==s.length?s.map((e=>{if("string"===typeof e){const t=e.trim();if(!t)return null;const n=t.toLowerCase(),r=n.includes("monitor")?"monitor":n.includes("teclado")||n.includes("keyboard")?"keyboard":n.includes("mouse")?"mouse":n.includes("printer")||n.includes("impress")?"printer":n.includes("router")||n.includes("modem")||n.includes("wifi")?"router":n.includes("cabo")||n.includes("energia")||n.includes("plug")?"plug":n.includes("storage")||n.includes("dock")||n.includes("hd")?"hard-drive":n.includes("server")||n.includes("rack")?"server":n.includes("tablet")||n.includes("mobile")||n.includes("phone")?"tablet":"headphones";return{id:t.toLowerCase().replace(/\s+/g,"-"),label:t,icon:r}}const t=((null===e||void 0===e?void 0:e.label)||(null===e||void 0===e?void 0:e.name)||"").trim();return t?{id:(null===e||void 0===e?void 0:e.id)||t.toLowerCase().normalize("NFD").replace(/\p{Diacritic}/gu,"").replace(/\s+/g,"-"),label:t,icon:(null===e||void 0===e?void 0:e.icon)||"headphones",system:Boolean(null===e||void 0===e?void 0:e.system)}:null})).filter(Boolean):yj);var s;a(r)}),(()=>{})),t=Op(kf(hm,"peripherals"),(e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));l(t),u(!1)}),(e=>{console.error("Erro ao carregar perif\xe9ricos:",e),Rg({type:"error",message:"N\xe3o foi poss\xedvel carregar os perif\xe9ricos."}),u(!1)}));return()=>{e(),t()}}),[]),(0,r.useEffect)((()=>{const e=xj(n);o.forEach((t=>{var r;const a=t.officeId||(null===(r=gj.find((e=>e.name.toLowerCase()===String(t.office||"").toLowerCase())))||void 0===r?void 0:r.id),s=t.category,i=Number(t.quantity)||0;a&&e[a]&&n.some((e=>e.id===s))&&(e[a].totals[s]+=i)})),i(e)}),[n,o]),(0,r.useEffect)((()=>{E((e=>{var t;return{...e,category:(null===(t=n[0])||void 0===t?void 0:t.id)||""}})),p((e=>{if(!e.open)return e;const t=n.find((t=>{var n;return t.id===(null===(n=e.category)||void 0===n?void 0:n.id)}));return t?{...e,category:t}:{open:!1,office:null,category:null}})),n.length<=4&&x((e=>{const t={...e};return gj.forEach((e=>{t[e.id]=!1})),t}))}),[n]);const S=(0,r.useMemo)((()=>gj.map((e=>s[e.id]||{office:e,totals:{}}))),[s]),_=(0,r.useMemo)((()=>f.open&&f.office&&f.category?o.filter((e=>e.officeId===f.office.id&&e.category===f.category.id)).sort(((e,t)=>(e.model||"").localeCompare(t.model||""))):[]),[o,f]),C=()=>{p({open:!1,office:null,category:null})};return(0,dm.jsxs)("div",{className:"mx-auto w-full max-w-6xl px-4 py-6 space-y-6",children:[(0,dm.jsxs)("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,dm.jsxs)("div",{children:[(0,dm.jsxs)("div",{className:"inline-flex items-center gap-2 text-sm uppercase tracking-[0.2em] text-[var(--text-muted)]",children:[(0,dm.jsx)(Bk,{className:"w-4 h-4 text-[var(--accent)]"}),"Peripherals"]}),(0,dm.jsx)("h1",{className:"text-3xl font-semibold text-[var(--text)]",children:"Controle de Perif\xe9ricos"}),(0,dm.jsx)("p",{className:"text-sm text-[var(--text-muted)]",children:"Monitore fones, teclados/mouses, monitores e demais categorias configuradas por escrit\xf3rio."})]}),(0,dm.jsxs)("button",{type:"button",onClick:()=>{if(!o.length)return;const e=e=>{var t;return(null===(t=n.find((t=>t.id===e)))||void 0===t?void 0:t.label)||e},t=[["Escrit\xf3rio","Categoria","Modelo","E-mail","Quantidade"],...o.map((t=>{var n;return[t.office||t.officeId||"",e(t.category),t.model||"",t.email||"",null!==(n=t.quantity)&&void 0!==n?n:""]}))].map((e=>e.map((e=>`"${String(null!==e&&void 0!==e?e:"").replace(/"/g,'""').replace(/\r?\n/g," ")}"`)).join(","))).join("\n"),r=new Blob([t],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(r),s=document.createElement("a");s.href=a,s.download=`peripherals_${(new Date).toISOString().split("T")[0]}.csv`,s.click(),URL.revokeObjectURL(a)},disabled:!o.length,className:"inline-flex items-center gap-2 rounded-xl border border-emerald-400/60 bg-emerald-400/10 px-3 py-1.5 text-sm font-semibold text-emerald-300 transition hover:bg-emerald-400/20 disabled:cursor-not-allowed disabled:opacity-40",children:[(0,dm.jsx)(zk,{className:"w-4 h-4"}),"Exportar tudo"]})]}),(0,dm.jsx)("section",{className:"grid gap-4 sm:grid-cols-2",children:S.map((e=>{let{office:t,totals:r}=e;return(0,dm.jsxs)("div",{className:"flex flex-col gap-4 rounded-2xl border border-[var(--line)] bg-[var(--bg-card)] p-5 shadow-lg",children:[(0,dm.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,dm.jsxs)("div",{children:[(0,dm.jsx)("h2",{className:"text-xl font-semibold text-[var(--text)]",children:t.name}),(0,dm.jsx)("p",{className:"text-sm text-[var(--text-muted)]",children:"Distribui\xe7\xe3o de perif\xe9ricos cadastrados"})]}),(0,dm.jsxs)("button",{onClick:()=>(e=>{var t;y(e),E({category:(null===(t=n[0])||void 0===t?void 0:t.id)||"",model:"",email:"",quantity:1}),d(!0)})(t),className:"inline-flex items-center gap-2 rounded-xl border border-[var(--accent)]/60 bg-[var(--accent)]/10 px-3 py-1.5 text-sm font-semibold text-[var(--accent)] transition hover:bg-[var(--accent)]/20",children:[(0,dm.jsx)(cj,{className:"w-4 h-4"}),"Cadastrar"]})]}),(0,dm.jsxs)("ul",{className:"space-y-2 text-sm",children:[(b[t.id]?n:n.slice(0,4)).map((e=>{var n;const a=(e=>{var t;return bj[(null===e||void 0===e||null===(t=e.toLowerCase)||void 0===t?void 0:t.call(e))||""]||AM})(e.icon);return(0,dm.jsx)("li",{children:(0,dm.jsxs)("button",{type:"button",onClick:()=>((e,t)=>{p({open:!0,office:e,category:t})})(t,e),className:"flex w-full items-center justify-between gap-3 rounded-xl border border-[var(--line)] bg-[var(--bg-soft)] px-3 py-2 text-left transition hover:border-[var(--accent)]/60 hover:bg-[var(--bg-card)]",children:[(0,dm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,dm.jsx)(a,{className:"w-4 h-4 text-[var(--accent)]"}),(0,dm.jsx)("span",{className:"text-[var(--text)]",children:e.label})]}),(0,dm.jsx)("span",{className:"text-sm font-semibold text-[var(--text)]",children:c?"\u2014":null!==(n=r[e.id])&&void 0!==n?n:0})]})},e.id)})),n.length>4&&(0,dm.jsx)("li",{children:(0,dm.jsx)("button",{type:"button",onClick:()=>x((e=>({...e,[t.id]:!e[t.id]}))),className:"flex w-full items-center justify-center gap-2 rounded-xl border border-dashed border-[var(--line)] bg-[var(--bg-soft)] px-3 py-2 text-sm text-[var(--accent)] transition hover:border-[var(--accent)]/40 hover:bg-[var(--bg-card)]",children:b[t.id]?(0,dm.jsxs)(dm.Fragment,{children:[(0,dm.jsx)(mj,{className:"w-4 h-4"}),"Mostrar menos"]}):(0,dm.jsxs)(dm.Fragment,{children:[(0,dm.jsx)(ES,{className:"w-4 h-4"}),"Ver mais"]})})})]})]},t.id)}))}),h&&(0,dm.jsx)("div",{className:"fixed inset-0 z-[120] flex items-center justify-center bg-black/70 p-4 backdrop-blur-sm",children:(0,dm.jsxs)("div",{className:"w-full max-w-lg rounded-2xl border border-[var(--line)] bg-[var(--bg-card)] shadow-xl",children:[(0,dm.jsxs)("header",{className:"flex items-center justify-between border-b border-[var(--line)] px-6 py-4",children:[(0,dm.jsxs)("div",{children:[(0,dm.jsx)("h2",{className:"text-xl font-semibold text-[var(--text)]",children:"Cadastrar perif\xe9rico"}),(0,dm.jsx)("p",{className:"text-sm text-[var(--text-muted)]",children:null===v||void 0===v?void 0:v.name})]}),(0,dm.jsx)("button",{onClick:()=>d(!1),className:"rounded-lg border border-transparent p-2 text-[var(--text-muted)] transition hover:border-[var(--line)] hover:bg-white/5 hover:text-white",children:"\xd7"})]}),(0,dm.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!w.category)return void Rg({type:"error",message:"Selecione uma categoria."});const t=w.model.trim(),n=w.email.trim(),r=Number(w.quantity);if(!t||!Number.isFinite(r)||r<=0)Rg({type:"error",message:"Informe um modelo e uma quantidade v\xe1lida."});else try{await Pp(kf(hm,"peripherals"),{office:v.name,officeId:v.id,category:w.category,model:t,...n?{email:n}:{},quantity:r,createdAt:jp()}),Rg({type:"success",message:"Perif\xe9rico cadastrado."}),d(!1)}catch(a){console.error("Erro ao cadastrar perif\xe9rico:",a),Rg({type:"error",message:"N\xe3o foi poss\xedvel cadastrar o perif\xe9rico.",description:null===a||void 0===a?void 0:a.message})}},className:"space-y-4 px-6 py-5",children:[(0,dm.jsxs)("label",{className:"flex flex-col gap-1 text-sm text-[var(--text-muted)]",children:["Categoria",(0,dm.jsx)("select",{value:w.category,onChange:e=>E((t=>({...t,category:e.target.value}))),className:"input-neon",required:!0,children:n.map((e=>(0,dm.jsx)("option",{value:e.id,children:e.label},e.id)))})]}),(0,dm.jsxs)("label",{className:"flex flex-col gap-1 text-sm text-[var(--text-muted)]",children:["Modelo",(0,dm.jsx)("input",{value:w.model,onChange:e=>E((t=>({...t,model:e.target.value}))),className:"input-neon",placeholder:"Ex.: Logitech MX Keys",required:!0})]}),(0,dm.jsxs)("label",{className:"flex flex-col gap-1 text-sm text-[var(--text-muted)]",children:["E-mail (opcional)",(0,dm.jsx)("input",{type:"email",value:w.email,onChange:e=>E((t=>({...t,email:e.target.value}))),className:"input-neon",placeholder:"nome@empresa.com"})]}),(0,dm.jsxs)("label",{className:"flex flex-col gap-1 text-sm text-[var(--text-muted)]",children:["Quantidade",(0,dm.jsx)("input",{type:"number",min:1,value:w.quantity,onChange:e=>E((t=>({...t,quantity:e.target.value}))),className:"input-neon",required:!0})]}),(0,dm.jsxs)("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-[var(--line)]",children:[(0,dm.jsx)("button",{type:"button",onClick:()=>d(!1),className:"rounded-lg border border-[var(--line)] px-4 py-2 text-[var(--text)] transition hover:bg-white/5",children:"Cancelar"}),(0,dm.jsxs)("button",{type:"submit",className:"inline-flex items-center gap-2 rounded-lg border border-[var(--accent)]/60 bg-[var(--accent)]/10 px-4 py-2 font-semibold text-[var(--accent)] transition hover:bg-[var(--accent)]/20",children:[(0,dm.jsx)(cj,{className:"w-4 h-4"}),"Salvar"]})]})]})]})}),f.open&&(0,dm.jsx)("div",{className:"fixed inset-0 z-[125] flex items-center justify-center bg-black/70 p-4 backdrop-blur-sm",children:(0,dm.jsxs)("div",{className:"w-full max-w-3xl overflow-hidden rounded-2xl border border-[var(--line)] bg-[var(--bg-card)] shadow-xl",children:[(0,dm.jsxs)("header",{className:"flex items-center justify-between border-b border-[var(--line)] px-6 py-4",children:[(0,dm.jsxs)("div",{children:[(0,dm.jsxs)("h2",{className:"text-xl font-semibold text-[var(--text)]",children:[null===(e=f.category)||void 0===e?void 0:e.label," \u2014 ",null===(t=f.office)||void 0===t?void 0:t.name]}),(0,dm.jsx)("p",{className:"text-sm text-[var(--text-muted)]",children:"Consulte ou atualize os registros cadastrados."})]}),(0,dm.jsx)("button",{onClick:C,className:"rounded-lg border border-transparent p-2 text-[var(--text-muted)] transition hover:border-[var(--line)] hover:bg-white/5 hover:text-white",children:"\xd7"})]}),(0,dm.jsx)("section",{className:"max-h-[65vh] overflow-y-auto px-6 py-5",children:0===_.length?(0,dm.jsx)("div",{className:"rounded-xl border border-dashed border-[var(--line)] bg-[var(--bg-soft)] p-6 text-sm text-[var(--text-muted)]",children:"Nenhum perif\xe9rico cadastrado para esta categoria neste escrit\xf3rio."}):(0,dm.jsxs)("table",{className:"min-w-full divide-y divide-[var(--line)] text-sm",children:[(0,dm.jsx)("thead",{className:"bg-[var(--bg-soft)] text-left text-xs font-semibold uppercase tracking-wide text-[var(--text-muted)]",children:(0,dm.jsxs)("tr",{children:[(0,dm.jsx)("th",{className:"px-3 py-3",children:"Modelo"}),(0,dm.jsx)("th",{className:"px-3 py-3",children:"E-mail"}),(0,dm.jsx)("th",{className:"px-3 py-3",children:"Quantidade"}),(0,dm.jsx)("th",{className:"px-3 py-3 text-right",children:"A\xe7\xf5es"})]})}),(0,dm.jsx)("tbody",{className:"divide-y divide-[var(--line)]",children:_.map((e=>{var t;return(0,dm.jsxs)("tr",{children:[(0,dm.jsx)("td",{className:"px-3 py-2 text-[var(--text)]",children:e.model||"\u2014"}),(0,dm.jsx)("td",{className:"px-3 py-2 text-[var(--text)]",children:e.email||"\u2014"}),(0,dm.jsx)("td",{className:"px-3 py-2 text-[var(--text)]",children:null!==(t=e.quantity)&&void 0!==t?t:0}),(0,dm.jsx)("td",{className:"px-3 py-2",children:(0,dm.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,dm.jsxs)("button",{type:"button",onClick:()=>(e=>{k({model:e.model||"",email:e.email||"",quantity:e.quantity||1}),g({open:!0,entry:e})})(e),className:"inline-flex items-center gap-1 rounded-lg border border-[var(--line)] px-3 py-1.5 text-xs font-medium text-[var(--text)] transition hover:bg-white/5",children:[(0,dm.jsx)(lM,{className:"w-4 h-4"}),"Editar"]}),(0,dm.jsxs)("button",{type:"button",onClick:()=>(async e=>{if(null===e||void 0===e||!e.id)return;if("undefined"===typeof window||window.confirm(`Deseja remover o registro "${e.model||"Perif\xe9rico"}"?`))try{await Rp(Sf(hm,"peripherals",e.id)),Rg({type:"success",message:"Registro removido."}),m.open&&g({open:!1,entry:null})}catch(t){console.error("Erro ao remover perif\xe9rico:",t),Rg({type:"error",message:"N\xe3o foi poss\xedvel remover o registro.",description:null===t||void 0===t?void 0:t.message})}})(e),className:"inline-flex items-center gap-1 rounded-lg border border-rose-500/40 px-3 py-1.5 text-xs font-medium text-rose-300 transition hover:bg-rose-500/10",children:[(0,dm.jsx)(Im,{className:"w-4 h-4"}),"Remover"]})]})})]},e.id)}))})]})}),(0,dm.jsx)("footer",{className:"border-t border-[var(--line)] px-6 py-4 text-right",children:(0,dm.jsx)("button",{onClick:C,className:"rounded-lg border border-[var(--line)] px-4 py-2 text-[var(--text)] transition hover:bg-white/5",children:"Fechar"})})]})}),m.open&&(0,dm.jsx)("div",{className:"fixed inset-0 z-[130] flex items-center justify-center bg-black/70 p-4 backdrop-blur-sm",children:(0,dm.jsxs)("div",{className:"w-full max-w-lg rounded-2xl border border-[var(--line)] bg-[var(--bg-card)] shadow-xl",children:[(0,dm.jsxs)("header",{className:"flex items-center justify-between border-b border-[var(--line)] px-6 py-4",children:[(0,dm.jsxs)("div",{children:[(0,dm.jsx)("h2",{className:"text-xl font-semibold text-[var(--text)]",children:"Editar perif\xe9rico"}),(0,dm.jsx)("p",{className:"text-sm text-[var(--text-muted)]",children:"Ajuste o modelo, e-mail ou quantidade."})]}),(0,dm.jsx)("button",{onClick:()=>g({open:!1,entry:null}),className:"rounded-lg border border-transparent p-2 text-[var(--text-muted)] transition hover:border-[var(--line)] hover:bg-white/5 hover:text-white",children:"\xd7"})]}),(0,dm.jsxs)("form",{onSubmit:async e=>{var t;if(e.preventDefault(),null===(t=m.entry)||void 0===t||!t.id)return;const n=T.model.trim(),r=T.email.trim(),a=Number(T.quantity);if(!n||!Number.isFinite(a)||a<=0)Rg({type:"error",message:"Informe modelo e quantidade v\xe1lida."});else try{await Ip(Sf(hm,"peripherals",m.entry.id),{model:n,...r?{email:r}:{email:""},quantity:a,updatedAt:jp()}),Rg({type:"success",message:"Registro atualizado."}),g({open:!1,entry:null})}catch(s){console.error("Erro ao atualizar perif\xe9rico:",s),Rg({type:"error",message:"N\xe3o foi poss\xedvel atualizar o registro.",description:null===s||void 0===s?void 0:s.message})}},className:"space-y-4 px-6 py-5",children:[(0,dm.jsxs)("label",{className:"flex flex-col gap-1 text-sm text-[var(--text-muted)]",children:["Modelo",(0,dm.jsx)("input",{value:T.model,onChange:e=>k((t=>({...t,model:e.target.value}))),className:"input-neon",required:!0})]}),(0,dm.jsxs)("label",{className:"flex flex-col gap-1 text-sm text-[var(--text-muted)]",children:["E-mail (opcional)",(0,dm.jsx)("input",{type:"email",value:T.email,onChange:e=>k((t=>({...t,email:e.target.value}))),className:"input-neon"})]}),(0,dm.jsxs)("label",{className:"flex flex-col gap-1 text-sm text-[var(--text-muted)]",children:["Quantidade",(0,dm.jsx)("input",{type:"number",min:1,value:T.quantity,onChange:e=>k((t=>({...t,quantity:e.target.value}))),className:"input-neon",required:!0})]}),(0,dm.jsxs)("div",{className:"flex items-center justify-end gap-3 pt-2 border-t border-[var(--line)]",children:[(0,dm.jsx)("button",{type:"button",onClick:()=>g({open:!1,entry:null}),className:"rounded-lg border border-[var(--line)] px-4 py-2 text-[var(--text)] transition hover:bg-white/5",children:"Cancelar"}),(0,dm.jsx)("button",{type:"submit",className:"inline-flex items-center gap-2 rounded-lg border border-[var(--accent)]/60 bg-[var(--accent)]/10 px-4 py-2 font-semibold text-[var(--accent)] transition hover:bg-[var(--accent)]/20",children:"Salvar altera\xe7\xf5es"})]})]})]})})]})}function Ej(e){let{children:t}=e;const{usuario:n}=Xk(),[a,s]=(0,r.useState)((()=>{try{return"1"===localStorage.getItem("sidebar:collapsed")}catch{return!1}})),[i,o]=(0,r.useState)((()=>{try{return"light"===localStorage.getItem("app:theme")?"light":"dark"}catch{return"dark"}})),[l,c]=(0,r.useState)(!1),u=(0,r.useRef)(null);(0,r.useEffect)((()=>{try{localStorage.setItem("sidebar:collapsed",a?"1":"0")}catch{}}),[a]),(0,r.useEffect)((()=>{if(null===n||void 0===n||!n.uid){u.current=null,c(!0);try{const e=localStorage.getItem("app:theme");"light"!==e&&"dark"!==e||o(e)}catch{}return}c(!1);const e=Op(Sf(hm,"userPreferences",n.uid),(e=>{var t;const n=e.exists()&&"light"===(null===(t=e.data())||void 0===t?void 0:t.theme)?"light":"dark";u.current=n,o(n),c(!0)}),(e=>{console.error("N\xe3o foi poss\xedvel carregar tema do usu\xe1rio:",e),u.current="dark",o("dark"),c(!0)}));return()=>e()}),[null===n||void 0===n?void 0:n.uid]),(0,r.useEffect)((()=>{try{localStorage.setItem("app:theme",i)}catch{}if(null===n||void 0===n||!n.uid)return;if(!l)return;if(u.current===i)return;Ap(Sf(hm,"userPreferences",n.uid),{theme:i},{merge:!0}).then((()=>{u.current=i})).catch((e=>{console.error("Erro ao salvar tema do usu\xe1rio:",e)}))}),[i,null===n||void 0===n?void 0:n.uid,l]),(0,r.useEffect)((()=>{const e=document.documentElement;e.classList.remove("theme-dark","theme-light"),e.classList.add("light"===i?"theme-light":"theme-dark")}),[i]);const h=()=>s((e=>!e)),d="light"===i?{background:"rgba(255,255,255,0.96)",color:"#331728",border:"1px solid rgba(225,29,116,0.18)"}:{background:"rgba(15,15,23,0.95)",color:"#fff",border:"1px solid rgba(255,255,255,0.08)"};return(0,dm.jsxs)(Yk.Provider,{value:{collapsed:a,setCollapsed:s,toggle:h,theme:i,setTheme:o},children:[(0,dm.jsx)(Ng,{position:"top-right",toastOptions:{duration:4e3,style:d}}),(0,dm.jsxs)("div",{className:"min-h-screen flex flex-col bg-[var(--bg)] text-[var(--text)]",children:[(0,dm.jsx)(cS,{}),(0,dm.jsxs)("div",{className:"flex flex-1",children:[(0,dm.jsxs)("aside",{className:"relative border-r border-[var(--line)] bg-[var(--bg-soft)] transition-[width] duration-200 "+(a?"w-16":"w-[260px]"),children:[(0,dm.jsx)("button",{onClick:h,"aria-label":a?"Expandir menu":"Recolher menu",className:"absolute -right-3 top-16 z-20 rounded-full bg-[var(--bg-card)] border border-[var(--line)] p-1.5 shadow hover:brightness-110",title:a?"Mostrar menu":"Esconder menu",children:a?(0,dm.jsx)(ES,{className:"w-4 h-4 text-[var(--accent)]"}):(0,dm.jsx)(mj,{className:"w-4 h-4 text-[var(--accent)]"})}),(0,dm.jsx)(vS,{collapsed:a})]}),(0,dm.jsx)("main",{className:"flex-1 p-4 transition-[max-width] duration-200 ease-in-out",children:t})]})]})]})}function Tj(e){let{children:t}=e;const{usuario:n}=Xk();return n?(0,dm.jsx)(Ej,{children:t}):(0,dm.jsx)(ge,{to:"/login"})}const kj=function(){return(0,dm.jsx)(Ze,{children:(0,dm.jsx)(Kk,{children:(0,dm.jsxs)(be,{children:[(0,dm.jsx)(ve,{path:"/login",element:(0,dm.jsx)(pm,{})}),(0,dm.jsx)(ve,{path:"/",element:(0,dm.jsx)(Tj,{children:(0,dm.jsx)(bS,{})})}),(0,dm.jsx)(ve,{path:"/inventory",element:(0,dm.jsx)(Tj,{children:(0,dm.jsx)(tS,{})})}),(0,dm.jsx)(ve,{path:"/peripherals",element:(0,dm.jsx)(Tj,{children:(0,dm.jsx)(wj,{})})}),(0,dm.jsx)(ve,{path:"/sp",element:(0,dm.jsx)(Tj,{children:(0,dm.jsx)(nS,{})})}),(0,dm.jsx)(ve,{path:"/rio",element:(0,dm.jsx)(Tj,{children:(0,dm.jsx)(rS,{})})}),(0,dm.jsx)(ve,{path:"/jp",element:(0,dm.jsx)(Tj,{children:(0,dm.jsx)(aS,{})})}),(0,dm.jsx)(ve,{path:"/onboarding",element:(0,dm.jsx)(Tj,{children:(0,dm.jsx)(AS,{})})}),(0,dm.jsx)(ve,{path:"/ou",element:(0,dm.jsx)(Tj,{children:(0,dm.jsx)(sS,{})})}),(0,dm.jsx)(ve,{path:"/docs",element:(0,dm.jsx)(Tj,{children:(0,dm.jsx)(IS,{})})}),(0,dm.jsx)(ve,{path:"/importar-onboardings",element:(0,dm.jsx)(Tj,{children:(0,dm.jsx)(oM,{})})}),(0,dm.jsx)(ve,{path:"/weekly-tasks",element:(0,dm.jsx)(Tj,{children:(0,dm.jsx)(uM,{})})}),(0,dm.jsx)(ve,{path:"/weekly-tasks/finalizadas",element:(0,dm.jsx)(Tj,{children:(0,dm.jsx)(pM,{})})}),(0,dm.jsx)(ve,{path:"/equipment-movement",element:(0,dm.jsx)(Tj,{children:(0,dm.jsx)(dM,{})})}),(0,dm.jsx)(ve,{path:"/equipment-movement/sp",element:(0,dm.jsx)(Tj,{children:(0,dm.jsx)(_M,{office:"S\xe3o Paulo"})})}),(0,dm.jsx)(ve,{path:"/equipment-movement/rio",element:(0,dm.jsx)(Tj,{children:(0,dm.jsx)(_M,{office:"Rio de Janeiro"})})}),(0,dm.jsx)(ve,{path:"/equipment-movement/jp",element:(0,dm.jsx)(Tj,{children:(0,dm.jsx)(_M,{office:"Jo\xe3o Pessoa"})})}),(0,dm.jsx)(ve,{path:"/licenses",element:(0,dm.jsx)(Tj,{children:(0,dm.jsx)(dj,{})})}),(0,dm.jsx)(ve,{path:"/licencas",element:(0,dm.jsx)(ge,{to:"/licenses",replace:!0})}),(0,dm.jsx)(ve,{path:"/downloads",element:(0,dm.jsx)(Tj,{children:(0,dm.jsx)(pj,{})})}),(0,dm.jsx)(ve,{path:"/settings",element:(0,dm.jsx)(Tj,{children:(0,dm.jsx)(lj,{})})}),(0,dm.jsx)(ve,{path:"/config",element:(0,dm.jsx)(ge,{to:"/settings",replace:!0})})]})})})};a.createRoot(document.getElementById("root")).render((0,dm.jsx)(r.StrictMode,{children:(0,dm.jsx)(kj,{})}))})();
//# sourceMappingURL=main.11cfbbea.js.map